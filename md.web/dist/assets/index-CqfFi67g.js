var FN=Object.defineProperty;var WN=(t,n,s)=>n in t?FN(t,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[n]=s;var Dl=(t,n,s)=>WN(t,typeof n!="symbol"?n+"":n,s);function UN(t,n){for(var s=0;s<n.length;s++){const r=n[s];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in t)){const l=Object.getOwnPropertyDescriptor(r,a);l&&Object.defineProperty(t,a,l.get?l:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function s(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=s(a);fetch(a.href,l)}})();function pb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var hb={exports:{}},Wc={},fb={exports:{}},ct={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $i=Symbol.for("react.element"),KN=Symbol.for("react.portal"),HN=Symbol.for("react.fragment"),VN=Symbol.for("react.strict_mode"),qN=Symbol.for("react.profiler"),YN=Symbol.for("react.provider"),GN=Symbol.for("react.context"),JN=Symbol.for("react.forward_ref"),QN=Symbol.for("react.suspense"),XN=Symbol.for("react.memo"),ZN=Symbol.for("react.lazy"),gx=Symbol.iterator;function ek(t){return t===null||typeof t!="object"?null:(t=gx&&t[gx]||t["@@iterator"],typeof t=="function"?t:null)}var gb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},yb=Object.assign,xb={};function fl(t,n,s){this.props=t,this.context=n,this.refs=xb,this.updater=s||gb}fl.prototype.isReactComponent={};fl.prototype.setState=function(t,n){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,n,"setState")};fl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function vb(){}vb.prototype=fl.prototype;function jp(t,n,s){this.props=t,this.context=n,this.refs=xb,this.updater=s||gb}var bp=jp.prototype=new vb;bp.constructor=jp;yb(bp,fl.prototype);bp.isPureReactComponent=!0;var yx=Array.isArray,jb=Object.prototype.hasOwnProperty,Sp={current:null},bb={key:!0,ref:!0,__self:!0,__source:!0};function Sb(t,n,s){var r,a={},l=null,i=null;if(n!=null)for(r in n.ref!==void 0&&(i=n.ref),n.key!==void 0&&(l=""+n.key),n)jb.call(n,r)&&!bb.hasOwnProperty(r)&&(a[r]=n[r]);var o=arguments.length-2;if(o===1)a.children=s;else if(1<o){for(var d=Array(o),m=0;m<o;m++)d[m]=arguments[m+2];a.children=d}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)a[r]===void 0&&(a[r]=o[r]);return{$$typeof:$i,type:t,key:l,ref:i,props:a,_owner:Sp.current}}function tk(t,n){return{$$typeof:$i,type:t.type,key:n,ref:t.ref,props:t.props,_owner:t._owner}}function Np(t){return typeof t=="object"&&t!==null&&t.$$typeof===$i}function nk(t){var n={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(s){return n[s]})}var xx=/\/+/g;function Jd(t,n){return typeof t=="object"&&t!==null&&t.key!=null?nk(""+t.key):n.toString(36)}function $o(t,n,s,r,a){var l=typeof t;(l==="undefined"||l==="boolean")&&(t=null);var i=!1;if(t===null)i=!0;else switch(l){case"string":case"number":i=!0;break;case"object":switch(t.$$typeof){case $i:case KN:i=!0}}if(i)return i=t,a=a(i),t=r===""?"."+Jd(i,0):r,yx(a)?(s="",t!=null&&(s=t.replace(xx,"$&/")+"/"),$o(a,n,s,"",function(m){return m})):a!=null&&(Np(a)&&(a=tk(a,s+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(xx,"$&/")+"/")+t)),n.push(a)),1;if(i=0,r=r===""?".":r+":",yx(t))for(var o=0;o<t.length;o++){l=t[o];var d=r+Jd(l,o);i+=$o(l,n,s,d,a)}else if(d=ek(t),typeof d=="function")for(t=d.call(t),o=0;!(l=t.next()).done;)l=l.value,d=r+Jd(l,o++),i+=$o(l,n,s,d,a);else if(l==="object")throw n=String(t),Error("Objects are not valid as a React child (found: "+(n==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return i}function no(t,n,s){if(t==null)return t;var r=[],a=0;return $o(t,r,"","",function(l){return n.call(s,l,a++)}),r}function sk(t){if(t._status===-1){var n=t._result;n=n(),n.then(function(s){(t._status===0||t._status===-1)&&(t._status=1,t._result=s)},function(s){(t._status===0||t._status===-1)&&(t._status=2,t._result=s)}),t._status===-1&&(t._status=0,t._result=n)}if(t._status===1)return t._result.default;throw t._result}var Mn={current:null},_o={transition:null},rk={ReactCurrentDispatcher:Mn,ReactCurrentBatchConfig:_o,ReactCurrentOwner:Sp};function Nb(){throw Error("act(...) is not supported in production builds of React.")}ct.Children={map:no,forEach:function(t,n,s){no(t,function(){n.apply(this,arguments)},s)},count:function(t){var n=0;return no(t,function(){n++}),n},toArray:function(t){return no(t,function(n){return n})||[]},only:function(t){if(!Np(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ct.Component=fl;ct.Fragment=HN;ct.Profiler=qN;ct.PureComponent=jp;ct.StrictMode=VN;ct.Suspense=QN;ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rk;ct.act=Nb;ct.cloneElement=function(t,n,s){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=yb({},t.props),a=t.key,l=t.ref,i=t._owner;if(n!=null){if(n.ref!==void 0&&(l=n.ref,i=Sp.current),n.key!==void 0&&(a=""+n.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(d in n)jb.call(n,d)&&!bb.hasOwnProperty(d)&&(r[d]=n[d]===void 0&&o!==void 0?o[d]:n[d])}var d=arguments.length-2;if(d===1)r.children=s;else if(1<d){o=Array(d);for(var m=0;m<d;m++)o[m]=arguments[m+2];r.children=o}return{$$typeof:$i,type:t.type,key:a,ref:l,props:r,_owner:i}};ct.createContext=function(t){return t={$$typeof:GN,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:YN,_context:t},t.Consumer=t};ct.createElement=Sb;ct.createFactory=function(t){var n=Sb.bind(null,t);return n.type=t,n};ct.createRef=function(){return{current:null}};ct.forwardRef=function(t){return{$$typeof:JN,render:t}};ct.isValidElement=Np;ct.lazy=function(t){return{$$typeof:ZN,_payload:{_status:-1,_result:t},_init:sk}};ct.memo=function(t,n){return{$$typeof:XN,type:t,compare:n===void 0?null:n}};ct.startTransition=function(t){var n=_o.transition;_o.transition={};try{t()}finally{_o.transition=n}};ct.unstable_act=Nb;ct.useCallback=function(t,n){return Mn.current.useCallback(t,n)};ct.useContext=function(t){return Mn.current.useContext(t)};ct.useDebugValue=function(){};ct.useDeferredValue=function(t){return Mn.current.useDeferredValue(t)};ct.useEffect=function(t,n){return Mn.current.useEffect(t,n)};ct.useId=function(){return Mn.current.useId()};ct.useImperativeHandle=function(t,n,s){return Mn.current.useImperativeHandle(t,n,s)};ct.useInsertionEffect=function(t,n){return Mn.current.useInsertionEffect(t,n)};ct.useLayoutEffect=function(t,n){return Mn.current.useLayoutEffect(t,n)};ct.useMemo=function(t,n){return Mn.current.useMemo(t,n)};ct.useReducer=function(t,n,s){return Mn.current.useReducer(t,n,s)};ct.useRef=function(t){return Mn.current.useRef(t)};ct.useState=function(t){return Mn.current.useState(t)};ct.useSyncExternalStore=function(t,n,s){return Mn.current.useSyncExternalStore(t,n,s)};ct.useTransition=function(){return Mn.current.useTransition()};ct.version="18.3.1";fb.exports=ct;var c=fb.exports;const Cs=pb(c),rc=UN({__proto__:null,default:Cs},[c]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ak=c,lk=Symbol.for("react.element"),ik=Symbol.for("react.fragment"),ok=Object.prototype.hasOwnProperty,ck=ak.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,dk={key:!0,ref:!0,__self:!0,__source:!0};function kb(t,n,s){var r,a={},l=null,i=null;s!==void 0&&(l=""+s),n.key!==void 0&&(l=""+n.key),n.ref!==void 0&&(i=n.ref);for(r in n)ok.call(n,r)&&!dk.hasOwnProperty(r)&&(a[r]=n[r]);if(t&&t.defaultProps)for(r in n=t.defaultProps,n)a[r]===void 0&&(a[r]=n[r]);return{$$typeof:lk,type:t,key:l,ref:i,props:a,_owner:ck.current}}Wc.Fragment=ik;Wc.jsx=kb;Wc.jsxs=kb;hb.exports=Wc;var e=hb.exports,Zu={},Cb={exports:{}},es={},wb={exports:{}},Tb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function n(Q,le){var ye=Q.length;Q.push(le);e:for(;0<ye;){var E=ye-1>>>1,D=Q[E];if(0<a(D,le))Q[E]=le,Q[ye]=D,ye=E;else break e}}function s(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var le=Q[0],ye=Q.pop();if(ye!==le){Q[0]=ye;e:for(var E=0,D=Q.length,G=D>>>1;E<G;){var U=2*(E+1)-1,H=Q[U],oe=U+1,te=Q[oe];if(0>a(H,ye))oe<D&&0>a(te,H)?(Q[E]=te,Q[oe]=ye,E=oe):(Q[E]=H,Q[U]=ye,E=U);else if(oe<D&&0>a(te,ye))Q[E]=te,Q[oe]=ye,E=oe;else break e}}return le}function a(Q,le){var ye=Q.sortIndex-le.sortIndex;return ye!==0?ye:Q.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var i=Date,o=i.now();t.unstable_now=function(){return i.now()-o}}var d=[],m=[],p=1,g=null,h=3,k=!1,x=!1,w=!1,N=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(Q){for(var le=s(m);le!==null;){if(le.callback===null)r(m);else if(le.startTime<=Q)r(m),le.sortIndex=le.expirationTime,n(d,le);else break;le=s(m)}}function y(Q){if(w=!1,b(Q),!x)if(s(d)!==null)x=!0,_(S);else{var le=s(m);le!==null&&fe(y,le.startTime-Q)}}function S(Q,le){x=!1,w&&(w=!1,f(P),P=-1),k=!0;var ye=h;try{for(b(le),g=s(d);g!==null&&(!(g.expirationTime>le)||Q&&!q());){var E=g.callback;if(typeof E=="function"){g.callback=null,h=g.priorityLevel;var D=E(g.expirationTime<=le);le=t.unstable_now(),typeof D=="function"?g.callback=D:g===s(d)&&r(d),b(le)}else r(d);g=s(d)}if(g!==null)var G=!0;else{var U=s(m);U!==null&&fe(y,U.startTime-le),G=!1}return G}finally{g=null,h=ye,k=!1}}var j=!1,z=null,P=-1,$=5,B=-1;function q(){return!(t.unstable_now()-B<$)}function C(){if(z!==null){var Q=t.unstable_now();B=Q;var le=!0;try{le=z(!0,Q)}finally{le?Z():(j=!1,z=null)}}else j=!1}var Z;if(typeof v=="function")Z=function(){v(C)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,O=A.port2;A.port1.onmessage=C,Z=function(){O.postMessage(null)}}else Z=function(){N(C,0)};function _(Q){z=Q,j||(j=!0,Z())}function fe(Q,le){P=N(function(){Q(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_continueExecution=function(){x||k||(x=!0,_(S))},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return s(d)},t.unstable_next=function(Q){switch(h){case 1:case 2:case 3:var le=3;break;default:le=h}var ye=h;h=le;try{return Q()}finally{h=ye}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Q,le){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ye=h;h=Q;try{return le()}finally{h=ye}},t.unstable_scheduleCallback=function(Q,le,ye){var E=t.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?E+ye:E):ye=E,Q){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=ye+D,Q={id:p++,callback:le,priorityLevel:Q,startTime:ye,expirationTime:D,sortIndex:-1},ye>E?(Q.sortIndex=ye,n(m,Q),s(d)===null&&Q===s(m)&&(w?(f(P),P=-1):w=!0,fe(y,ye-E))):(Q.sortIndex=D,n(d,Q),x||k||(x=!0,_(S))),Q},t.unstable_shouldYield=q,t.unstable_wrapCallback=function(Q){var le=h;return function(){var ye=h;h=le;try{return Q.apply(this,arguments)}finally{h=ye}}}})(Tb);wb.exports=Tb;var uk=wb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mk=c,Zn=uk;function Ee(t){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+t,s=1;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var zb=new Set,fi={};function xa(t,n){ll(t,n),ll(t+"Capture",n)}function ll(t,n){for(fi[t]=n,t=0;t<n.length;t++)zb.add(n[t])}var ir=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),em=Object.prototype.hasOwnProperty,pk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vx={},jx={};function hk(t){return em.call(jx,t)?!0:em.call(vx,t)?!1:pk.test(t)?jx[t]=!0:(vx[t]=!0,!1)}function fk(t,n,s,r){if(s!==null&&s.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return r?!1:s!==null?!s.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function gk(t,n,s,r){if(n===null||typeof n>"u"||fk(t,n,s,r))return!0;if(r)return!1;if(s!==null)switch(s.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function Pn(t,n,s,r,a,l,i){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=s,this.propertyName=t,this.type=n,this.sanitizeURL=l,this.removeEmptyString=i}var jn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){jn[t]=new Pn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var n=t[0];jn[n]=new Pn(n,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){jn[t]=new Pn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){jn[t]=new Pn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){jn[t]=new Pn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){jn[t]=new Pn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){jn[t]=new Pn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){jn[t]=new Pn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){jn[t]=new Pn(t,5,!1,t.toLowerCase(),null,!1,!1)});var kp=/[\-:]([a-z])/g;function Cp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var n=t.replace(kp,Cp);jn[n]=new Pn(n,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var n=t.replace(kp,Cp);jn[n]=new Pn(n,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var n=t.replace(kp,Cp);jn[n]=new Pn(n,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){jn[t]=new Pn(t,1,!1,t.toLowerCase(),null,!1,!1)});jn.xlinkHref=new Pn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){jn[t]=new Pn(t,1,!1,t.toLowerCase(),null,!0,!0)});function wp(t,n,s,r){var a=jn.hasOwnProperty(n)?jn[n]:null;(a!==null?a.type!==0:r||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(gk(n,s,a,r)&&(s=null),r||a===null?hk(n)&&(s===null?t.removeAttribute(n):t.setAttribute(n,""+s)):a.mustUseProperty?t[a.propertyName]=s===null?a.type===3?!1:"":s:(n=a.attributeName,r=a.attributeNamespace,s===null?t.removeAttribute(n):(a=a.type,s=a===3||a===4&&s===!0?"":""+s,r?t.setAttributeNS(r,n,s):t.setAttribute(n,s))))}var hr=mk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,so=Symbol.for("react.element"),$a=Symbol.for("react.portal"),_a=Symbol.for("react.fragment"),Tp=Symbol.for("react.strict_mode"),tm=Symbol.for("react.profiler"),Db=Symbol.for("react.provider"),Rb=Symbol.for("react.context"),zp=Symbol.for("react.forward_ref"),nm=Symbol.for("react.suspense"),sm=Symbol.for("react.suspense_list"),Dp=Symbol.for("react.memo"),jr=Symbol.for("react.lazy"),Ab=Symbol.for("react.offscreen"),bx=Symbol.iterator;function Rl(t){return t===null||typeof t!="object"?null:(t=bx&&t[bx]||t["@@iterator"],typeof t=="function"?t:null)}var Ut=Object.assign,Qd;function Gl(t){if(Qd===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Qd=n&&n[1]||""}return`
`+Qd+t}var Xd=!1;function Zd(t,n){if(!t||Xd)return"";Xd=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(m){var r=m}Reflect.construct(t,[],n)}else{try{n.call()}catch(m){r=m}t.call(n.prototype)}else{try{throw Error()}catch(m){r=m}t()}}catch(m){if(m&&r&&typeof m.stack=="string"){for(var a=m.stack.split(`
`),l=r.stack.split(`
`),i=a.length-1,o=l.length-1;1<=i&&0<=o&&a[i]!==l[o];)o--;for(;1<=i&&0<=o;i--,o--)if(a[i]!==l[o]){if(i!==1||o!==1)do if(i--,o--,0>o||a[i]!==l[o]){var d=`
`+a[i].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=i&&0<=o);break}}}finally{Xd=!1,Error.prepareStackTrace=s}return(t=t?t.displayName||t.name:"")?Gl(t):""}function yk(t){switch(t.tag){case 5:return Gl(t.type);case 16:return Gl("Lazy");case 13:return Gl("Suspense");case 19:return Gl("SuspenseList");case 0:case 2:case 15:return t=Zd(t.type,!1),t;case 11:return t=Zd(t.type.render,!1),t;case 1:return t=Zd(t.type,!0),t;default:return""}}function rm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _a:return"Fragment";case $a:return"Portal";case tm:return"Profiler";case Tp:return"StrictMode";case nm:return"Suspense";case sm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Rb:return(t.displayName||"Context")+".Consumer";case Db:return(t._context.displayName||"Context")+".Provider";case zp:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Dp:return n=t.displayName||null,n!==null?n:rm(t.type)||"Memo";case jr:n=t._payload,t=t._init;try{return rm(t(n))}catch{}}return null}function xk(t){var n=t.type;switch(t.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=n.render,t=t.displayName||t.name||"",n.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return rm(n);case 8:return n===Tp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function Br(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Eb(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function vk(t){var n=Eb(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),r=""+t[n];if(!t.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var a=s.get,l=s.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return a.call(this)},set:function(i){r=""+i,l.call(this,i)}}),Object.defineProperty(t,n,{enumerable:s.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function ro(t){t._valueTracker||(t._valueTracker=vk(t))}function Ib(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),r="";return t&&(r=Eb(t)?t.checked?"true":"false":t.value),t=r,t!==s?(n.setValue(t),!0):!1}function ac(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function am(t,n){var s=n.checked;return Ut({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??t._wrapperState.initialChecked})}function Sx(t,n){var s=n.defaultValue==null?"":n.defaultValue,r=n.checked!=null?n.checked:n.defaultChecked;s=Br(n.value!=null?n.value:s),t._wrapperState={initialChecked:r,initialValue:s,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function Mb(t,n){n=n.checked,n!=null&&wp(t,"checked",n,!1)}function lm(t,n){Mb(t,n);var s=Br(n.value),r=n.type;if(s!=null)r==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+s):t.value!==""+s&&(t.value=""+s);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}n.hasOwnProperty("value")?im(t,n.type,s):n.hasOwnProperty("defaultValue")&&im(t,n.type,Br(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(t.defaultChecked=!!n.defaultChecked)}function Nx(t,n,s){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var r=n.type;if(!(r!=="submit"&&r!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+t._wrapperState.initialValue,s||n===t.value||(t.value=n),t.defaultValue=n}s=t.name,s!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,s!==""&&(t.name=s)}function im(t,n,s){(n!=="number"||ac(t.ownerDocument)!==t)&&(s==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+s&&(t.defaultValue=""+s))}var Jl=Array.isArray;function Qa(t,n,s,r){if(t=t.options,n){n={};for(var a=0;a<s.length;a++)n["$"+s[a]]=!0;for(s=0;s<t.length;s++)a=n.hasOwnProperty("$"+t[s].value),t[s].selected!==a&&(t[s].selected=a),a&&r&&(t[s].defaultSelected=!0)}else{for(s=""+Br(s),n=null,a=0;a<t.length;a++){if(t[a].value===s){t[a].selected=!0,r&&(t[a].defaultSelected=!0);return}n!==null||t[a].disabled||(n=t[a])}n!==null&&(n.selected=!0)}}function om(t,n){if(n.dangerouslySetInnerHTML!=null)throw Error(Ee(91));return Ut({},n,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function kx(t,n){var s=n.value;if(s==null){if(s=n.children,n=n.defaultValue,s!=null){if(n!=null)throw Error(Ee(92));if(Jl(s)){if(1<s.length)throw Error(Ee(93));s=s[0]}n=s}n==null&&(n=""),s=n}t._wrapperState={initialValue:Br(s)}}function Pb(t,n){var s=Br(n.value),r=Br(n.defaultValue);s!=null&&(s=""+s,s!==t.value&&(t.value=s),n.defaultValue==null&&t.defaultValue!==s&&(t.defaultValue=s)),r!=null&&(t.defaultValue=""+r)}function Cx(t){var n=t.textContent;n===t._wrapperState.initialValue&&n!==""&&n!==null&&(t.value=n)}function Lb(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function cm(t,n){return t==null||t==="http://www.w3.org/1999/xhtml"?Lb(n):t==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ao,Bb=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,s,r,a){MSApp.execUnsafeLocalFunction(function(){return t(n,s,r,a)})}:t}(function(t,n){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=n;else{for(ao=ao||document.createElement("div"),ao.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=ao.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;n.firstChild;)t.appendChild(n.firstChild)}});function gi(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var si={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jk=["Webkit","ms","Moz","O"];Object.keys(si).forEach(function(t){jk.forEach(function(n){n=n+t.charAt(0).toUpperCase()+t.substring(1),si[n]=si[t]})});function Ob(t,n,s){return n==null||typeof n=="boolean"||n===""?"":s||typeof n!="number"||n===0||si.hasOwnProperty(t)&&si[t]?(""+n).trim():n+"px"}function $b(t,n){t=t.style;for(var s in n)if(n.hasOwnProperty(s)){var r=s.indexOf("--")===0,a=Ob(s,n[s],r);s==="float"&&(s="cssFloat"),r?t.setProperty(s,a):t[s]=a}}var bk=Ut({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function dm(t,n){if(n){if(bk[t]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(Ee(137,t));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(Ee(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(Ee(61))}if(n.style!=null&&typeof n.style!="object")throw Error(Ee(62))}}function um(t,n){if(t.indexOf("-")===-1)return typeof n.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mm=null;function Rp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var pm=null,Xa=null,Za=null;function wx(t){if(t=Wi(t)){if(typeof pm!="function")throw Error(Ee(280));var n=t.stateNode;n&&(n=qc(n),pm(t.stateNode,t.type,n))}}function _b(t){Xa?Za?Za.push(t):Za=[t]:Xa=t}function Fb(){if(Xa){var t=Xa,n=Za;if(Za=Xa=null,wx(t),n)for(t=0;t<n.length;t++)wx(n[t])}}function Wb(t,n){return t(n)}function Ub(){}var eu=!1;function Kb(t,n,s){if(eu)return t(n,s);eu=!0;try{return Wb(t,n,s)}finally{eu=!1,(Xa!==null||Za!==null)&&(Ub(),Fb())}}function yi(t,n){var s=t.stateNode;if(s===null)return null;var r=qc(s);if(r===null)return null;s=r[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(Ee(231,n,typeof s));return s}var hm=!1;if(ir)try{var Al={};Object.defineProperty(Al,"passive",{get:function(){hm=!0}}),window.addEventListener("test",Al,Al),window.removeEventListener("test",Al,Al)}catch{hm=!1}function Sk(t,n,s,r,a,l,i,o,d){var m=Array.prototype.slice.call(arguments,3);try{n.apply(s,m)}catch(p){this.onError(p)}}var ri=!1,lc=null,ic=!1,fm=null,Nk={onError:function(t){ri=!0,lc=t}};function kk(t,n,s,r,a,l,i,o,d){ri=!1,lc=null,Sk.apply(Nk,arguments)}function Ck(t,n,s,r,a,l,i,o,d){if(kk.apply(this,arguments),ri){if(ri){var m=lc;ri=!1,lc=null}else throw Error(Ee(198));ic||(ic=!0,fm=m)}}function va(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,n.flags&4098&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function Hb(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function Tx(t){if(va(t)!==t)throw Error(Ee(188))}function wk(t){var n=t.alternate;if(!n){if(n=va(t),n===null)throw Error(Ee(188));return n!==t?null:t}for(var s=t,r=n;;){var a=s.return;if(a===null)break;var l=a.alternate;if(l===null){if(r=a.return,r!==null){s=r;continue}break}if(a.child===l.child){for(l=a.child;l;){if(l===s)return Tx(a),t;if(l===r)return Tx(a),n;l=l.sibling}throw Error(Ee(188))}if(s.return!==r.return)s=a,r=l;else{for(var i=!1,o=a.child;o;){if(o===s){i=!0,s=a,r=l;break}if(o===r){i=!0,r=a,s=l;break}o=o.sibling}if(!i){for(o=l.child;o;){if(o===s){i=!0,s=l,r=a;break}if(o===r){i=!0,r=l,s=a;break}o=o.sibling}if(!i)throw Error(Ee(189))}}if(s.alternate!==r)throw Error(Ee(190))}if(s.tag!==3)throw Error(Ee(188));return s.stateNode.current===s?t:n}function Vb(t){return t=wk(t),t!==null?qb(t):null}function qb(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var n=qb(t);if(n!==null)return n;t=t.sibling}return null}var Yb=Zn.unstable_scheduleCallback,zx=Zn.unstable_cancelCallback,Tk=Zn.unstable_shouldYield,zk=Zn.unstable_requestPaint,Jt=Zn.unstable_now,Dk=Zn.unstable_getCurrentPriorityLevel,Ap=Zn.unstable_ImmediatePriority,Gb=Zn.unstable_UserBlockingPriority,oc=Zn.unstable_NormalPriority,Rk=Zn.unstable_LowPriority,Jb=Zn.unstable_IdlePriority,Uc=null,Ws=null;function Ak(t){if(Ws&&typeof Ws.onCommitFiberRoot=="function")try{Ws.onCommitFiberRoot(Uc,t,void 0,(t.current.flags&128)===128)}catch{}}var ws=Math.clz32?Math.clz32:Mk,Ek=Math.log,Ik=Math.LN2;function Mk(t){return t>>>=0,t===0?32:31-(Ek(t)/Ik|0)|0}var lo=64,io=4194304;function Ql(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function cc(t,n){var s=t.pendingLanes;if(s===0)return 0;var r=0,a=t.suspendedLanes,l=t.pingedLanes,i=s&268435455;if(i!==0){var o=i&~a;o!==0?r=Ql(o):(l&=i,l!==0&&(r=Ql(l)))}else i=s&~a,i!==0?r=Ql(i):l!==0&&(r=Ql(l));if(r===0)return 0;if(n!==0&&n!==r&&!(n&a)&&(a=r&-r,l=n&-n,a>=l||a===16&&(l&4194240)!==0))return n;if(r&4&&(r|=s&16),n=t.entangledLanes,n!==0)for(t=t.entanglements,n&=r;0<n;)s=31-ws(n),a=1<<s,r|=t[s],n&=~a;return r}function Pk(t,n){switch(t){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lk(t,n){for(var s=t.suspendedLanes,r=t.pingedLanes,a=t.expirationTimes,l=t.pendingLanes;0<l;){var i=31-ws(l),o=1<<i,d=a[i];d===-1?(!(o&s)||o&r)&&(a[i]=Pk(o,n)):d<=n&&(t.expiredLanes|=o),l&=~o}}function gm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Qb(){var t=lo;return lo<<=1,!(lo&4194240)&&(lo=64),t}function tu(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function _i(t,n,s){t.pendingLanes|=n,n!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,n=31-ws(n),t[n]=s}function Bk(t,n){var s=t.pendingLanes&~n;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=n,t.mutableReadLanes&=n,t.entangledLanes&=n,n=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<s;){var a=31-ws(s),l=1<<a;n[a]=0,r[a]=-1,t[a]=-1,s&=~l}}function Ep(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var r=31-ws(s),a=1<<r;a&n|t[r]&n&&(t[r]|=n),s&=~a}}var Tt=0;function Xb(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Zb,Ip,e0,t0,n0,ym=!1,oo=[],Tr=null,zr=null,Dr=null,xi=new Map,vi=new Map,Sr=[],Ok="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dx(t,n){switch(t){case"focusin":case"focusout":Tr=null;break;case"dragenter":case"dragleave":zr=null;break;case"mouseover":case"mouseout":Dr=null;break;case"pointerover":case"pointerout":xi.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":vi.delete(n.pointerId)}}function El(t,n,s,r,a,l){return t===null||t.nativeEvent!==l?(t={blockedOn:n,domEventName:s,eventSystemFlags:r,nativeEvent:l,targetContainers:[a]},n!==null&&(n=Wi(n),n!==null&&Ip(n)),t):(t.eventSystemFlags|=r,n=t.targetContainers,a!==null&&n.indexOf(a)===-1&&n.push(a),t)}function $k(t,n,s,r,a){switch(n){case"focusin":return Tr=El(Tr,t,n,s,r,a),!0;case"dragenter":return zr=El(zr,t,n,s,r,a),!0;case"mouseover":return Dr=El(Dr,t,n,s,r,a),!0;case"pointerover":var l=a.pointerId;return xi.set(l,El(xi.get(l)||null,t,n,s,r,a)),!0;case"gotpointercapture":return l=a.pointerId,vi.set(l,El(vi.get(l)||null,t,n,s,r,a)),!0}return!1}function s0(t){var n=sa(t.target);if(n!==null){var s=va(n);if(s!==null){if(n=s.tag,n===13){if(n=Hb(s),n!==null){t.blockedOn=n,n0(t.priority,function(){e0(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Fo(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=xm(t.domEventName,t.eventSystemFlags,n[0],t.nativeEvent);if(s===null){s=t.nativeEvent;var r=new s.constructor(s.type,s);mm=r,s.target.dispatchEvent(r),mm=null}else return n=Wi(s),n!==null&&Ip(n),t.blockedOn=s,!1;n.shift()}return!0}function Rx(t,n,s){Fo(t)&&s.delete(n)}function _k(){ym=!1,Tr!==null&&Fo(Tr)&&(Tr=null),zr!==null&&Fo(zr)&&(zr=null),Dr!==null&&Fo(Dr)&&(Dr=null),xi.forEach(Rx),vi.forEach(Rx)}function Il(t,n){t.blockedOn===n&&(t.blockedOn=null,ym||(ym=!0,Zn.unstable_scheduleCallback(Zn.unstable_NormalPriority,_k)))}function ji(t){function n(a){return Il(a,t)}if(0<oo.length){Il(oo[0],t);for(var s=1;s<oo.length;s++){var r=oo[s];r.blockedOn===t&&(r.blockedOn=null)}}for(Tr!==null&&Il(Tr,t),zr!==null&&Il(zr,t),Dr!==null&&Il(Dr,t),xi.forEach(n),vi.forEach(n),s=0;s<Sr.length;s++)r=Sr[s],r.blockedOn===t&&(r.blockedOn=null);for(;0<Sr.length&&(s=Sr[0],s.blockedOn===null);)s0(s),s.blockedOn===null&&Sr.shift()}var el=hr.ReactCurrentBatchConfig,dc=!0;function Fk(t,n,s,r){var a=Tt,l=el.transition;el.transition=null;try{Tt=1,Mp(t,n,s,r)}finally{Tt=a,el.transition=l}}function Wk(t,n,s,r){var a=Tt,l=el.transition;el.transition=null;try{Tt=4,Mp(t,n,s,r)}finally{Tt=a,el.transition=l}}function Mp(t,n,s,r){if(dc){var a=xm(t,n,s,r);if(a===null)uu(t,n,r,uc,s),Dx(t,r);else if($k(a,t,n,s,r))r.stopPropagation();else if(Dx(t,r),n&4&&-1<Ok.indexOf(t)){for(;a!==null;){var l=Wi(a);if(l!==null&&Zb(l),l=xm(t,n,s,r),l===null&&uu(t,n,r,uc,s),l===a)break;a=l}a!==null&&r.stopPropagation()}else uu(t,n,r,null,s)}}var uc=null;function xm(t,n,s,r){if(uc=null,t=Rp(r),t=sa(t),t!==null)if(n=va(t),n===null)t=null;else if(s=n.tag,s===13){if(t=Hb(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null);return uc=t,null}function r0(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Dk()){case Ap:return 1;case Gb:return 4;case oc:case Rk:return 16;case Jb:return 536870912;default:return 16}default:return 16}}var kr=null,Pp=null,Wo=null;function a0(){if(Wo)return Wo;var t,n=Pp,s=n.length,r,a="value"in kr?kr.value:kr.textContent,l=a.length;for(t=0;t<s&&n[t]===a[t];t++);var i=s-t;for(r=1;r<=i&&n[s-r]===a[l-r];r++);return Wo=a.slice(t,1<r?1-r:void 0)}function Uo(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function co(){return!0}function Ax(){return!1}function ts(t){function n(s,r,a,l,i){this._reactName=s,this._targetInst=a,this.type=r,this.nativeEvent=l,this.target=i,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(s=t[o],this[o]=s?s(l):l[o]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?co:Ax,this.isPropagationStopped=Ax,this}return Ut(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=co)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=co)},persist:function(){},isPersistent:co}),n}var gl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lp=ts(gl),Fi=Ut({},gl,{view:0,detail:0}),Uk=ts(Fi),nu,su,Ml,Kc=Ut({},Fi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ml&&(Ml&&t.type==="mousemove"?(nu=t.screenX-Ml.screenX,su=t.screenY-Ml.screenY):su=nu=0,Ml=t),nu)},movementY:function(t){return"movementY"in t?t.movementY:su}}),Ex=ts(Kc),Kk=Ut({},Kc,{dataTransfer:0}),Hk=ts(Kk),Vk=Ut({},Fi,{relatedTarget:0}),ru=ts(Vk),qk=Ut({},gl,{animationName:0,elapsedTime:0,pseudoElement:0}),Yk=ts(qk),Gk=Ut({},gl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Jk=ts(Gk),Qk=Ut({},gl,{data:0}),Ix=ts(Qk),Xk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},e2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function t2(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=e2[t])?!!n[t]:!1}function Bp(){return t2}var n2=Ut({},Fi,{key:function(t){if(t.key){var n=Xk[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Uo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Zk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bp,charCode:function(t){return t.type==="keypress"?Uo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Uo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),s2=ts(n2),r2=Ut({},Kc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mx=ts(r2),a2=Ut({},Fi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bp}),l2=ts(a2),i2=Ut({},gl,{propertyName:0,elapsedTime:0,pseudoElement:0}),o2=ts(i2),c2=Ut({},Kc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),d2=ts(c2),u2=[9,13,27,32],Op=ir&&"CompositionEvent"in window,ai=null;ir&&"documentMode"in document&&(ai=document.documentMode);var m2=ir&&"TextEvent"in window&&!ai,l0=ir&&(!Op||ai&&8<ai&&11>=ai),Px=" ",Lx=!1;function i0(t,n){switch(t){case"keyup":return u2.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function o0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Fa=!1;function p2(t,n){switch(t){case"compositionend":return o0(n);case"keypress":return n.which!==32?null:(Lx=!0,Px);case"textInput":return t=n.data,t===Px&&Lx?null:t;default:return null}}function h2(t,n){if(Fa)return t==="compositionend"||!Op&&i0(t,n)?(t=a0(),Wo=Pp=kr=null,Fa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return l0&&n.locale!=="ko"?null:n.data;default:return null}}var f2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bx(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!f2[t.type]:n==="textarea"}function c0(t,n,s,r){_b(r),n=mc(n,"onChange"),0<n.length&&(s=new Lp("onChange","change",null,s,r),t.push({event:s,listeners:n}))}var li=null,bi=null;function g2(t){j0(t,0)}function Hc(t){var n=Ka(t);if(Ib(n))return t}function y2(t,n){if(t==="change")return n}var d0=!1;if(ir){var au;if(ir){var lu="oninput"in document;if(!lu){var Ox=document.createElement("div");Ox.setAttribute("oninput","return;"),lu=typeof Ox.oninput=="function"}au=lu}else au=!1;d0=au&&(!document.documentMode||9<document.documentMode)}function $x(){li&&(li.detachEvent("onpropertychange",u0),bi=li=null)}function u0(t){if(t.propertyName==="value"&&Hc(bi)){var n=[];c0(n,bi,t,Rp(t)),Kb(g2,n)}}function x2(t,n,s){t==="focusin"?($x(),li=n,bi=s,li.attachEvent("onpropertychange",u0)):t==="focusout"&&$x()}function v2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Hc(bi)}function j2(t,n){if(t==="click")return Hc(n)}function b2(t,n){if(t==="input"||t==="change")return Hc(n)}function S2(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var zs=typeof Object.is=="function"?Object.is:S2;function Si(t,n){if(zs(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),r=Object.keys(n);if(s.length!==r.length)return!1;for(r=0;r<s.length;r++){var a=s[r];if(!em.call(n,a)||!zs(t[a],n[a]))return!1}return!0}function _x(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Fx(t,n){var s=_x(t);t=0;for(var r;s;){if(s.nodeType===3){if(r=t+s.textContent.length,t<=n&&r>=n)return{node:s,offset:n-t};t=r}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=_x(s)}}function m0(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?m0(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function p0(){for(var t=window,n=ac();n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=ac(t.document)}return n}function $p(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function N2(t){var n=p0(),s=t.focusedElem,r=t.selectionRange;if(n!==s&&s&&s.ownerDocument&&m0(s.ownerDocument.documentElement,s)){if(r!==null&&$p(s)){if(n=r.start,t=r.end,t===void 0&&(t=n),"selectionStart"in s)s.selectionStart=n,s.selectionEnd=Math.min(t,s.value.length);else if(t=(n=s.ownerDocument||document)&&n.defaultView||window,t.getSelection){t=t.getSelection();var a=s.textContent.length,l=Math.min(r.start,a);r=r.end===void 0?l:Math.min(r.end,a),!t.extend&&l>r&&(a=r,r=l,l=a),a=Fx(s,l);var i=Fx(s,r);a&&i&&(t.rangeCount!==1||t.anchorNode!==a.node||t.anchorOffset!==a.offset||t.focusNode!==i.node||t.focusOffset!==i.offset)&&(n=n.createRange(),n.setStart(a.node,a.offset),t.removeAllRanges(),l>r?(t.addRange(n),t.extend(i.node,i.offset)):(n.setEnd(i.node,i.offset),t.addRange(n)))}}for(n=[],t=s;t=t.parentNode;)t.nodeType===1&&n.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<n.length;s++)t=n[s],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var k2=ir&&"documentMode"in document&&11>=document.documentMode,Wa=null,vm=null,ii=null,jm=!1;function Wx(t,n,s){var r=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;jm||Wa==null||Wa!==ac(r)||(r=Wa,"selectionStart"in r&&$p(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ii&&Si(ii,r)||(ii=r,r=mc(vm,"onSelect"),0<r.length&&(n=new Lp("onSelect","select",null,n,s),t.push({event:n,listeners:r}),n.target=Wa)))}function uo(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var Ua={animationend:uo("Animation","AnimationEnd"),animationiteration:uo("Animation","AnimationIteration"),animationstart:uo("Animation","AnimationStart"),transitionend:uo("Transition","TransitionEnd")},iu={},h0={};ir&&(h0=document.createElement("div").style,"AnimationEvent"in window||(delete Ua.animationend.animation,delete Ua.animationiteration.animation,delete Ua.animationstart.animation),"TransitionEvent"in window||delete Ua.transitionend.transition);function Vc(t){if(iu[t])return iu[t];if(!Ua[t])return t;var n=Ua[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in h0)return iu[t]=n[s];return t}var f0=Vc("animationend"),g0=Vc("animationiteration"),y0=Vc("animationstart"),x0=Vc("transitionend"),v0=new Map,Ux="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _r(t,n){v0.set(t,n),xa(n,[t])}for(var ou=0;ou<Ux.length;ou++){var cu=Ux[ou],C2=cu.toLowerCase(),w2=cu[0].toUpperCase()+cu.slice(1);_r(C2,"on"+w2)}_r(f0,"onAnimationEnd");_r(g0,"onAnimationIteration");_r(y0,"onAnimationStart");_r("dblclick","onDoubleClick");_r("focusin","onFocus");_r("focusout","onBlur");_r(x0,"onTransitionEnd");ll("onMouseEnter",["mouseout","mouseover"]);ll("onMouseLeave",["mouseout","mouseover"]);ll("onPointerEnter",["pointerout","pointerover"]);ll("onPointerLeave",["pointerout","pointerover"]);xa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xa("onBeforeInput",["compositionend","keypress","textInput","paste"]);xa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),T2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xl));function Kx(t,n,s){var r=t.type||"unknown-event";t.currentTarget=s,Ck(r,n,void 0,t),t.currentTarget=null}function j0(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var r=t[s],a=r.event;r=r.listeners;e:{var l=void 0;if(n)for(var i=r.length-1;0<=i;i--){var o=r[i],d=o.instance,m=o.currentTarget;if(o=o.listener,d!==l&&a.isPropagationStopped())break e;Kx(a,o,m),l=d}else for(i=0;i<r.length;i++){if(o=r[i],d=o.instance,m=o.currentTarget,o=o.listener,d!==l&&a.isPropagationStopped())break e;Kx(a,o,m),l=d}}}if(ic)throw t=fm,ic=!1,fm=null,t}function Lt(t,n){var s=n[Cm];s===void 0&&(s=n[Cm]=new Set);var r=t+"__bubble";s.has(r)||(b0(n,t,2,!1),s.add(r))}function du(t,n,s){var r=0;n&&(r|=4),b0(s,t,r,n)}var mo="_reactListening"+Math.random().toString(36).slice(2);function Ni(t){if(!t[mo]){t[mo]=!0,zb.forEach(function(s){s!=="selectionchange"&&(T2.has(s)||du(s,!1,t),du(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[mo]||(n[mo]=!0,du("selectionchange",!1,n))}}function b0(t,n,s,r){switch(r0(n)){case 1:var a=Fk;break;case 4:a=Wk;break;default:a=Mp}s=a.bind(null,n,s,t),a=void 0,!hm||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(a=!0),r?a!==void 0?t.addEventListener(n,s,{capture:!0,passive:a}):t.addEventListener(n,s,!0):a!==void 0?t.addEventListener(n,s,{passive:a}):t.addEventListener(n,s,!1)}function uu(t,n,s,r,a){var l=r;if(!(n&1)&&!(n&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var o=r.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(i===4)for(i=r.return;i!==null;){var d=i.tag;if((d===3||d===4)&&(d=i.stateNode.containerInfo,d===a||d.nodeType===8&&d.parentNode===a))return;i=i.return}for(;o!==null;){if(i=sa(o),i===null)return;if(d=i.tag,d===5||d===6){r=l=i;continue e}o=o.parentNode}}r=r.return}Kb(function(){var m=l,p=Rp(s),g=[];e:{var h=v0.get(t);if(h!==void 0){var k=Lp,x=t;switch(t){case"keypress":if(Uo(s)===0)break e;case"keydown":case"keyup":k=s2;break;case"focusin":x="focus",k=ru;break;case"focusout":x="blur",k=ru;break;case"beforeblur":case"afterblur":k=ru;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=Ex;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=Hk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=l2;break;case f0:case g0:case y0:k=Yk;break;case x0:k=o2;break;case"scroll":k=Uk;break;case"wheel":k=d2;break;case"copy":case"cut":case"paste":k=Jk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=Mx}var w=(n&4)!==0,N=!w&&t==="scroll",f=w?h!==null?h+"Capture":null:h;w=[];for(var v=m,b;v!==null;){b=v;var y=b.stateNode;if(b.tag===5&&y!==null&&(b=y,f!==null&&(y=yi(v,f),y!=null&&w.push(ki(v,y,b)))),N)break;v=v.return}0<w.length&&(h=new k(h,x,null,s,p),g.push({event:h,listeners:w}))}}if(!(n&7)){e:{if(h=t==="mouseover"||t==="pointerover",k=t==="mouseout"||t==="pointerout",h&&s!==mm&&(x=s.relatedTarget||s.fromElement)&&(sa(x)||x[or]))break e;if((k||h)&&(h=p.window===p?p:(h=p.ownerDocument)?h.defaultView||h.parentWindow:window,k?(x=s.relatedTarget||s.toElement,k=m,x=x?sa(x):null,x!==null&&(N=va(x),x!==N||x.tag!==5&&x.tag!==6)&&(x=null)):(k=null,x=m),k!==x)){if(w=Ex,y="onMouseLeave",f="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(w=Mx,y="onPointerLeave",f="onPointerEnter",v="pointer"),N=k==null?h:Ka(k),b=x==null?h:Ka(x),h=new w(y,v+"leave",k,s,p),h.target=N,h.relatedTarget=b,y=null,sa(p)===m&&(w=new w(f,v+"enter",x,s,p),w.target=b,w.relatedTarget=N,y=w),N=y,k&&x)t:{for(w=k,f=x,v=0,b=w;b;b=wa(b))v++;for(b=0,y=f;y;y=wa(y))b++;for(;0<v-b;)w=wa(w),v--;for(;0<b-v;)f=wa(f),b--;for(;v--;){if(w===f||f!==null&&w===f.alternate)break t;w=wa(w),f=wa(f)}w=null}else w=null;k!==null&&Hx(g,h,k,w,!1),x!==null&&N!==null&&Hx(g,N,x,w,!0)}}e:{if(h=m?Ka(m):window,k=h.nodeName&&h.nodeName.toLowerCase(),k==="select"||k==="input"&&h.type==="file")var S=y2;else if(Bx(h))if(d0)S=b2;else{S=v2;var j=x2}else(k=h.nodeName)&&k.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=j2);if(S&&(S=S(t,m))){c0(g,S,s,p);break e}j&&j(t,h,m),t==="focusout"&&(j=h._wrapperState)&&j.controlled&&h.type==="number"&&im(h,"number",h.value)}switch(j=m?Ka(m):window,t){case"focusin":(Bx(j)||j.contentEditable==="true")&&(Wa=j,vm=m,ii=null);break;case"focusout":ii=vm=Wa=null;break;case"mousedown":jm=!0;break;case"contextmenu":case"mouseup":case"dragend":jm=!1,Wx(g,s,p);break;case"selectionchange":if(k2)break;case"keydown":case"keyup":Wx(g,s,p)}var z;if(Op)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Fa?i0(t,s)&&(P="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(P="onCompositionStart");P&&(l0&&s.locale!=="ko"&&(Fa||P!=="onCompositionStart"?P==="onCompositionEnd"&&Fa&&(z=a0()):(kr=p,Pp="value"in kr?kr.value:kr.textContent,Fa=!0)),j=mc(m,P),0<j.length&&(P=new Ix(P,t,null,s,p),g.push({event:P,listeners:j}),z?P.data=z:(z=o0(s),z!==null&&(P.data=z)))),(z=m2?p2(t,s):h2(t,s))&&(m=mc(m,"onBeforeInput"),0<m.length&&(p=new Ix("onBeforeInput","beforeinput",null,s,p),g.push({event:p,listeners:m}),p.data=z))}j0(g,n)})}function ki(t,n,s){return{instance:t,listener:n,currentTarget:s}}function mc(t,n){for(var s=n+"Capture",r=[];t!==null;){var a=t,l=a.stateNode;a.tag===5&&l!==null&&(a=l,l=yi(t,s),l!=null&&r.unshift(ki(t,l,a)),l=yi(t,n),l!=null&&r.push(ki(t,l,a))),t=t.return}return r}function wa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Hx(t,n,s,r,a){for(var l=n._reactName,i=[];s!==null&&s!==r;){var o=s,d=o.alternate,m=o.stateNode;if(d!==null&&d===r)break;o.tag===5&&m!==null&&(o=m,a?(d=yi(s,l),d!=null&&i.unshift(ki(s,d,o))):a||(d=yi(s,l),d!=null&&i.push(ki(s,d,o)))),s=s.return}i.length!==0&&t.push({event:n,listeners:i})}var z2=/\r\n?/g,D2=/\u0000|\uFFFD/g;function Vx(t){return(typeof t=="string"?t:""+t).replace(z2,`
`).replace(D2,"")}function po(t,n,s){if(n=Vx(n),Vx(t)!==n&&s)throw Error(Ee(425))}function pc(){}var bm=null,Sm=null;function Nm(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var km=typeof setTimeout=="function"?setTimeout:void 0,R2=typeof clearTimeout=="function"?clearTimeout:void 0,qx=typeof Promise=="function"?Promise:void 0,A2=typeof queueMicrotask=="function"?queueMicrotask:typeof qx<"u"?function(t){return qx.resolve(null).then(t).catch(E2)}:km;function E2(t){setTimeout(function(){throw t})}function mu(t,n){var s=n,r=0;do{var a=s.nextSibling;if(t.removeChild(s),a&&a.nodeType===8)if(s=a.data,s==="/$"){if(r===0){t.removeChild(a),ji(n);return}r--}else s!=="$"&&s!=="$?"&&s!=="$!"||r++;s=a}while(s);ji(n)}function Rr(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return t}function Yx(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return t;n--}else s==="/$"&&n++}t=t.previousSibling}return null}var yl=Math.random().toString(36).slice(2),Fs="__reactFiber$"+yl,Ci="__reactProps$"+yl,or="__reactContainer$"+yl,Cm="__reactEvents$"+yl,I2="__reactListeners$"+yl,M2="__reactHandles$"+yl;function sa(t){var n=t[Fs];if(n)return n;for(var s=t.parentNode;s;){if(n=s[or]||s[Fs]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=Yx(t);t!==null;){if(s=t[Fs])return s;t=Yx(t)}return n}t=s,s=t.parentNode}return null}function Wi(t){return t=t[Fs]||t[or],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ka(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Ee(33))}function qc(t){return t[Ci]||null}var wm=[],Ha=-1;function Fr(t){return{current:t}}function Bt(t){0>Ha||(t.current=wm[Ha],wm[Ha]=null,Ha--)}function Pt(t,n){Ha++,wm[Ha]=t.current,t.current=n}var Or={},Tn=Fr(Or),$n=Fr(!1),ma=Or;function il(t,n){var s=t.type.contextTypes;if(!s)return Or;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===n)return r.__reactInternalMemoizedMaskedChildContext;var a={},l;for(l in s)a[l]=n[l];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=n,t.__reactInternalMemoizedMaskedChildContext=a),a}function _n(t){return t=t.childContextTypes,t!=null}function hc(){Bt($n),Bt(Tn)}function Gx(t,n,s){if(Tn.current!==Or)throw Error(Ee(168));Pt(Tn,n),Pt($n,s)}function S0(t,n,s){var r=t.stateNode;if(n=n.childContextTypes,typeof r.getChildContext!="function")return s;r=r.getChildContext();for(var a in r)if(!(a in n))throw Error(Ee(108,xk(t)||"Unknown",a));return Ut({},s,r)}function fc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Or,ma=Tn.current,Pt(Tn,t),Pt($n,$n.current),!0}function Jx(t,n,s){var r=t.stateNode;if(!r)throw Error(Ee(169));s?(t=S0(t,n,ma),r.__reactInternalMemoizedMergedChildContext=t,Bt($n),Bt(Tn),Pt(Tn,t)):Bt($n),Pt($n,s)}var er=null,Yc=!1,pu=!1;function N0(t){er===null?er=[t]:er.push(t)}function P2(t){Yc=!0,N0(t)}function Wr(){if(!pu&&er!==null){pu=!0;var t=0,n=Tt;try{var s=er;for(Tt=1;t<s.length;t++){var r=s[t];do r=r(!0);while(r!==null)}er=null,Yc=!1}catch(a){throw er!==null&&(er=er.slice(t+1)),Yb(Ap,Wr),a}finally{Tt=n,pu=!1}}return null}var Va=[],qa=0,gc=null,yc=0,os=[],cs=0,pa=null,sr=1,rr="";function Gr(t,n){Va[qa++]=yc,Va[qa++]=gc,gc=t,yc=n}function k0(t,n,s){os[cs++]=sr,os[cs++]=rr,os[cs++]=pa,pa=t;var r=sr;t=rr;var a=32-ws(r)-1;r&=~(1<<a),s+=1;var l=32-ws(n)+a;if(30<l){var i=a-a%5;l=(r&(1<<i)-1).toString(32),r>>=i,a-=i,sr=1<<32-ws(n)+a|s<<a|r,rr=l+t}else sr=1<<l|s<<a|r,rr=t}function _p(t){t.return!==null&&(Gr(t,1),k0(t,1,0))}function Fp(t){for(;t===gc;)gc=Va[--qa],Va[qa]=null,yc=Va[--qa],Va[qa]=null;for(;t===pa;)pa=os[--cs],os[cs]=null,rr=os[--cs],os[cs]=null,sr=os[--cs],os[cs]=null}var Qn=null,Jn=null,_t=!1,ks=null;function C0(t,n){var s=ms(5,null,null,0);s.elementType="DELETED",s.stateNode=n,s.return=t,n=t.deletions,n===null?(t.deletions=[s],t.flags|=16):n.push(s)}function Qx(t,n){switch(t.tag){case 5:var s=t.type;return n=n.nodeType!==1||s.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(t.stateNode=n,Qn=t,Jn=Rr(n.firstChild),!0):!1;case 6:return n=t.pendingProps===""||n.nodeType!==3?null:n,n!==null?(t.stateNode=n,Qn=t,Jn=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(s=pa!==null?{id:sr,overflow:rr}:null,t.memoizedState={dehydrated:n,treeContext:s,retryLane:1073741824},s=ms(18,null,null,0),s.stateNode=n,s.return=t,t.child=s,Qn=t,Jn=null,!0):!1;default:return!1}}function Tm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function zm(t){if(_t){var n=Jn;if(n){var s=n;if(!Qx(t,n)){if(Tm(t))throw Error(Ee(418));n=Rr(s.nextSibling);var r=Qn;n&&Qx(t,n)?C0(r,s):(t.flags=t.flags&-4097|2,_t=!1,Qn=t)}}else{if(Tm(t))throw Error(Ee(418));t.flags=t.flags&-4097|2,_t=!1,Qn=t}}}function Xx(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Qn=t}function ho(t){if(t!==Qn)return!1;if(!_t)return Xx(t),_t=!0,!1;var n;if((n=t.tag!==3)&&!(n=t.tag!==5)&&(n=t.type,n=n!=="head"&&n!=="body"&&!Nm(t.type,t.memoizedProps)),n&&(n=Jn)){if(Tm(t))throw w0(),Error(Ee(418));for(;n;)C0(t,n),n=Rr(n.nextSibling)}if(Xx(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Ee(317));e:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"){if(n===0){Jn=Rr(t.nextSibling);break e}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++}t=t.nextSibling}Jn=null}}else Jn=Qn?Rr(t.stateNode.nextSibling):null;return!0}function w0(){for(var t=Jn;t;)t=Rr(t.nextSibling)}function ol(){Jn=Qn=null,_t=!1}function Wp(t){ks===null?ks=[t]:ks.push(t)}var L2=hr.ReactCurrentBatchConfig;function Pl(t,n,s){if(t=s.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(Ee(309));var r=s.stateNode}if(!r)throw Error(Ee(147,t));var a=r,l=""+t;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===l?n.ref:(n=function(i){var o=a.refs;i===null?delete o[l]:o[l]=i},n._stringRef=l,n)}if(typeof t!="string")throw Error(Ee(284));if(!s._owner)throw Error(Ee(290,t))}return t}function fo(t,n){throw t=Object.prototype.toString.call(n),Error(Ee(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t))}function Zx(t){var n=t._init;return n(t._payload)}function T0(t){function n(f,v){if(t){var b=f.deletions;b===null?(f.deletions=[v],f.flags|=16):b.push(v)}}function s(f,v){if(!t)return null;for(;v!==null;)n(f,v),v=v.sibling;return null}function r(f,v){for(f=new Map;v!==null;)v.key!==null?f.set(v.key,v):f.set(v.index,v),v=v.sibling;return f}function a(f,v){return f=Mr(f,v),f.index=0,f.sibling=null,f}function l(f,v,b){return f.index=b,t?(b=f.alternate,b!==null?(b=b.index,b<v?(f.flags|=2,v):b):(f.flags|=2,v)):(f.flags|=1048576,v)}function i(f){return t&&f.alternate===null&&(f.flags|=2),f}function o(f,v,b,y){return v===null||v.tag!==6?(v=ju(b,f.mode,y),v.return=f,v):(v=a(v,b),v.return=f,v)}function d(f,v,b,y){var S=b.type;return S===_a?p(f,v,b.props.children,y,b.key):v!==null&&(v.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===jr&&Zx(S)===v.type)?(y=a(v,b.props),y.ref=Pl(f,v,b),y.return=f,y):(y=Jo(b.type,b.key,b.props,null,f.mode,y),y.ref=Pl(f,v,b),y.return=f,y)}function m(f,v,b,y){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=bu(b,f.mode,y),v.return=f,v):(v=a(v,b.children||[]),v.return=f,v)}function p(f,v,b,y,S){return v===null||v.tag!==7?(v=ca(b,f.mode,y,S),v.return=f,v):(v=a(v,b),v.return=f,v)}function g(f,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=ju(""+v,f.mode,b),v.return=f,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case so:return b=Jo(v.type,v.key,v.props,null,f.mode,b),b.ref=Pl(f,null,v),b.return=f,b;case $a:return v=bu(v,f.mode,b),v.return=f,v;case jr:var y=v._init;return g(f,y(v._payload),b)}if(Jl(v)||Rl(v))return v=ca(v,f.mode,b,null),v.return=f,v;fo(f,v)}return null}function h(f,v,b,y){var S=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return S!==null?null:o(f,v,""+b,y);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case so:return b.key===S?d(f,v,b,y):null;case $a:return b.key===S?m(f,v,b,y):null;case jr:return S=b._init,h(f,v,S(b._payload),y)}if(Jl(b)||Rl(b))return S!==null?null:p(f,v,b,y,null);fo(f,b)}return null}function k(f,v,b,y,S){if(typeof y=="string"&&y!==""||typeof y=="number")return f=f.get(b)||null,o(v,f,""+y,S);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case so:return f=f.get(y.key===null?b:y.key)||null,d(v,f,y,S);case $a:return f=f.get(y.key===null?b:y.key)||null,m(v,f,y,S);case jr:var j=y._init;return k(f,v,b,j(y._payload),S)}if(Jl(y)||Rl(y))return f=f.get(b)||null,p(v,f,y,S,null);fo(v,y)}return null}function x(f,v,b,y){for(var S=null,j=null,z=v,P=v=0,$=null;z!==null&&P<b.length;P++){z.index>P?($=z,z=null):$=z.sibling;var B=h(f,z,b[P],y);if(B===null){z===null&&(z=$);break}t&&z&&B.alternate===null&&n(f,z),v=l(B,v,P),j===null?S=B:j.sibling=B,j=B,z=$}if(P===b.length)return s(f,z),_t&&Gr(f,P),S;if(z===null){for(;P<b.length;P++)z=g(f,b[P],y),z!==null&&(v=l(z,v,P),j===null?S=z:j.sibling=z,j=z);return _t&&Gr(f,P),S}for(z=r(f,z);P<b.length;P++)$=k(z,f,P,b[P],y),$!==null&&(t&&$.alternate!==null&&z.delete($.key===null?P:$.key),v=l($,v,P),j===null?S=$:j.sibling=$,j=$);return t&&z.forEach(function(q){return n(f,q)}),_t&&Gr(f,P),S}function w(f,v,b,y){var S=Rl(b);if(typeof S!="function")throw Error(Ee(150));if(b=S.call(b),b==null)throw Error(Ee(151));for(var j=S=null,z=v,P=v=0,$=null,B=b.next();z!==null&&!B.done;P++,B=b.next()){z.index>P?($=z,z=null):$=z.sibling;var q=h(f,z,B.value,y);if(q===null){z===null&&(z=$);break}t&&z&&q.alternate===null&&n(f,z),v=l(q,v,P),j===null?S=q:j.sibling=q,j=q,z=$}if(B.done)return s(f,z),_t&&Gr(f,P),S;if(z===null){for(;!B.done;P++,B=b.next())B=g(f,B.value,y),B!==null&&(v=l(B,v,P),j===null?S=B:j.sibling=B,j=B);return _t&&Gr(f,P),S}for(z=r(f,z);!B.done;P++,B=b.next())B=k(z,f,P,B.value,y),B!==null&&(t&&B.alternate!==null&&z.delete(B.key===null?P:B.key),v=l(B,v,P),j===null?S=B:j.sibling=B,j=B);return t&&z.forEach(function(C){return n(f,C)}),_t&&Gr(f,P),S}function N(f,v,b,y){if(typeof b=="object"&&b!==null&&b.type===_a&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case so:e:{for(var S=b.key,j=v;j!==null;){if(j.key===S){if(S=b.type,S===_a){if(j.tag===7){s(f,j.sibling),v=a(j,b.props.children),v.return=f,f=v;break e}}else if(j.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===jr&&Zx(S)===j.type){s(f,j.sibling),v=a(j,b.props),v.ref=Pl(f,j,b),v.return=f,f=v;break e}s(f,j);break}else n(f,j);j=j.sibling}b.type===_a?(v=ca(b.props.children,f.mode,y,b.key),v.return=f,f=v):(y=Jo(b.type,b.key,b.props,null,f.mode,y),y.ref=Pl(f,v,b),y.return=f,f=y)}return i(f);case $a:e:{for(j=b.key;v!==null;){if(v.key===j)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){s(f,v.sibling),v=a(v,b.children||[]),v.return=f,f=v;break e}else{s(f,v);break}else n(f,v);v=v.sibling}v=bu(b,f.mode,y),v.return=f,f=v}return i(f);case jr:return j=b._init,N(f,v,j(b._payload),y)}if(Jl(b))return x(f,v,b,y);if(Rl(b))return w(f,v,b,y);fo(f,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(s(f,v.sibling),v=a(v,b),v.return=f,f=v):(s(f,v),v=ju(b,f.mode,y),v.return=f,f=v),i(f)):s(f,v)}return N}var cl=T0(!0),z0=T0(!1),xc=Fr(null),vc=null,Ya=null,Up=null;function Kp(){Up=Ya=vc=null}function Hp(t){var n=xc.current;Bt(xc),t._currentValue=n}function Dm(t,n,s){for(;t!==null;){var r=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,r!==null&&(r.childLanes|=n)):r!==null&&(r.childLanes&n)!==n&&(r.childLanes|=n),t===s)break;t=t.return}}function tl(t,n){vc=t,Up=Ya=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&n&&(On=!0),t.firstContext=null)}function fs(t){var n=t._currentValue;if(Up!==t)if(t={context:t,memoizedValue:n,next:null},Ya===null){if(vc===null)throw Error(Ee(308));Ya=t,vc.dependencies={lanes:0,firstContext:t}}else Ya=Ya.next=t;return n}var ra=null;function Vp(t){ra===null?ra=[t]:ra.push(t)}function D0(t,n,s,r){var a=n.interleaved;return a===null?(s.next=s,Vp(n)):(s.next=a.next,a.next=s),n.interleaved=s,cr(t,r)}function cr(t,n){t.lanes|=n;var s=t.alternate;for(s!==null&&(s.lanes|=n),s=t,t=t.return;t!==null;)t.childLanes|=n,s=t.alternate,s!==null&&(s.childLanes|=n),s=t,t=t.return;return s.tag===3?s.stateNode:null}var br=!1;function qp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function R0(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ar(t,n){return{eventTime:t,lane:n,tag:0,payload:null,callback:null,next:null}}function Ar(t,n,s){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,yt&2){var a=r.pending;return a===null?n.next=n:(n.next=a.next,a.next=n),r.pending=n,cr(t,s)}return a=r.interleaved,a===null?(n.next=n,Vp(r)):(n.next=a.next,a.next=n),r.interleaved=n,cr(t,s)}function Ko(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194240)!==0)){var r=n.lanes;r&=t.pendingLanes,s|=r,n.lanes=s,Ep(t,s)}}function ev(t,n){var s=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,s===r)){var a=null,l=null;if(s=s.firstBaseUpdate,s!==null){do{var i={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};l===null?a=l=i:l=l.next=i,s=s.next}while(s!==null);l===null?a=l=n:l=l.next=n}else a=l=n;s={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:l,shared:r.shared,effects:r.effects},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}function jc(t,n,s,r){var a=t.updateQueue;br=!1;var l=a.firstBaseUpdate,i=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var d=o,m=d.next;d.next=null,i===null?l=m:i.next=m,i=d;var p=t.alternate;p!==null&&(p=p.updateQueue,o=p.lastBaseUpdate,o!==i&&(o===null?p.firstBaseUpdate=m:o.next=m,p.lastBaseUpdate=d))}if(l!==null){var g=a.baseState;i=0,p=m=d=null,o=l;do{var h=o.lane,k=o.eventTime;if((r&h)===h){p!==null&&(p=p.next={eventTime:k,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var x=t,w=o;switch(h=n,k=s,w.tag){case 1:if(x=w.payload,typeof x=="function"){g=x.call(k,g,h);break e}g=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=w.payload,h=typeof x=="function"?x.call(k,g,h):x,h==null)break e;g=Ut({},g,h);break e;case 2:br=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,h=a.effects,h===null?a.effects=[o]:h.push(o))}else k={eventTime:k,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},p===null?(m=p=k,d=g):p=p.next=k,i|=h;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;h=o,o=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(p===null&&(d=g),a.baseState=d,a.firstBaseUpdate=m,a.lastBaseUpdate=p,n=a.shared.interleaved,n!==null){a=n;do i|=a.lane,a=a.next;while(a!==n)}else l===null&&(a.shared.lanes=0);fa|=i,t.lanes=i,t.memoizedState=g}}function tv(t,n,s){if(t=n.effects,n.effects=null,t!==null)for(n=0;n<t.length;n++){var r=t[n],a=r.callback;if(a!==null){if(r.callback=null,r=s,typeof a!="function")throw Error(Ee(191,a));a.call(r)}}}var Ui={},Us=Fr(Ui),wi=Fr(Ui),Ti=Fr(Ui);function aa(t){if(t===Ui)throw Error(Ee(174));return t}function Yp(t,n){switch(Pt(Ti,n),Pt(wi,t),Pt(Us,Ui),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:cm(null,"");break;default:t=t===8?n.parentNode:n,n=t.namespaceURI||null,t=t.tagName,n=cm(n,t)}Bt(Us),Pt(Us,n)}function dl(){Bt(Us),Bt(wi),Bt(Ti)}function A0(t){aa(Ti.current);var n=aa(Us.current),s=cm(n,t.type);n!==s&&(Pt(wi,t),Pt(Us,s))}function Gp(t){wi.current===t&&(Bt(Us),Bt(wi))}var Ft=Fr(0);function bc(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var hu=[];function Jp(){for(var t=0;t<hu.length;t++)hu[t]._workInProgressVersionPrimary=null;hu.length=0}var Ho=hr.ReactCurrentDispatcher,fu=hr.ReactCurrentBatchConfig,ha=0,Wt=null,on=null,mn=null,Sc=!1,oi=!1,zi=0,B2=0;function Sn(){throw Error(Ee(321))}function Qp(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!zs(t[s],n[s]))return!1;return!0}function Xp(t,n,s,r,a,l){if(ha=l,Wt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Ho.current=t===null||t.memoizedState===null?F2:W2,t=s(r,a),oi){l=0;do{if(oi=!1,zi=0,25<=l)throw Error(Ee(301));l+=1,mn=on=null,n.updateQueue=null,Ho.current=U2,t=s(r,a)}while(oi)}if(Ho.current=Nc,n=on!==null&&on.next!==null,ha=0,mn=on=Wt=null,Sc=!1,n)throw Error(Ee(300));return t}function Zp(){var t=zi!==0;return zi=0,t}function Bs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mn===null?Wt.memoizedState=mn=t:mn=mn.next=t,mn}function gs(){if(on===null){var t=Wt.alternate;t=t!==null?t.memoizedState:null}else t=on.next;var n=mn===null?Wt.memoizedState:mn.next;if(n!==null)mn=n,on=t;else{if(t===null)throw Error(Ee(310));on=t,t={memoizedState:on.memoizedState,baseState:on.baseState,baseQueue:on.baseQueue,queue:on.queue,next:null},mn===null?Wt.memoizedState=mn=t:mn=mn.next=t}return mn}function Di(t,n){return typeof n=="function"?n(t):n}function gu(t){var n=gs(),s=n.queue;if(s===null)throw Error(Ee(311));s.lastRenderedReducer=t;var r=on,a=r.baseQueue,l=s.pending;if(l!==null){if(a!==null){var i=a.next;a.next=l.next,l.next=i}r.baseQueue=a=l,s.pending=null}if(a!==null){l=a.next,r=r.baseState;var o=i=null,d=null,m=l;do{var p=m.lane;if((ha&p)===p)d!==null&&(d=d.next={lane:0,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null}),r=m.hasEagerState?m.eagerState:t(r,m.action);else{var g={lane:p,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null};d===null?(o=d=g,i=r):d=d.next=g,Wt.lanes|=p,fa|=p}m=m.next}while(m!==null&&m!==l);d===null?i=r:d.next=o,zs(r,n.memoizedState)||(On=!0),n.memoizedState=r,n.baseState=i,n.baseQueue=d,s.lastRenderedState=r}if(t=s.interleaved,t!==null){a=t;do l=a.lane,Wt.lanes|=l,fa|=l,a=a.next;while(a!==t)}else a===null&&(s.lanes=0);return[n.memoizedState,s.dispatch]}function yu(t){var n=gs(),s=n.queue;if(s===null)throw Error(Ee(311));s.lastRenderedReducer=t;var r=s.dispatch,a=s.pending,l=n.memoizedState;if(a!==null){s.pending=null;var i=a=a.next;do l=t(l,i.action),i=i.next;while(i!==a);zs(l,n.memoizedState)||(On=!0),n.memoizedState=l,n.baseQueue===null&&(n.baseState=l),s.lastRenderedState=l}return[l,r]}function E0(){}function I0(t,n){var s=Wt,r=gs(),a=n(),l=!zs(r.memoizedState,a);if(l&&(r.memoizedState=a,On=!0),r=r.queue,eh(L0.bind(null,s,r,t),[t]),r.getSnapshot!==n||l||mn!==null&&mn.memoizedState.tag&1){if(s.flags|=2048,Ri(9,P0.bind(null,s,r,a,n),void 0,null),pn===null)throw Error(Ee(349));ha&30||M0(s,n,a)}return a}function M0(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=Wt.updateQueue,n===null?(n={lastEffect:null,stores:null},Wt.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function P0(t,n,s,r){n.value=s,n.getSnapshot=r,B0(n)&&O0(t)}function L0(t,n,s){return s(function(){B0(n)&&O0(t)})}function B0(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!zs(t,s)}catch{return!0}}function O0(t){var n=cr(t,1);n!==null&&Ts(n,t,1,-1)}function nv(t){var n=Bs();return typeof t=="function"&&(t=t()),n.memoizedState=n.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:t},n.queue=t,t=t.dispatch=_2.bind(null,Wt,t),[n.memoizedState,t]}function Ri(t,n,s,r){return t={tag:t,create:n,destroy:s,deps:r,next:null},n=Wt.updateQueue,n===null?(n={lastEffect:null,stores:null},Wt.updateQueue=n,n.lastEffect=t.next=t):(s=n.lastEffect,s===null?n.lastEffect=t.next=t:(r=s.next,s.next=t,t.next=r,n.lastEffect=t)),t}function $0(){return gs().memoizedState}function Vo(t,n,s,r){var a=Bs();Wt.flags|=t,a.memoizedState=Ri(1|n,s,void 0,r===void 0?null:r)}function Gc(t,n,s,r){var a=gs();r=r===void 0?null:r;var l=void 0;if(on!==null){var i=on.memoizedState;if(l=i.destroy,r!==null&&Qp(r,i.deps)){a.memoizedState=Ri(n,s,l,r);return}}Wt.flags|=t,a.memoizedState=Ri(1|n,s,l,r)}function sv(t,n){return Vo(8390656,8,t,n)}function eh(t,n){return Gc(2048,8,t,n)}function _0(t,n){return Gc(4,2,t,n)}function F0(t,n){return Gc(4,4,t,n)}function W0(t,n){if(typeof n=="function")return t=t(),n(t),function(){n(null)};if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function U0(t,n,s){return s=s!=null?s.concat([t]):null,Gc(4,4,W0.bind(null,n,t),s)}function th(){}function K0(t,n){var s=gs();n=n===void 0?null:n;var r=s.memoizedState;return r!==null&&n!==null&&Qp(n,r[1])?r[0]:(s.memoizedState=[t,n],t)}function H0(t,n){var s=gs();n=n===void 0?null:n;var r=s.memoizedState;return r!==null&&n!==null&&Qp(n,r[1])?r[0]:(t=t(),s.memoizedState=[t,n],t)}function V0(t,n,s){return ha&21?(zs(s,n)||(s=Qb(),Wt.lanes|=s,fa|=s,t.baseState=!0),n):(t.baseState&&(t.baseState=!1,On=!0),t.memoizedState=s)}function O2(t,n){var s=Tt;Tt=s!==0&&4>s?s:4,t(!0);var r=fu.transition;fu.transition={};try{t(!1),n()}finally{Tt=s,fu.transition=r}}function q0(){return gs().memoizedState}function $2(t,n,s){var r=Ir(t);if(s={lane:r,action:s,hasEagerState:!1,eagerState:null,next:null},Y0(t))G0(n,s);else if(s=D0(t,n,s,r),s!==null){var a=En();Ts(s,t,r,a),J0(s,n,r)}}function _2(t,n,s){var r=Ir(t),a={lane:r,action:s,hasEagerState:!1,eagerState:null,next:null};if(Y0(t))G0(n,a);else{var l=t.alternate;if(t.lanes===0&&(l===null||l.lanes===0)&&(l=n.lastRenderedReducer,l!==null))try{var i=n.lastRenderedState,o=l(i,s);if(a.hasEagerState=!0,a.eagerState=o,zs(o,i)){var d=n.interleaved;d===null?(a.next=a,Vp(n)):(a.next=d.next,d.next=a),n.interleaved=a;return}}catch{}finally{}s=D0(t,n,a,r),s!==null&&(a=En(),Ts(s,t,r,a),J0(s,n,r))}}function Y0(t){var n=t.alternate;return t===Wt||n!==null&&n===Wt}function G0(t,n){oi=Sc=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function J0(t,n,s){if(s&4194240){var r=n.lanes;r&=t.pendingLanes,s|=r,n.lanes=s,Ep(t,s)}}var Nc={readContext:fs,useCallback:Sn,useContext:Sn,useEffect:Sn,useImperativeHandle:Sn,useInsertionEffect:Sn,useLayoutEffect:Sn,useMemo:Sn,useReducer:Sn,useRef:Sn,useState:Sn,useDebugValue:Sn,useDeferredValue:Sn,useTransition:Sn,useMutableSource:Sn,useSyncExternalStore:Sn,useId:Sn,unstable_isNewReconciler:!1},F2={readContext:fs,useCallback:function(t,n){return Bs().memoizedState=[t,n===void 0?null:n],t},useContext:fs,useEffect:sv,useImperativeHandle:function(t,n,s){return s=s!=null?s.concat([t]):null,Vo(4194308,4,W0.bind(null,n,t),s)},useLayoutEffect:function(t,n){return Vo(4194308,4,t,n)},useInsertionEffect:function(t,n){return Vo(4,2,t,n)},useMemo:function(t,n){var s=Bs();return n=n===void 0?null:n,t=t(),s.memoizedState=[t,n],t},useReducer:function(t,n,s){var r=Bs();return n=s!==void 0?s(n):n,r.memoizedState=r.baseState=n,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:n},r.queue=t,t=t.dispatch=$2.bind(null,Wt,t),[r.memoizedState,t]},useRef:function(t){var n=Bs();return t={current:t},n.memoizedState=t},useState:nv,useDebugValue:th,useDeferredValue:function(t){return Bs().memoizedState=t},useTransition:function(){var t=nv(!1),n=t[0];return t=O2.bind(null,t[1]),Bs().memoizedState=t,[n,t]},useMutableSource:function(){},useSyncExternalStore:function(t,n,s){var r=Wt,a=Bs();if(_t){if(s===void 0)throw Error(Ee(407));s=s()}else{if(s=n(),pn===null)throw Error(Ee(349));ha&30||M0(r,n,s)}a.memoizedState=s;var l={value:s,getSnapshot:n};return a.queue=l,sv(L0.bind(null,r,l,t),[t]),r.flags|=2048,Ri(9,P0.bind(null,r,l,s,n),void 0,null),s},useId:function(){var t=Bs(),n=pn.identifierPrefix;if(_t){var s=rr,r=sr;s=(r&~(1<<32-ws(r)-1)).toString(32)+s,n=":"+n+"R"+s,s=zi++,0<s&&(n+="H"+s.toString(32)),n+=":"}else s=B2++,n=":"+n+"r"+s.toString(32)+":";return t.memoizedState=n},unstable_isNewReconciler:!1},W2={readContext:fs,useCallback:K0,useContext:fs,useEffect:eh,useImperativeHandle:U0,useInsertionEffect:_0,useLayoutEffect:F0,useMemo:H0,useReducer:gu,useRef:$0,useState:function(){return gu(Di)},useDebugValue:th,useDeferredValue:function(t){var n=gs();return V0(n,on.memoizedState,t)},useTransition:function(){var t=gu(Di)[0],n=gs().memoizedState;return[t,n]},useMutableSource:E0,useSyncExternalStore:I0,useId:q0,unstable_isNewReconciler:!1},U2={readContext:fs,useCallback:K0,useContext:fs,useEffect:eh,useImperativeHandle:U0,useInsertionEffect:_0,useLayoutEffect:F0,useMemo:H0,useReducer:yu,useRef:$0,useState:function(){return yu(Di)},useDebugValue:th,useDeferredValue:function(t){var n=gs();return on===null?n.memoizedState=t:V0(n,on.memoizedState,t)},useTransition:function(){var t=yu(Di)[0],n=gs().memoizedState;return[t,n]},useMutableSource:E0,useSyncExternalStore:I0,useId:q0,unstable_isNewReconciler:!1};function Ss(t,n){if(t&&t.defaultProps){n=Ut({},n),t=t.defaultProps;for(var s in t)n[s]===void 0&&(n[s]=t[s]);return n}return n}function Rm(t,n,s,r){n=t.memoizedState,s=s(r,n),s=s==null?n:Ut({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Jc={isMounted:function(t){return(t=t._reactInternals)?va(t)===t:!1},enqueueSetState:function(t,n,s){t=t._reactInternals;var r=En(),a=Ir(t),l=ar(r,a);l.payload=n,s!=null&&(l.callback=s),n=Ar(t,l,a),n!==null&&(Ts(n,t,a,r),Ko(n,t,a))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var r=En(),a=Ir(t),l=ar(r,a);l.tag=1,l.payload=n,s!=null&&(l.callback=s),n=Ar(t,l,a),n!==null&&(Ts(n,t,a,r),Ko(n,t,a))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=En(),r=Ir(t),a=ar(s,r);a.tag=2,n!=null&&(a.callback=n),n=Ar(t,a,r),n!==null&&(Ts(n,t,r,s),Ko(n,t,r))}};function rv(t,n,s,r,a,l,i){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,l,i):n.prototype&&n.prototype.isPureReactComponent?!Si(s,r)||!Si(a,l):!0}function Q0(t,n,s){var r=!1,a=Or,l=n.contextType;return typeof l=="object"&&l!==null?l=fs(l):(a=_n(n)?ma:Tn.current,r=n.contextTypes,l=(r=r!=null)?il(t,a):Or),n=new n(s,l),t.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Jc,t.stateNode=n,n._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=a,t.__reactInternalMemoizedMaskedChildContext=l),n}function av(t,n,s,r){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,r),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,r),n.state!==t&&Jc.enqueueReplaceState(n,n.state,null)}function Am(t,n,s,r){var a=t.stateNode;a.props=s,a.state=t.memoizedState,a.refs={},qp(t);var l=n.contextType;typeof l=="object"&&l!==null?a.context=fs(l):(l=_n(n)?ma:Tn.current,a.context=il(t,l)),a.state=t.memoizedState,l=n.getDerivedStateFromProps,typeof l=="function"&&(Rm(t,n,l,s),a.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(n=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),n!==a.state&&Jc.enqueueReplaceState(a,a.state,null),jc(t,s,a,r),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308)}function ul(t,n){try{var s="",r=n;do s+=yk(r),r=r.return;while(r);var a=s}catch(l){a=`
Error generating stack: `+l.message+`
`+l.stack}return{value:t,source:n,stack:a,digest:null}}function xu(t,n,s){return{value:t,source:null,stack:s??null,digest:n??null}}function Em(t,n){try{console.error(n.value)}catch(s){setTimeout(function(){throw s})}}var K2=typeof WeakMap=="function"?WeakMap:Map;function X0(t,n,s){s=ar(-1,s),s.tag=3,s.payload={element:null};var r=n.value;return s.callback=function(){Cc||(Cc=!0,Wm=r),Em(t,n)},s}function Z0(t,n,s){s=ar(-1,s),s.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var a=n.value;s.payload=function(){return r(a)},s.callback=function(){Em(t,n)}}var l=t.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(s.callback=function(){Em(t,n),typeof r!="function"&&(Er===null?Er=new Set([this]):Er.add(this));var i=n.stack;this.componentDidCatch(n.value,{componentStack:i!==null?i:""})}),s}function lv(t,n,s){var r=t.pingCache;if(r===null){r=t.pingCache=new K2;var a=new Set;r.set(n,a)}else a=r.get(n),a===void 0&&(a=new Set,r.set(n,a));a.has(s)||(a.add(s),t=rC.bind(null,t,n,s),n.then(t,t))}function iv(t){do{var n;if((n=t.tag===13)&&(n=t.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return t;t=t.return}while(t!==null);return null}function ov(t,n,s,r,a){return t.mode&1?(t.flags|=65536,t.lanes=a,t):(t===n?t.flags|=65536:(t.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(n=ar(-1,1),n.tag=2,Ar(s,n,1))),s.lanes|=1),t)}var H2=hr.ReactCurrentOwner,On=!1;function An(t,n,s,r){n.child=t===null?z0(n,null,s,r):cl(n,t.child,s,r)}function cv(t,n,s,r,a){s=s.render;var l=n.ref;return tl(n,a),r=Xp(t,n,s,r,l,a),s=Zp(),t!==null&&!On?(n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a,dr(t,n,a)):(_t&&s&&_p(n),n.flags|=1,An(t,n,r,a),n.child)}function dv(t,n,s,r,a){if(t===null){var l=s.type;return typeof l=="function"&&!ch(l)&&l.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(n.tag=15,n.type=l,e1(t,n,l,r,a)):(t=Jo(s.type,null,r,n,n.mode,a),t.ref=n.ref,t.return=n,n.child=t)}if(l=t.child,!(t.lanes&a)){var i=l.memoizedProps;if(s=s.compare,s=s!==null?s:Si,s(i,r)&&t.ref===n.ref)return dr(t,n,a)}return n.flags|=1,t=Mr(l,r),t.ref=n.ref,t.return=n,n.child=t}function e1(t,n,s,r,a){if(t!==null){var l=t.memoizedProps;if(Si(l,r)&&t.ref===n.ref)if(On=!1,n.pendingProps=r=l,(t.lanes&a)!==0)t.flags&131072&&(On=!0);else return n.lanes=t.lanes,dr(t,n,a)}return Im(t,n,s,r,a)}function t1(t,n,s){var r=n.pendingProps,a=r.children,l=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pt(Ja,Yn),Yn|=s;else{if(!(s&1073741824))return t=l!==null?l.baseLanes|s:s,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:t,cachePool:null,transitions:null},n.updateQueue=null,Pt(Ja,Yn),Yn|=t,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=l!==null?l.baseLanes:s,Pt(Ja,Yn),Yn|=r}else l!==null?(r=l.baseLanes|s,n.memoizedState=null):r=s,Pt(Ja,Yn),Yn|=r;return An(t,n,a,s),n.child}function n1(t,n){var s=n.ref;(t===null&&s!==null||t!==null&&t.ref!==s)&&(n.flags|=512,n.flags|=2097152)}function Im(t,n,s,r,a){var l=_n(s)?ma:Tn.current;return l=il(n,l),tl(n,a),s=Xp(t,n,s,r,l,a),r=Zp(),t!==null&&!On?(n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a,dr(t,n,a)):(_t&&r&&_p(n),n.flags|=1,An(t,n,s,a),n.child)}function uv(t,n,s,r,a){if(_n(s)){var l=!0;fc(n)}else l=!1;if(tl(n,a),n.stateNode===null)qo(t,n),Q0(n,s,r),Am(n,s,r,a),r=!0;else if(t===null){var i=n.stateNode,o=n.memoizedProps;i.props=o;var d=i.context,m=s.contextType;typeof m=="object"&&m!==null?m=fs(m):(m=_n(s)?ma:Tn.current,m=il(n,m));var p=s.getDerivedStateFromProps,g=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function";g||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==r||d!==m)&&av(n,i,r,m),br=!1;var h=n.memoizedState;i.state=h,jc(n,r,i,a),d=n.memoizedState,o!==r||h!==d||$n.current||br?(typeof p=="function"&&(Rm(n,s,p,r),d=n.memoizedState),(o=br||rv(n,s,o,r,h,d,m))?(g||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(n.flags|=4194308)):(typeof i.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=r,n.memoizedState=d),i.props=r,i.state=d,i.context=m,r=o):(typeof i.componentDidMount=="function"&&(n.flags|=4194308),r=!1)}else{i=n.stateNode,R0(t,n),o=n.memoizedProps,m=n.type===n.elementType?o:Ss(n.type,o),i.props=m,g=n.pendingProps,h=i.context,d=s.contextType,typeof d=="object"&&d!==null?d=fs(d):(d=_n(s)?ma:Tn.current,d=il(n,d));var k=s.getDerivedStateFromProps;(p=typeof k=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==g||h!==d)&&av(n,i,r,d),br=!1,h=n.memoizedState,i.state=h,jc(n,r,i,a);var x=n.memoizedState;o!==g||h!==x||$n.current||br?(typeof k=="function"&&(Rm(n,s,k,r),x=n.memoizedState),(m=br||rv(n,s,m,r,h,x,d)||!1)?(p||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,x,d),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,x,d)),typeof i.componentDidUpdate=="function"&&(n.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(n.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(n.flags|=1024),n.memoizedProps=r,n.memoizedState=x),i.props=r,i.state=x,i.context=d,r=m):(typeof i.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(n.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(n.flags|=1024),r=!1)}return Mm(t,n,s,r,l,a)}function Mm(t,n,s,r,a,l){n1(t,n);var i=(n.flags&128)!==0;if(!r&&!i)return a&&Jx(n,s,!1),dr(t,n,l);r=n.stateNode,H2.current=n;var o=i&&typeof s.getDerivedStateFromError!="function"?null:r.render();return n.flags|=1,t!==null&&i?(n.child=cl(n,t.child,null,l),n.child=cl(n,null,o,l)):An(t,n,o,l),n.memoizedState=r.state,a&&Jx(n,s,!0),n.child}function s1(t){var n=t.stateNode;n.pendingContext?Gx(t,n.pendingContext,n.pendingContext!==n.context):n.context&&Gx(t,n.context,!1),Yp(t,n.containerInfo)}function mv(t,n,s,r,a){return ol(),Wp(a),n.flags|=256,An(t,n,s,r),n.child}var Pm={dehydrated:null,treeContext:null,retryLane:0};function Lm(t){return{baseLanes:t,cachePool:null,transitions:null}}function r1(t,n,s){var r=n.pendingProps,a=Ft.current,l=!1,i=(n.flags&128)!==0,o;if((o=i)||(o=t!==null&&t.memoizedState===null?!1:(a&2)!==0),o?(l=!0,n.flags&=-129):(t===null||t.memoizedState!==null)&&(a|=1),Pt(Ft,a&1),t===null)return zm(n),t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(n.mode&1?t.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(i=r.children,t=r.fallback,l?(r=n.mode,l=n.child,i={mode:"hidden",children:i},!(r&1)&&l!==null?(l.childLanes=0,l.pendingProps=i):l=Zc(i,r,0,null),t=ca(t,r,s,null),l.return=n,t.return=n,l.sibling=t,n.child=l,n.child.memoizedState=Lm(s),n.memoizedState=Pm,t):nh(n,i));if(a=t.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return V2(t,n,i,r,o,a,s);if(l){l=r.fallback,i=n.mode,a=t.child,o=a.sibling;var d={mode:"hidden",children:r.children};return!(i&1)&&n.child!==a?(r=n.child,r.childLanes=0,r.pendingProps=d,n.deletions=null):(r=Mr(a,d),r.subtreeFlags=a.subtreeFlags&14680064),o!==null?l=Mr(o,l):(l=ca(l,i,s,null),l.flags|=2),l.return=n,r.return=n,r.sibling=l,n.child=r,r=l,l=n.child,i=t.child.memoizedState,i=i===null?Lm(s):{baseLanes:i.baseLanes|s,cachePool:null,transitions:i.transitions},l.memoizedState=i,l.childLanes=t.childLanes&~s,n.memoizedState=Pm,r}return l=t.child,t=l.sibling,r=Mr(l,{mode:"visible",children:r.children}),!(n.mode&1)&&(r.lanes=s),r.return=n,r.sibling=null,t!==null&&(s=n.deletions,s===null?(n.deletions=[t],n.flags|=16):s.push(t)),n.child=r,n.memoizedState=null,r}function nh(t,n){return n=Zc({mode:"visible",children:n},t.mode,0,null),n.return=t,t.child=n}function go(t,n,s,r){return r!==null&&Wp(r),cl(n,t.child,null,s),t=nh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function V2(t,n,s,r,a,l,i){if(s)return n.flags&256?(n.flags&=-257,r=xu(Error(Ee(422))),go(t,n,i,r)):n.memoizedState!==null?(n.child=t.child,n.flags|=128,null):(l=r.fallback,a=n.mode,r=Zc({mode:"visible",children:r.children},a,0,null),l=ca(l,a,i,null),l.flags|=2,r.return=n,l.return=n,r.sibling=l,n.child=r,n.mode&1&&cl(n,t.child,null,i),n.child.memoizedState=Lm(i),n.memoizedState=Pm,l);if(!(n.mode&1))return go(t,n,i,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var o=r.dgst;return r=o,l=Error(Ee(419)),r=xu(l,r,void 0),go(t,n,i,r)}if(o=(i&t.childLanes)!==0,On||o){if(r=pn,r!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|i)?0:a,a!==0&&a!==l.retryLane&&(l.retryLane=a,cr(t,a),Ts(r,t,a,-1))}return oh(),r=xu(Error(Ee(421))),go(t,n,i,r)}return a.data==="$?"?(n.flags|=128,n.child=t.child,n=aC.bind(null,t),a._reactRetry=n,null):(t=l.treeContext,Jn=Rr(a.nextSibling),Qn=n,_t=!0,ks=null,t!==null&&(os[cs++]=sr,os[cs++]=rr,os[cs++]=pa,sr=t.id,rr=t.overflow,pa=n),n=nh(n,r.children),n.flags|=4096,n)}function pv(t,n,s){t.lanes|=n;var r=t.alternate;r!==null&&(r.lanes|=n),Dm(t.return,n,s)}function vu(t,n,s,r,a){var l=t.memoizedState;l===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:r,tail:s,tailMode:a}:(l.isBackwards=n,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=s,l.tailMode=a)}function a1(t,n,s){var r=n.pendingProps,a=r.revealOrder,l=r.tail;if(An(t,n,r.children,s),r=Ft.current,r&2)r=r&1|2,n.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&pv(t,s,n);else if(t.tag===19)pv(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Pt(Ft,r),!(n.mode&1))n.memoizedState=null;else switch(a){case"forwards":for(s=n.child,a=null;s!==null;)t=s.alternate,t!==null&&bc(t)===null&&(a=s),s=s.sibling;s=a,s===null?(a=n.child,n.child=null):(a=s.sibling,s.sibling=null),vu(n,!1,a,s,l);break;case"backwards":for(s=null,a=n.child,n.child=null;a!==null;){if(t=a.alternate,t!==null&&bc(t)===null){n.child=a;break}t=a.sibling,a.sibling=s,s=a,a=t}vu(n,!0,s,null,l);break;case"together":vu(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function qo(t,n){!(n.mode&1)&&t!==null&&(t.alternate=null,n.alternate=null,n.flags|=2)}function dr(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),fa|=n.lanes,!(s&n.childLanes))return null;if(t!==null&&n.child!==t.child)throw Error(Ee(153));if(n.child!==null){for(t=n.child,s=Mr(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=Mr(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function q2(t,n,s){switch(n.tag){case 3:s1(n),ol();break;case 5:A0(n);break;case 1:_n(n.type)&&fc(n);break;case 4:Yp(n,n.stateNode.containerInfo);break;case 10:var r=n.type._context,a=n.memoizedProps.value;Pt(xc,r._currentValue),r._currentValue=a;break;case 13:if(r=n.memoizedState,r!==null)return r.dehydrated!==null?(Pt(Ft,Ft.current&1),n.flags|=128,null):s&n.child.childLanes?r1(t,n,s):(Pt(Ft,Ft.current&1),t=dr(t,n,s),t!==null?t.sibling:null);Pt(Ft,Ft.current&1);break;case 19:if(r=(s&n.childLanes)!==0,t.flags&128){if(r)return a1(t,n,s);n.flags|=128}if(a=n.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Pt(Ft,Ft.current),r)break;return null;case 22:case 23:return n.lanes=0,t1(t,n,s)}return dr(t,n,s)}var l1,Bm,i1,o1;l1=function(t,n){for(var s=n.child;s!==null;){if(s.tag===5||s.tag===6)t.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};Bm=function(){};i1=function(t,n,s,r){var a=t.memoizedProps;if(a!==r){t=n.stateNode,aa(Us.current);var l=null;switch(s){case"input":a=am(t,a),r=am(t,r),l=[];break;case"select":a=Ut({},a,{value:void 0}),r=Ut({},r,{value:void 0}),l=[];break;case"textarea":a=om(t,a),r=om(t,r),l=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=pc)}dm(s,r);var i;s=null;for(m in a)if(!r.hasOwnProperty(m)&&a.hasOwnProperty(m)&&a[m]!=null)if(m==="style"){var o=a[m];for(i in o)o.hasOwnProperty(i)&&(s||(s={}),s[i]="")}else m!=="dangerouslySetInnerHTML"&&m!=="children"&&m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(fi.hasOwnProperty(m)?l||(l=[]):(l=l||[]).push(m,null));for(m in r){var d=r[m];if(o=a!=null?a[m]:void 0,r.hasOwnProperty(m)&&d!==o&&(d!=null||o!=null))if(m==="style")if(o){for(i in o)!o.hasOwnProperty(i)||d&&d.hasOwnProperty(i)||(s||(s={}),s[i]="");for(i in d)d.hasOwnProperty(i)&&o[i]!==d[i]&&(s||(s={}),s[i]=d[i])}else s||(l||(l=[]),l.push(m,s)),s=d;else m==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,o=o?o.__html:void 0,d!=null&&o!==d&&(l=l||[]).push(m,d)):m==="children"?typeof d!="string"&&typeof d!="number"||(l=l||[]).push(m,""+d):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&(fi.hasOwnProperty(m)?(d!=null&&m==="onScroll"&&Lt("scroll",t),l||o===d||(l=[])):(l=l||[]).push(m,d))}s&&(l=l||[]).push("style",s);var m=l;(n.updateQueue=m)&&(n.flags|=4)}};o1=function(t,n,s,r){s!==r&&(n.flags|=4)};function Ll(t,n){if(!_t)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Nn(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,r=0;if(n)for(var a=t.child;a!==null;)s|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=t,a=a.sibling;else for(a=t.child;a!==null;)s|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=r,t.childLanes=s,n}function Y2(t,n,s){var r=n.pendingProps;switch(Fp(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nn(n),null;case 1:return _n(n.type)&&hc(),Nn(n),null;case 3:return r=n.stateNode,dl(),Bt($n),Bt(Tn),Jp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ho(n)?n.flags|=4:t===null||t.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,ks!==null&&(Hm(ks),ks=null))),Bm(t,n),Nn(n),null;case 5:Gp(n);var a=aa(Ti.current);if(s=n.type,t!==null&&n.stateNode!=null)i1(t,n,s,r,a),t.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!r){if(n.stateNode===null)throw Error(Ee(166));return Nn(n),null}if(t=aa(Us.current),ho(n)){r=n.stateNode,s=n.type;var l=n.memoizedProps;switch(r[Fs]=n,r[Ci]=l,t=(n.mode&1)!==0,s){case"dialog":Lt("cancel",r),Lt("close",r);break;case"iframe":case"object":case"embed":Lt("load",r);break;case"video":case"audio":for(a=0;a<Xl.length;a++)Lt(Xl[a],r);break;case"source":Lt("error",r);break;case"img":case"image":case"link":Lt("error",r),Lt("load",r);break;case"details":Lt("toggle",r);break;case"input":Sx(r,l),Lt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},Lt("invalid",r);break;case"textarea":kx(r,l),Lt("invalid",r)}dm(s,l),a=null;for(var i in l)if(l.hasOwnProperty(i)){var o=l[i];i==="children"?typeof o=="string"?r.textContent!==o&&(l.suppressHydrationWarning!==!0&&po(r.textContent,o,t),a=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(l.suppressHydrationWarning!==!0&&po(r.textContent,o,t),a=["children",""+o]):fi.hasOwnProperty(i)&&o!=null&&i==="onScroll"&&Lt("scroll",r)}switch(s){case"input":ro(r),Nx(r,l,!0);break;case"textarea":ro(r),Cx(r);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(r.onclick=pc)}r=a,n.updateQueue=r,r!==null&&(n.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Lb(s)),t==="http://www.w3.org/1999/xhtml"?s==="script"?(t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=i.createElement(s,{is:r.is}):(t=i.createElement(s),s==="select"&&(i=t,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):t=i.createElementNS(t,s),t[Fs]=n,t[Ci]=r,l1(t,n,!1,!1),n.stateNode=t;e:{switch(i=um(s,r),s){case"dialog":Lt("cancel",t),Lt("close",t),a=r;break;case"iframe":case"object":case"embed":Lt("load",t),a=r;break;case"video":case"audio":for(a=0;a<Xl.length;a++)Lt(Xl[a],t);a=r;break;case"source":Lt("error",t),a=r;break;case"img":case"image":case"link":Lt("error",t),Lt("load",t),a=r;break;case"details":Lt("toggle",t),a=r;break;case"input":Sx(t,r),a=am(t,r),Lt("invalid",t);break;case"option":a=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},a=Ut({},r,{value:void 0}),Lt("invalid",t);break;case"textarea":kx(t,r),a=om(t,r),Lt("invalid",t);break;default:a=r}dm(s,a),o=a;for(l in o)if(o.hasOwnProperty(l)){var d=o[l];l==="style"?$b(t,d):l==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&Bb(t,d)):l==="children"?typeof d=="string"?(s!=="textarea"||d!=="")&&gi(t,d):typeof d=="number"&&gi(t,""+d):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(fi.hasOwnProperty(l)?d!=null&&l==="onScroll"&&Lt("scroll",t):d!=null&&wp(t,l,d,i))}switch(s){case"input":ro(t),Nx(t,r,!1);break;case"textarea":ro(t),Cx(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Br(r.value));break;case"select":t.multiple=!!r.multiple,l=r.value,l!=null?Qa(t,!!r.multiple,l,!1):r.defaultValue!=null&&Qa(t,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(t.onclick=pc)}switch(s){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Nn(n),null;case 6:if(t&&n.stateNode!=null)o1(t,n,t.memoizedProps,r);else{if(typeof r!="string"&&n.stateNode===null)throw Error(Ee(166));if(s=aa(Ti.current),aa(Us.current),ho(n)){if(r=n.stateNode,s=n.memoizedProps,r[Fs]=n,(l=r.nodeValue!==s)&&(t=Qn,t!==null))switch(t.tag){case 3:po(r.nodeValue,s,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&po(r.nodeValue,s,(t.mode&1)!==0)}l&&(n.flags|=4)}else r=(s.nodeType===9?s:s.ownerDocument).createTextNode(r),r[Fs]=n,n.stateNode=r}return Nn(n),null;case 13:if(Bt(Ft),r=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(_t&&Jn!==null&&n.mode&1&&!(n.flags&128))w0(),ol(),n.flags|=98560,l=!1;else if(l=ho(n),r!==null&&r.dehydrated!==null){if(t===null){if(!l)throw Error(Ee(318));if(l=n.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(Ee(317));l[Fs]=n}else ol(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;Nn(n),l=!1}else ks!==null&&(Hm(ks),ks=null),l=!0;if(!l)return n.flags&65536?n:null}return n.flags&128?(n.lanes=s,n):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(n.child.flags|=8192,n.mode&1&&(t===null||Ft.current&1?cn===0&&(cn=3):oh())),n.updateQueue!==null&&(n.flags|=4),Nn(n),null);case 4:return dl(),Bm(t,n),t===null&&Ni(n.stateNode.containerInfo),Nn(n),null;case 10:return Hp(n.type._context),Nn(n),null;case 17:return _n(n.type)&&hc(),Nn(n),null;case 19:if(Bt(Ft),l=n.memoizedState,l===null)return Nn(n),null;if(r=(n.flags&128)!==0,i=l.rendering,i===null)if(r)Ll(l,!1);else{if(cn!==0||t!==null&&t.flags&128)for(t=n.child;t!==null;){if(i=bc(t),i!==null){for(n.flags|=128,Ll(l,!1),r=i.updateQueue,r!==null&&(n.updateQueue=r,n.flags|=4),n.subtreeFlags=0,r=s,s=n.child;s!==null;)l=s,t=r,l.flags&=14680066,i=l.alternate,i===null?(l.childLanes=0,l.lanes=t,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,l.type=i.type,t=i.dependencies,l.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),s=s.sibling;return Pt(Ft,Ft.current&1|2),n.child}t=t.sibling}l.tail!==null&&Jt()>ml&&(n.flags|=128,r=!0,Ll(l,!1),n.lanes=4194304)}else{if(!r)if(t=bc(i),t!==null){if(n.flags|=128,r=!0,s=t.updateQueue,s!==null&&(n.updateQueue=s,n.flags|=4),Ll(l,!0),l.tail===null&&l.tailMode==="hidden"&&!i.alternate&&!_t)return Nn(n),null}else 2*Jt()-l.renderingStartTime>ml&&s!==1073741824&&(n.flags|=128,r=!0,Ll(l,!1),n.lanes=4194304);l.isBackwards?(i.sibling=n.child,n.child=i):(s=l.last,s!==null?s.sibling=i:n.child=i,l.last=i)}return l.tail!==null?(n=l.tail,l.rendering=n,l.tail=n.sibling,l.renderingStartTime=Jt(),n.sibling=null,s=Ft.current,Pt(Ft,r?s&1|2:s&1),n):(Nn(n),null);case 22:case 23:return ih(),r=n.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(n.flags|=8192),r&&n.mode&1?Yn&1073741824&&(Nn(n),n.subtreeFlags&6&&(n.flags|=8192)):Nn(n),null;case 24:return null;case 25:return null}throw Error(Ee(156,n.tag))}function G2(t,n){switch(Fp(n),n.tag){case 1:return _n(n.type)&&hc(),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return dl(),Bt($n),Bt(Tn),Jp(),t=n.flags,t&65536&&!(t&128)?(n.flags=t&-65537|128,n):null;case 5:return Gp(n),null;case 13:if(Bt(Ft),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(Ee(340));ol()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Bt(Ft),null;case 4:return dl(),null;case 10:return Hp(n.type._context),null;case 22:case 23:return ih(),null;case 24:return null;default:return null}}var yo=!1,Cn=!1,J2=typeof WeakSet=="function"?WeakSet:Set,Ve=null;function Ga(t,n){var s=t.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(r){qt(t,n,r)}else s.current=null}function Om(t,n,s){try{s()}catch(r){qt(t,n,r)}}var hv=!1;function Q2(t,n){if(bm=dc,t=p0(),$p(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var r=s.getSelection&&s.getSelection();if(r&&r.rangeCount!==0){s=r.anchorNode;var a=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{s.nodeType,l.nodeType}catch{s=null;break e}var i=0,o=-1,d=-1,m=0,p=0,g=t,h=null;t:for(;;){for(var k;g!==s||a!==0&&g.nodeType!==3||(o=i+a),g!==l||r!==0&&g.nodeType!==3||(d=i+r),g.nodeType===3&&(i+=g.nodeValue.length),(k=g.firstChild)!==null;)h=g,g=k;for(;;){if(g===t)break t;if(h===s&&++m===a&&(o=i),h===l&&++p===r&&(d=i),(k=g.nextSibling)!==null)break;g=h,h=g.parentNode}g=k}s=o===-1||d===-1?null:{start:o,end:d}}else s=null}s=s||{start:0,end:0}}else s=null;for(Sm={focusedElem:t,selectionRange:s},dc=!1,Ve=n;Ve!==null;)if(n=Ve,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Ve=t;else for(;Ve!==null;){n=Ve;try{var x=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var w=x.memoizedProps,N=x.memoizedState,f=n.stateNode,v=f.getSnapshotBeforeUpdate(n.elementType===n.type?w:Ss(n.type,w),N);f.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=n.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ee(163))}}catch(y){qt(n,n.return,y)}if(t=n.sibling,t!==null){t.return=n.return,Ve=t;break}Ve=n.return}return x=hv,hv=!1,x}function ci(t,n,s){var r=n.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&t)===t){var l=a.destroy;a.destroy=void 0,l!==void 0&&Om(n,s,l)}a=a.next}while(a!==r)}}function Qc(t,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var r=s.create;s.destroy=r()}s=s.next}while(s!==n)}}function $m(t){var n=t.ref;if(n!==null){var s=t.stateNode;switch(t.tag){case 5:t=s;break;default:t=s}typeof n=="function"?n(t):n.current=t}}function c1(t){var n=t.alternate;n!==null&&(t.alternate=null,c1(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&(delete n[Fs],delete n[Ci],delete n[Cm],delete n[I2],delete n[M2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function d1(t){return t.tag===5||t.tag===3||t.tag===4}function fv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||d1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function _m(t,n,s){var r=t.tag;if(r===5||r===6)t=t.stateNode,n?s.nodeType===8?s.parentNode.insertBefore(t,n):s.insertBefore(t,n):(s.nodeType===8?(n=s.parentNode,n.insertBefore(t,s)):(n=s,n.appendChild(t)),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=pc));else if(r!==4&&(t=t.child,t!==null))for(_m(t,n,s),t=t.sibling;t!==null;)_m(t,n,s),t=t.sibling}function Fm(t,n,s){var r=t.tag;if(r===5||r===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Fm(t,n,s),t=t.sibling;t!==null;)Fm(t,n,s),t=t.sibling}var yn=null,Ns=!1;function yr(t,n,s){for(s=s.child;s!==null;)u1(t,n,s),s=s.sibling}function u1(t,n,s){if(Ws&&typeof Ws.onCommitFiberUnmount=="function")try{Ws.onCommitFiberUnmount(Uc,s)}catch{}switch(s.tag){case 5:Cn||Ga(s,n);case 6:var r=yn,a=Ns;yn=null,yr(t,n,s),yn=r,Ns=a,yn!==null&&(Ns?(t=yn,s=s.stateNode,t.nodeType===8?t.parentNode.removeChild(s):t.removeChild(s)):yn.removeChild(s.stateNode));break;case 18:yn!==null&&(Ns?(t=yn,s=s.stateNode,t.nodeType===8?mu(t.parentNode,s):t.nodeType===1&&mu(t,s),ji(t)):mu(yn,s.stateNode));break;case 4:r=yn,a=Ns,yn=s.stateNode.containerInfo,Ns=!0,yr(t,n,s),yn=r,Ns=a;break;case 0:case 11:case 14:case 15:if(!Cn&&(r=s.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var l=a,i=l.destroy;l=l.tag,i!==void 0&&(l&2||l&4)&&Om(s,n,i),a=a.next}while(a!==r)}yr(t,n,s);break;case 1:if(!Cn&&(Ga(s,n),r=s.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=s.memoizedProps,r.state=s.memoizedState,r.componentWillUnmount()}catch(o){qt(s,n,o)}yr(t,n,s);break;case 21:yr(t,n,s);break;case 22:s.mode&1?(Cn=(r=Cn)||s.memoizedState!==null,yr(t,n,s),Cn=r):yr(t,n,s);break;default:yr(t,n,s)}}function gv(t){var n=t.updateQueue;if(n!==null){t.updateQueue=null;var s=t.stateNode;s===null&&(s=t.stateNode=new J2),n.forEach(function(r){var a=lC.bind(null,t,r);s.has(r)||(s.add(r),r.then(a,a))})}}function bs(t,n){var s=n.deletions;if(s!==null)for(var r=0;r<s.length;r++){var a=s[r];try{var l=t,i=n,o=i;e:for(;o!==null;){switch(o.tag){case 5:yn=o.stateNode,Ns=!1;break e;case 3:yn=o.stateNode.containerInfo,Ns=!0;break e;case 4:yn=o.stateNode.containerInfo,Ns=!0;break e}o=o.return}if(yn===null)throw Error(Ee(160));u1(l,i,a),yn=null,Ns=!1;var d=a.alternate;d!==null&&(d.return=null),a.return=null}catch(m){qt(a,n,m)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)m1(n,t),n=n.sibling}function m1(t,n){var s=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(bs(n,t),Is(t),r&4){try{ci(3,t,t.return),Qc(3,t)}catch(w){qt(t,t.return,w)}try{ci(5,t,t.return)}catch(w){qt(t,t.return,w)}}break;case 1:bs(n,t),Is(t),r&512&&s!==null&&Ga(s,s.return);break;case 5:if(bs(n,t),Is(t),r&512&&s!==null&&Ga(s,s.return),t.flags&32){var a=t.stateNode;try{gi(a,"")}catch(w){qt(t,t.return,w)}}if(r&4&&(a=t.stateNode,a!=null)){var l=t.memoizedProps,i=s!==null?s.memoizedProps:l,o=t.type,d=t.updateQueue;if(t.updateQueue=null,d!==null)try{o==="input"&&l.type==="radio"&&l.name!=null&&Mb(a,l),um(o,i);var m=um(o,l);for(i=0;i<d.length;i+=2){var p=d[i],g=d[i+1];p==="style"?$b(a,g):p==="dangerouslySetInnerHTML"?Bb(a,g):p==="children"?gi(a,g):wp(a,p,g,m)}switch(o){case"input":lm(a,l);break;case"textarea":Pb(a,l);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!l.multiple;var k=l.value;k!=null?Qa(a,!!l.multiple,k,!1):h!==!!l.multiple&&(l.defaultValue!=null?Qa(a,!!l.multiple,l.defaultValue,!0):Qa(a,!!l.multiple,l.multiple?[]:"",!1))}a[Ci]=l}catch(w){qt(t,t.return,w)}}break;case 6:if(bs(n,t),Is(t),r&4){if(t.stateNode===null)throw Error(Ee(162));a=t.stateNode,l=t.memoizedProps;try{a.nodeValue=l}catch(w){qt(t,t.return,w)}}break;case 3:if(bs(n,t),Is(t),r&4&&s!==null&&s.memoizedState.isDehydrated)try{ji(n.containerInfo)}catch(w){qt(t,t.return,w)}break;case 4:bs(n,t),Is(t);break;case 13:bs(n,t),Is(t),a=t.child,a.flags&8192&&(l=a.memoizedState!==null,a.stateNode.isHidden=l,!l||a.alternate!==null&&a.alternate.memoizedState!==null||(ah=Jt())),r&4&&gv(t);break;case 22:if(p=s!==null&&s.memoizedState!==null,t.mode&1?(Cn=(m=Cn)||p,bs(n,t),Cn=m):bs(n,t),Is(t),r&8192){if(m=t.memoizedState!==null,(t.stateNode.isHidden=m)&&!p&&t.mode&1)for(Ve=t,p=t.child;p!==null;){for(g=Ve=p;Ve!==null;){switch(h=Ve,k=h.child,h.tag){case 0:case 11:case 14:case 15:ci(4,h,h.return);break;case 1:Ga(h,h.return);var x=h.stateNode;if(typeof x.componentWillUnmount=="function"){r=h,s=h.return;try{n=r,x.props=n.memoizedProps,x.state=n.memoizedState,x.componentWillUnmount()}catch(w){qt(r,s,w)}}break;case 5:Ga(h,h.return);break;case 22:if(h.memoizedState!==null){xv(g);continue}}k!==null?(k.return=h,Ve=k):xv(g)}p=p.sibling}e:for(p=null,g=t;;){if(g.tag===5){if(p===null){p=g;try{a=g.stateNode,m?(l=a.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(o=g.stateNode,d=g.memoizedProps.style,i=d!=null&&d.hasOwnProperty("display")?d.display:null,o.style.display=Ob("display",i))}catch(w){qt(t,t.return,w)}}}else if(g.tag===6){if(p===null)try{g.stateNode.nodeValue=m?"":g.memoizedProps}catch(w){qt(t,t.return,w)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===t)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;p===g&&(p=null),g=g.return}p===g&&(p=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:bs(n,t),Is(t),r&4&&gv(t);break;case 21:break;default:bs(n,t),Is(t)}}function Is(t){var n=t.flags;if(n&2){try{e:{for(var s=t.return;s!==null;){if(d1(s)){var r=s;break e}s=s.return}throw Error(Ee(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(gi(a,""),r.flags&=-33);var l=fv(t);Fm(t,l,a);break;case 3:case 4:var i=r.stateNode.containerInfo,o=fv(t);_m(t,o,i);break;default:throw Error(Ee(161))}}catch(d){qt(t,t.return,d)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function X2(t,n,s){Ve=t,p1(t)}function p1(t,n,s){for(var r=(t.mode&1)!==0;Ve!==null;){var a=Ve,l=a.child;if(a.tag===22&&r){var i=a.memoizedState!==null||yo;if(!i){var o=a.alternate,d=o!==null&&o.memoizedState!==null||Cn;o=yo;var m=Cn;if(yo=i,(Cn=d)&&!m)for(Ve=a;Ve!==null;)i=Ve,d=i.child,i.tag===22&&i.memoizedState!==null?vv(a):d!==null?(d.return=i,Ve=d):vv(a);for(;l!==null;)Ve=l,p1(l),l=l.sibling;Ve=a,yo=o,Cn=m}yv(t)}else a.subtreeFlags&8772&&l!==null?(l.return=a,Ve=l):yv(t)}}function yv(t){for(;Ve!==null;){var n=Ve;if(n.flags&8772){var s=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:Cn||Qc(5,n);break;case 1:var r=n.stateNode;if(n.flags&4&&!Cn)if(s===null)r.componentDidMount();else{var a=n.elementType===n.type?s.memoizedProps:Ss(n.type,s.memoizedProps);r.componentDidUpdate(a,s.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=n.updateQueue;l!==null&&tv(n,l,r);break;case 3:var i=n.updateQueue;if(i!==null){if(s=null,n.child!==null)switch(n.child.tag){case 5:s=n.child.stateNode;break;case 1:s=n.child.stateNode}tv(n,i,s)}break;case 5:var o=n.stateNode;if(s===null&&n.flags&4){s=o;var d=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&s.focus();break;case"img":d.src&&(s.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var m=n.alternate;if(m!==null){var p=m.memoizedState;if(p!==null){var g=p.dehydrated;g!==null&&ji(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ee(163))}Cn||n.flags&512&&$m(n)}catch(h){qt(n,n.return,h)}}if(n===t){Ve=null;break}if(s=n.sibling,s!==null){s.return=n.return,Ve=s;break}Ve=n.return}}function xv(t){for(;Ve!==null;){var n=Ve;if(n===t){Ve=null;break}var s=n.sibling;if(s!==null){s.return=n.return,Ve=s;break}Ve=n.return}}function vv(t){for(;Ve!==null;){var n=Ve;try{switch(n.tag){case 0:case 11:case 15:var s=n.return;try{Qc(4,n)}catch(d){qt(n,s,d)}break;case 1:var r=n.stateNode;if(typeof r.componentDidMount=="function"){var a=n.return;try{r.componentDidMount()}catch(d){qt(n,a,d)}}var l=n.return;try{$m(n)}catch(d){qt(n,l,d)}break;case 5:var i=n.return;try{$m(n)}catch(d){qt(n,i,d)}}}catch(d){qt(n,n.return,d)}if(n===t){Ve=null;break}var o=n.sibling;if(o!==null){o.return=n.return,Ve=o;break}Ve=n.return}}var Z2=Math.ceil,kc=hr.ReactCurrentDispatcher,sh=hr.ReactCurrentOwner,hs=hr.ReactCurrentBatchConfig,yt=0,pn=null,en=null,vn=0,Yn=0,Ja=Fr(0),cn=0,Ai=null,fa=0,Xc=0,rh=0,di=null,Bn=null,ah=0,ml=1/0,Zs=null,Cc=!1,Wm=null,Er=null,xo=!1,Cr=null,wc=0,ui=0,Um=null,Yo=-1,Go=0;function En(){return yt&6?Jt():Yo!==-1?Yo:Yo=Jt()}function Ir(t){return t.mode&1?yt&2&&vn!==0?vn&-vn:L2.transition!==null?(Go===0&&(Go=Qb()),Go):(t=Tt,t!==0||(t=window.event,t=t===void 0?16:r0(t.type)),t):1}function Ts(t,n,s,r){if(50<ui)throw ui=0,Um=null,Error(Ee(185));_i(t,s,r),(!(yt&2)||t!==pn)&&(t===pn&&(!(yt&2)&&(Xc|=s),cn===4&&Nr(t,vn)),Fn(t,r),s===1&&yt===0&&!(n.mode&1)&&(ml=Jt()+500,Yc&&Wr()))}function Fn(t,n){var s=t.callbackNode;Lk(t,n);var r=cc(t,t===pn?vn:0);if(r===0)s!==null&&zx(s),t.callbackNode=null,t.callbackPriority=0;else if(n=r&-r,t.callbackPriority!==n){if(s!=null&&zx(s),n===1)t.tag===0?P2(jv.bind(null,t)):N0(jv.bind(null,t)),A2(function(){!(yt&6)&&Wr()}),s=null;else{switch(Xb(r)){case 1:s=Ap;break;case 4:s=Gb;break;case 16:s=oc;break;case 536870912:s=Jb;break;default:s=oc}s=b1(s,h1.bind(null,t))}t.callbackPriority=n,t.callbackNode=s}}function h1(t,n){if(Yo=-1,Go=0,yt&6)throw Error(Ee(327));var s=t.callbackNode;if(nl()&&t.callbackNode!==s)return null;var r=cc(t,t===pn?vn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||n)n=Tc(t,r);else{n=r;var a=yt;yt|=2;var l=g1();(pn!==t||vn!==n)&&(Zs=null,ml=Jt()+500,oa(t,n));do try{nC();break}catch(o){f1(t,o)}while(!0);Kp(),kc.current=l,yt=a,en!==null?n=0:(pn=null,vn=0,n=cn)}if(n!==0){if(n===2&&(a=gm(t),a!==0&&(r=a,n=Km(t,a))),n===1)throw s=Ai,oa(t,0),Nr(t,r),Fn(t,Jt()),s;if(n===6)Nr(t,r);else{if(a=t.current.alternate,!(r&30)&&!eC(a)&&(n=Tc(t,r),n===2&&(l=gm(t),l!==0&&(r=l,n=Km(t,l))),n===1))throw s=Ai,oa(t,0),Nr(t,r),Fn(t,Jt()),s;switch(t.finishedWork=a,t.finishedLanes=r,n){case 0:case 1:throw Error(Ee(345));case 2:Jr(t,Bn,Zs);break;case 3:if(Nr(t,r),(r&130023424)===r&&(n=ah+500-Jt(),10<n)){if(cc(t,0)!==0)break;if(a=t.suspendedLanes,(a&r)!==r){En(),t.pingedLanes|=t.suspendedLanes&a;break}t.timeoutHandle=km(Jr.bind(null,t,Bn,Zs),n);break}Jr(t,Bn,Zs);break;case 4:if(Nr(t,r),(r&4194240)===r)break;for(n=t.eventTimes,a=-1;0<r;){var i=31-ws(r);l=1<<i,i=n[i],i>a&&(a=i),r&=~l}if(r=a,r=Jt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Z2(r/1960))-r,10<r){t.timeoutHandle=km(Jr.bind(null,t,Bn,Zs),r);break}Jr(t,Bn,Zs);break;case 5:Jr(t,Bn,Zs);break;default:throw Error(Ee(329))}}}return Fn(t,Jt()),t.callbackNode===s?h1.bind(null,t):null}function Km(t,n){var s=di;return t.current.memoizedState.isDehydrated&&(oa(t,n).flags|=256),t=Tc(t,n),t!==2&&(n=Bn,Bn=s,n!==null&&Hm(n)),t}function Hm(t){Bn===null?Bn=t:Bn.push.apply(Bn,t)}function eC(t){for(var n=t;;){if(n.flags&16384){var s=n.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var r=0;r<s.length;r++){var a=s[r],l=a.getSnapshot;a=a.value;try{if(!zs(l(),a))return!1}catch{return!1}}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Nr(t,n){for(n&=~rh,n&=~Xc,t.suspendedLanes|=n,t.pingedLanes&=~n,t=t.expirationTimes;0<n;){var s=31-ws(n),r=1<<s;t[s]=-1,n&=~r}}function jv(t){if(yt&6)throw Error(Ee(327));nl();var n=cc(t,0);if(!(n&1))return Fn(t,Jt()),null;var s=Tc(t,n);if(t.tag!==0&&s===2){var r=gm(t);r!==0&&(n=r,s=Km(t,r))}if(s===1)throw s=Ai,oa(t,0),Nr(t,n),Fn(t,Jt()),s;if(s===6)throw Error(Ee(345));return t.finishedWork=t.current.alternate,t.finishedLanes=n,Jr(t,Bn,Zs),Fn(t,Jt()),null}function lh(t,n){var s=yt;yt|=1;try{return t(n)}finally{yt=s,yt===0&&(ml=Jt()+500,Yc&&Wr())}}function ga(t){Cr!==null&&Cr.tag===0&&!(yt&6)&&nl();var n=yt;yt|=1;var s=hs.transition,r=Tt;try{if(hs.transition=null,Tt=1,t)return t()}finally{Tt=r,hs.transition=s,yt=n,!(yt&6)&&Wr()}}function ih(){Yn=Ja.current,Bt(Ja)}function oa(t,n){t.finishedWork=null,t.finishedLanes=0;var s=t.timeoutHandle;if(s!==-1&&(t.timeoutHandle=-1,R2(s)),en!==null)for(s=en.return;s!==null;){var r=s;switch(Fp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&hc();break;case 3:dl(),Bt($n),Bt(Tn),Jp();break;case 5:Gp(r);break;case 4:dl();break;case 13:Bt(Ft);break;case 19:Bt(Ft);break;case 10:Hp(r.type._context);break;case 22:case 23:ih()}s=s.return}if(pn=t,en=t=Mr(t.current,null),vn=Yn=n,cn=0,Ai=null,rh=Xc=fa=0,Bn=di=null,ra!==null){for(n=0;n<ra.length;n++)if(s=ra[n],r=s.interleaved,r!==null){s.interleaved=null;var a=r.next,l=s.pending;if(l!==null){var i=l.next;l.next=a,r.next=i}s.pending=r}ra=null}return t}function f1(t,n){do{var s=en;try{if(Kp(),Ho.current=Nc,Sc){for(var r=Wt.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}Sc=!1}if(ha=0,mn=on=Wt=null,oi=!1,zi=0,sh.current=null,s===null||s.return===null){cn=1,Ai=n,en=null;break}e:{var l=t,i=s.return,o=s,d=n;if(n=vn,o.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var m=d,p=o,g=p.tag;if(!(p.mode&1)&&(g===0||g===11||g===15)){var h=p.alternate;h?(p.updateQueue=h.updateQueue,p.memoizedState=h.memoizedState,p.lanes=h.lanes):(p.updateQueue=null,p.memoizedState=null)}var k=iv(i);if(k!==null){k.flags&=-257,ov(k,i,o,l,n),k.mode&1&&lv(l,m,n),n=k,d=m;var x=n.updateQueue;if(x===null){var w=new Set;w.add(d),n.updateQueue=w}else x.add(d);break e}else{if(!(n&1)){lv(l,m,n),oh();break e}d=Error(Ee(426))}}else if(_t&&o.mode&1){var N=iv(i);if(N!==null){!(N.flags&65536)&&(N.flags|=256),ov(N,i,o,l,n),Wp(ul(d,o));break e}}l=d=ul(d,o),cn!==4&&(cn=2),di===null?di=[l]:di.push(l),l=i;do{switch(l.tag){case 3:l.flags|=65536,n&=-n,l.lanes|=n;var f=X0(l,d,n);ev(l,f);break e;case 1:o=d;var v=l.type,b=l.stateNode;if(!(l.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Er===null||!Er.has(b)))){l.flags|=65536,n&=-n,l.lanes|=n;var y=Z0(l,o,n);ev(l,y);break e}}l=l.return}while(l!==null)}x1(s)}catch(S){n=S,en===s&&s!==null&&(en=s=s.return);continue}break}while(!0)}function g1(){var t=kc.current;return kc.current=Nc,t===null?Nc:t}function oh(){(cn===0||cn===3||cn===2)&&(cn=4),pn===null||!(fa&268435455)&&!(Xc&268435455)||Nr(pn,vn)}function Tc(t,n){var s=yt;yt|=2;var r=g1();(pn!==t||vn!==n)&&(Zs=null,oa(t,n));do try{tC();break}catch(a){f1(t,a)}while(!0);if(Kp(),yt=s,kc.current=r,en!==null)throw Error(Ee(261));return pn=null,vn=0,cn}function tC(){for(;en!==null;)y1(en)}function nC(){for(;en!==null&&!Tk();)y1(en)}function y1(t){var n=j1(t.alternate,t,Yn);t.memoizedProps=t.pendingProps,n===null?x1(t):en=n,sh.current=null}function x1(t){var n=t;do{var s=n.alternate;if(t=n.return,n.flags&32768){if(s=G2(s,n),s!==null){s.flags&=32767,en=s;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{cn=6,en=null;return}}else if(s=Y2(s,n,Yn),s!==null){en=s;return}if(n=n.sibling,n!==null){en=n;return}en=n=t}while(n!==null);cn===0&&(cn=5)}function Jr(t,n,s){var r=Tt,a=hs.transition;try{hs.transition=null,Tt=1,sC(t,n,s,r)}finally{hs.transition=a,Tt=r}return null}function sC(t,n,s,r){do nl();while(Cr!==null);if(yt&6)throw Error(Ee(327));s=t.finishedWork;var a=t.finishedLanes;if(s===null)return null;if(t.finishedWork=null,t.finishedLanes=0,s===t.current)throw Error(Ee(177));t.callbackNode=null,t.callbackPriority=0;var l=s.lanes|s.childLanes;if(Bk(t,l),t===pn&&(en=pn=null,vn=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||xo||(xo=!0,b1(oc,function(){return nl(),null})),l=(s.flags&15990)!==0,s.subtreeFlags&15990||l){l=hs.transition,hs.transition=null;var i=Tt;Tt=1;var o=yt;yt|=4,sh.current=null,Q2(t,s),m1(s,t),N2(Sm),dc=!!bm,Sm=bm=null,t.current=s,X2(s),zk(),yt=o,Tt=i,hs.transition=l}else t.current=s;if(xo&&(xo=!1,Cr=t,wc=a),l=t.pendingLanes,l===0&&(Er=null),Ak(s.stateNode),Fn(t,Jt()),n!==null)for(r=t.onRecoverableError,s=0;s<n.length;s++)a=n[s],r(a.value,{componentStack:a.stack,digest:a.digest});if(Cc)throw Cc=!1,t=Wm,Wm=null,t;return wc&1&&t.tag!==0&&nl(),l=t.pendingLanes,l&1?t===Um?ui++:(ui=0,Um=t):ui=0,Wr(),null}function nl(){if(Cr!==null){var t=Xb(wc),n=hs.transition,s=Tt;try{if(hs.transition=null,Tt=16>t?16:t,Cr===null)var r=!1;else{if(t=Cr,Cr=null,wc=0,yt&6)throw Error(Ee(331));var a=yt;for(yt|=4,Ve=t.current;Ve!==null;){var l=Ve,i=l.child;if(Ve.flags&16){var o=l.deletions;if(o!==null){for(var d=0;d<o.length;d++){var m=o[d];for(Ve=m;Ve!==null;){var p=Ve;switch(p.tag){case 0:case 11:case 15:ci(8,p,l)}var g=p.child;if(g!==null)g.return=p,Ve=g;else for(;Ve!==null;){p=Ve;var h=p.sibling,k=p.return;if(c1(p),p===m){Ve=null;break}if(h!==null){h.return=k,Ve=h;break}Ve=k}}}var x=l.alternate;if(x!==null){var w=x.child;if(w!==null){x.child=null;do{var N=w.sibling;w.sibling=null,w=N}while(w!==null)}}Ve=l}}if(l.subtreeFlags&2064&&i!==null)i.return=l,Ve=i;else e:for(;Ve!==null;){if(l=Ve,l.flags&2048)switch(l.tag){case 0:case 11:case 15:ci(9,l,l.return)}var f=l.sibling;if(f!==null){f.return=l.return,Ve=f;break e}Ve=l.return}}var v=t.current;for(Ve=v;Ve!==null;){i=Ve;var b=i.child;if(i.subtreeFlags&2064&&b!==null)b.return=i,Ve=b;else e:for(i=v;Ve!==null;){if(o=Ve,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Qc(9,o)}}catch(S){qt(o,o.return,S)}if(o===i){Ve=null;break e}var y=o.sibling;if(y!==null){y.return=o.return,Ve=y;break e}Ve=o.return}}if(yt=a,Wr(),Ws&&typeof Ws.onPostCommitFiberRoot=="function")try{Ws.onPostCommitFiberRoot(Uc,t)}catch{}r=!0}return r}finally{Tt=s,hs.transition=n}}return!1}function bv(t,n,s){n=ul(s,n),n=X0(t,n,1),t=Ar(t,n,1),n=En(),t!==null&&(_i(t,1,n),Fn(t,n))}function qt(t,n,s){if(t.tag===3)bv(t,t,s);else for(;n!==null;){if(n.tag===3){bv(n,t,s);break}else if(n.tag===1){var r=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Er===null||!Er.has(r))){t=ul(s,t),t=Z0(n,t,1),n=Ar(n,t,1),t=En(),n!==null&&(_i(n,1,t),Fn(n,t));break}}n=n.return}}function rC(t,n,s){var r=t.pingCache;r!==null&&r.delete(n),n=En(),t.pingedLanes|=t.suspendedLanes&s,pn===t&&(vn&s)===s&&(cn===4||cn===3&&(vn&130023424)===vn&&500>Jt()-ah?oa(t,0):rh|=s),Fn(t,n)}function v1(t,n){n===0&&(t.mode&1?(n=io,io<<=1,!(io&130023424)&&(io=4194304)):n=1);var s=En();t=cr(t,n),t!==null&&(_i(t,n,s),Fn(t,s))}function aC(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),v1(t,s)}function lC(t,n){var s=0;switch(t.tag){case 13:var r=t.stateNode,a=t.memoizedState;a!==null&&(s=a.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Ee(314))}r!==null&&r.delete(n),v1(t,s)}var j1;j1=function(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps||$n.current)On=!0;else{if(!(t.lanes&s)&&!(n.flags&128))return On=!1,q2(t,n,s);On=!!(t.flags&131072)}else On=!1,_t&&n.flags&1048576&&k0(n,yc,n.index);switch(n.lanes=0,n.tag){case 2:var r=n.type;qo(t,n),t=n.pendingProps;var a=il(n,Tn.current);tl(n,s),a=Xp(null,n,r,t,a,s);var l=Zp();return n.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,_n(r)?(l=!0,fc(n)):l=!1,n.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,qp(n),a.updater=Jc,n.stateNode=a,a._reactInternals=n,Am(n,r,t,s),n=Mm(null,n,r,!0,l,s)):(n.tag=0,_t&&l&&_p(n),An(null,n,a,s),n=n.child),n;case 16:r=n.elementType;e:{switch(qo(t,n),t=n.pendingProps,a=r._init,r=a(r._payload),n.type=r,a=n.tag=oC(r),t=Ss(r,t),a){case 0:n=Im(null,n,r,t,s);break e;case 1:n=uv(null,n,r,t,s);break e;case 11:n=cv(null,n,r,t,s);break e;case 14:n=dv(null,n,r,Ss(r.type,t),s);break e}throw Error(Ee(306,r,""))}return n;case 0:return r=n.type,a=n.pendingProps,a=n.elementType===r?a:Ss(r,a),Im(t,n,r,a,s);case 1:return r=n.type,a=n.pendingProps,a=n.elementType===r?a:Ss(r,a),uv(t,n,r,a,s);case 3:e:{if(s1(n),t===null)throw Error(Ee(387));r=n.pendingProps,l=n.memoizedState,a=l.element,R0(t,n),jc(n,r,null,s);var i=n.memoizedState;if(r=i.element,l.isDehydrated)if(l={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},n.updateQueue.baseState=l,n.memoizedState=l,n.flags&256){a=ul(Error(Ee(423)),n),n=mv(t,n,r,s,a);break e}else if(r!==a){a=ul(Error(Ee(424)),n),n=mv(t,n,r,s,a);break e}else for(Jn=Rr(n.stateNode.containerInfo.firstChild),Qn=n,_t=!0,ks=null,s=z0(n,null,r,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(ol(),r===a){n=dr(t,n,s);break e}An(t,n,r,s)}n=n.child}return n;case 5:return A0(n),t===null&&zm(n),r=n.type,a=n.pendingProps,l=t!==null?t.memoizedProps:null,i=a.children,Nm(r,a)?i=null:l!==null&&Nm(r,l)&&(n.flags|=32),n1(t,n),An(t,n,i,s),n.child;case 6:return t===null&&zm(n),null;case 13:return r1(t,n,s);case 4:return Yp(n,n.stateNode.containerInfo),r=n.pendingProps,t===null?n.child=cl(n,null,r,s):An(t,n,r,s),n.child;case 11:return r=n.type,a=n.pendingProps,a=n.elementType===r?a:Ss(r,a),cv(t,n,r,a,s);case 7:return An(t,n,n.pendingProps,s),n.child;case 8:return An(t,n,n.pendingProps.children,s),n.child;case 12:return An(t,n,n.pendingProps.children,s),n.child;case 10:e:{if(r=n.type._context,a=n.pendingProps,l=n.memoizedProps,i=a.value,Pt(xc,r._currentValue),r._currentValue=i,l!==null)if(zs(l.value,i)){if(l.children===a.children&&!$n.current){n=dr(t,n,s);break e}}else for(l=n.child,l!==null&&(l.return=n);l!==null;){var o=l.dependencies;if(o!==null){i=l.child;for(var d=o.firstContext;d!==null;){if(d.context===r){if(l.tag===1){d=ar(-1,s&-s),d.tag=2;var m=l.updateQueue;if(m!==null){m=m.shared;var p=m.pending;p===null?d.next=d:(d.next=p.next,p.next=d),m.pending=d}}l.lanes|=s,d=l.alternate,d!==null&&(d.lanes|=s),Dm(l.return,s,n),o.lanes|=s;break}d=d.next}}else if(l.tag===10)i=l.type===n.type?null:l.child;else if(l.tag===18){if(i=l.return,i===null)throw Error(Ee(341));i.lanes|=s,o=i.alternate,o!==null&&(o.lanes|=s),Dm(i,s,n),i=l.sibling}else i=l.child;if(i!==null)i.return=l;else for(i=l;i!==null;){if(i===n){i=null;break}if(l=i.sibling,l!==null){l.return=i.return,i=l;break}i=i.return}l=i}An(t,n,a.children,s),n=n.child}return n;case 9:return a=n.type,r=n.pendingProps.children,tl(n,s),a=fs(a),r=r(a),n.flags|=1,An(t,n,r,s),n.child;case 14:return r=n.type,a=Ss(r,n.pendingProps),a=Ss(r.type,a),dv(t,n,r,a,s);case 15:return e1(t,n,n.type,n.pendingProps,s);case 17:return r=n.type,a=n.pendingProps,a=n.elementType===r?a:Ss(r,a),qo(t,n),n.tag=1,_n(r)?(t=!0,fc(n)):t=!1,tl(n,s),Q0(n,r,a),Am(n,r,a,s),Mm(null,n,r,!0,t,s);case 19:return a1(t,n,s);case 22:return t1(t,n,s)}throw Error(Ee(156,n.tag))};function b1(t,n){return Yb(t,n)}function iC(t,n,s,r){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ms(t,n,s,r){return new iC(t,n,s,r)}function ch(t){return t=t.prototype,!(!t||!t.isReactComponent)}function oC(t){if(typeof t=="function")return ch(t)?1:0;if(t!=null){if(t=t.$$typeof,t===zp)return 11;if(t===Dp)return 14}return 2}function Mr(t,n){var s=t.alternate;return s===null?(s=ms(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&14680064,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s}function Jo(t,n,s,r,a,l){var i=2;if(r=t,typeof t=="function")ch(t)&&(i=1);else if(typeof t=="string")i=5;else e:switch(t){case _a:return ca(s.children,a,l,n);case Tp:i=8,a|=8;break;case tm:return t=ms(12,s,n,a|2),t.elementType=tm,t.lanes=l,t;case nm:return t=ms(13,s,n,a),t.elementType=nm,t.lanes=l,t;case sm:return t=ms(19,s,n,a),t.elementType=sm,t.lanes=l,t;case Ab:return Zc(s,a,l,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Db:i=10;break e;case Rb:i=9;break e;case zp:i=11;break e;case Dp:i=14;break e;case jr:i=16,r=null;break e}throw Error(Ee(130,t==null?t:typeof t,""))}return n=ms(i,s,n,a),n.elementType=t,n.type=r,n.lanes=l,n}function ca(t,n,s,r){return t=ms(7,t,r,n),t.lanes=s,t}function Zc(t,n,s,r){return t=ms(22,t,r,n),t.elementType=Ab,t.lanes=s,t.stateNode={isHidden:!1},t}function ju(t,n,s){return t=ms(6,t,null,n),t.lanes=s,t}function bu(t,n,s){return n=ms(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function cC(t,n,s,r,a){this.tag=n,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tu(0),this.expirationTimes=tu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tu(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function dh(t,n,s,r,a,l,i,o,d){return t=new cC(t,n,s,o,d),n===1?(n=1,l===!0&&(n|=8)):n=0,l=ms(3,null,null,n),t.current=l,l.stateNode=t,l.memoizedState={element:r,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},qp(l),t}function dC(t,n,s){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$a,key:r==null?null:""+r,children:t,containerInfo:n,implementation:s}}function S1(t){if(!t)return Or;t=t._reactInternals;e:{if(va(t)!==t||t.tag!==1)throw Error(Ee(170));var n=t;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(_n(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(Ee(171))}if(t.tag===1){var s=t.type;if(_n(s))return S0(t,s,n)}return n}function N1(t,n,s,r,a,l,i,o,d){return t=dh(s,r,!0,t,a,l,i,o,d),t.context=S1(null),s=t.current,r=En(),a=Ir(s),l=ar(r,a),l.callback=n??null,Ar(s,l,a),t.current.lanes=a,_i(t,a,r),Fn(t,r),t}function ed(t,n,s,r){var a=n.current,l=En(),i=Ir(a);return s=S1(s),n.context===null?n.context=s:n.pendingContext=s,n=ar(l,i),n.payload={element:t},r=r===void 0?null:r,r!==null&&(n.callback=r),t=Ar(a,n,i),t!==null&&(Ts(t,a,i,l),Ko(t,a,i)),i}function zc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Sv(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function uh(t,n){Sv(t,n),(t=t.alternate)&&Sv(t,n)}function uC(){return null}var k1=typeof reportError=="function"?reportError:function(t){console.error(t)};function mh(t){this._internalRoot=t}td.prototype.render=mh.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(Ee(409));ed(t,n,null,null)};td.prototype.unmount=mh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;ga(function(){ed(null,t,null,null)}),n[or]=null}};function td(t){this._internalRoot=t}td.prototype.unstable_scheduleHydration=function(t){if(t){var n=t0();t={blockedOn:null,target:t,priority:n};for(var s=0;s<Sr.length&&n!==0&&n<Sr[s].priority;s++);Sr.splice(s,0,t),s===0&&s0(t)}};function ph(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function nd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Nv(){}function mC(t,n,s,r,a){if(a){if(typeof r=="function"){var l=r;r=function(){var m=zc(i);l.call(m)}}var i=N1(n,r,t,0,null,!1,!1,"",Nv);return t._reactRootContainer=i,t[or]=i.current,Ni(t.nodeType===8?t.parentNode:t),ga(),i}for(;a=t.lastChild;)t.removeChild(a);if(typeof r=="function"){var o=r;r=function(){var m=zc(d);o.call(m)}}var d=dh(t,0,!1,null,null,!1,!1,"",Nv);return t._reactRootContainer=d,t[or]=d.current,Ni(t.nodeType===8?t.parentNode:t),ga(function(){ed(n,d,s,r)}),d}function sd(t,n,s,r,a){var l=s._reactRootContainer;if(l){var i=l;if(typeof a=="function"){var o=a;a=function(){var d=zc(i);o.call(d)}}ed(n,i,t,a)}else i=mC(s,n,t,a,r);return zc(i)}Zb=function(t){switch(t.tag){case 3:var n=t.stateNode;if(n.current.memoizedState.isDehydrated){var s=Ql(n.pendingLanes);s!==0&&(Ep(n,s|1),Fn(n,Jt()),!(yt&6)&&(ml=Jt()+500,Wr()))}break;case 13:ga(function(){var r=cr(t,1);if(r!==null){var a=En();Ts(r,t,1,a)}}),uh(t,1)}};Ip=function(t){if(t.tag===13){var n=cr(t,134217728);if(n!==null){var s=En();Ts(n,t,134217728,s)}uh(t,134217728)}};e0=function(t){if(t.tag===13){var n=Ir(t),s=cr(t,n);if(s!==null){var r=En();Ts(s,t,n,r)}uh(t,n)}};t0=function(){return Tt};n0=function(t,n){var s=Tt;try{return Tt=t,n()}finally{Tt=s}};pm=function(t,n,s){switch(n){case"input":if(lm(t,s),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<s.length;n++){var r=s[n];if(r!==t&&r.form===t.form){var a=qc(r);if(!a)throw Error(Ee(90));Ib(r),lm(r,a)}}}break;case"textarea":Pb(t,s);break;case"select":n=s.value,n!=null&&Qa(t,!!s.multiple,n,!1)}};Wb=lh;Ub=ga;var pC={usingClientEntryPoint:!1,Events:[Wi,Ka,qc,_b,Fb,lh]},Bl={findFiberByHostInstance:sa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},hC={bundleType:Bl.bundleType,version:Bl.version,rendererPackageName:Bl.rendererPackageName,rendererConfig:Bl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:hr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Vb(t),t===null?null:t.stateNode},findFiberByHostInstance:Bl.findFiberByHostInstance||uC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vo.isDisabled&&vo.supportsFiber)try{Uc=vo.inject(hC),Ws=vo}catch{}}es.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pC;es.createPortal=function(t,n){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ph(n))throw Error(Ee(200));return dC(t,n,null,s)};es.createRoot=function(t,n){if(!ph(t))throw Error(Ee(299));var s=!1,r="",a=k1;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),n=dh(t,1,!1,null,null,s,!1,r,a),t[or]=n.current,Ni(t.nodeType===8?t.parentNode:t),new mh(n)};es.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(Ee(188)):(t=Object.keys(t).join(","),Error(Ee(268,t)));return t=Vb(n),t=t===null?null:t.stateNode,t};es.flushSync=function(t){return ga(t)};es.hydrate=function(t,n,s){if(!nd(n))throw Error(Ee(200));return sd(null,t,n,!0,s)};es.hydrateRoot=function(t,n,s){if(!ph(t))throw Error(Ee(405));var r=s!=null&&s.hydratedSources||null,a=!1,l="",i=k1;if(s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onRecoverableError!==void 0&&(i=s.onRecoverableError)),n=N1(n,null,t,1,s??null,a,!1,l,i),t[or]=n.current,Ni(t),r)for(t=0;t<r.length;t++)s=r[t],a=s._getVersion,a=a(s._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[s,a]:n.mutableSourceEagerHydrationData.push(s,a);return new td(n)};es.render=function(t,n,s){if(!nd(n))throw Error(Ee(200));return sd(null,t,n,!1,s)};es.unmountComponentAtNode=function(t){if(!nd(t))throw Error(Ee(40));return t._reactRootContainer?(ga(function(){sd(null,null,t,!1,function(){t._reactRootContainer=null,t[or]=null})}),!0):!1};es.unstable_batchedUpdates=lh;es.unstable_renderSubtreeIntoContainer=function(t,n,s,r){if(!nd(s))throw Error(Ee(200));if(t==null||t._reactInternals===void 0)throw Error(Ee(38));return sd(t,n,s,!1,r)};es.version="18.3.1-next-f1338f8080-20240426";function C1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(C1)}catch(t){console.error(t)}}C1(),Cb.exports=es;var hh=Cb.exports;const jo=pb(hh);var kv=hh;Zu.createRoot=kv.createRoot,Zu.hydrateRoot=kv.hydrateRoot;function ur(t,...n){const s=new URL(`https://mui.com/production-error/?code=${t}`);return n.forEach(r=>s.searchParams.append("args[]",r)),`Minified MUI error #${t}; visit ${s} for the full message.`}const lr="$$material";function Dc(){return Dc=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var r in s)({}).hasOwnProperty.call(s,r)&&(t[r]=s[r])}return t},Dc.apply(null,arguments)}function fC(t){if(t.sheet)return t.sheet;for(var n=0;n<document.styleSheets.length;n++)if(document.styleSheets[n].ownerNode===t)return document.styleSheets[n]}function gC(t){var n=document.createElement("style");return n.setAttribute("data-emotion",t.key),t.nonce!==void 0&&n.setAttribute("nonce",t.nonce),n.appendChild(document.createTextNode("")),n.setAttribute("data-s",""),n}var yC=function(){function t(s){var r=this;this._insertTag=function(a){var l;r.tags.length===0?r.insertionPoint?l=r.insertionPoint.nextSibling:r.prepend?l=r.container.firstChild:l=r.before:l=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(a,l),r.tags.push(a)},this.isSpeedy=s.speedy===void 0?!0:s.speedy,this.tags=[],this.ctr=0,this.nonce=s.nonce,this.key=s.key,this.container=s.container,this.prepend=s.prepend,this.insertionPoint=s.insertionPoint,this.before=null}var n=t.prototype;return n.hydrate=function(r){r.forEach(this._insertTag)},n.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(gC(this));var a=this.tags[this.tags.length-1];if(this.isSpeedy){var l=fC(a);try{l.insertRule(r,l.cssRules.length)}catch{}}else a.appendChild(document.createTextNode(r));this.ctr++},n.flush=function(){this.tags.forEach(function(r){var a;return(a=r.parentNode)==null?void 0:a.removeChild(r)}),this.tags=[],this.ctr=0},t}(),kn="-ms-",Rc="-moz-",vt="-webkit-",w1="comm",fh="rule",gh="decl",xC="@import",T1="@keyframes",vC="@layer",jC=Math.abs,rd=String.fromCharCode,bC=Object.assign;function SC(t,n){return xn(t,0)^45?(((n<<2^xn(t,0))<<2^xn(t,1))<<2^xn(t,2))<<2^xn(t,3):0}function z1(t){return t.trim()}function NC(t,n){return(t=n.exec(t))?t[0]:t}function jt(t,n,s){return t.replace(n,s)}function Vm(t,n){return t.indexOf(n)}function xn(t,n){return t.charCodeAt(n)|0}function Ei(t,n,s){return t.slice(n,s)}function Os(t){return t.length}function yh(t){return t.length}function bo(t,n){return n.push(t),t}function kC(t,n){return t.map(n).join("")}var ad=1,pl=1,D1=0,Wn=0,Zt=0,xl="";function ld(t,n,s,r,a,l,i){return{value:t,root:n,parent:s,type:r,props:a,children:l,line:ad,column:pl,length:i,return:""}}function Ol(t,n){return bC(ld("",null,null,"",null,null,0),t,{length:-t.length},n)}function CC(){return Zt}function wC(){return Zt=Wn>0?xn(xl,--Wn):0,pl--,Zt===10&&(pl=1,ad--),Zt}function Xn(){return Zt=Wn<D1?xn(xl,Wn++):0,pl++,Zt===10&&(pl=1,ad++),Zt}function Ks(){return xn(xl,Wn)}function Qo(){return Wn}function Ki(t,n){return Ei(xl,t,n)}function Ii(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function R1(t){return ad=pl=1,D1=Os(xl=t),Wn=0,[]}function A1(t){return xl="",t}function Xo(t){return z1(Ki(Wn-1,qm(t===91?t+2:t===40?t+1:t)))}function TC(t){for(;(Zt=Ks())&&Zt<33;)Xn();return Ii(t)>2||Ii(Zt)>3?"":" "}function zC(t,n){for(;--n&&Xn()&&!(Zt<48||Zt>102||Zt>57&&Zt<65||Zt>70&&Zt<97););return Ki(t,Qo()+(n<6&&Ks()==32&&Xn()==32))}function qm(t){for(;Xn();)switch(Zt){case t:return Wn;case 34:case 39:t!==34&&t!==39&&qm(Zt);break;case 40:t===41&&qm(t);break;case 92:Xn();break}return Wn}function DC(t,n){for(;Xn()&&t+Zt!==57;)if(t+Zt===84&&Ks()===47)break;return"/*"+Ki(n,Wn-1)+"*"+rd(t===47?t:Xn())}function RC(t){for(;!Ii(Ks());)Xn();return Ki(t,Wn)}function AC(t){return A1(Zo("",null,null,null,[""],t=R1(t),0,[0],t))}function Zo(t,n,s,r,a,l,i,o,d){for(var m=0,p=0,g=i,h=0,k=0,x=0,w=1,N=1,f=1,v=0,b="",y=a,S=l,j=r,z=b;N;)switch(x=v,v=Xn()){case 40:if(x!=108&&xn(z,g-1)==58){Vm(z+=jt(Xo(v),"&","&\f"),"&\f")!=-1&&(f=-1);break}case 34:case 39:case 91:z+=Xo(v);break;case 9:case 10:case 13:case 32:z+=TC(x);break;case 92:z+=zC(Qo()-1,7);continue;case 47:switch(Ks()){case 42:case 47:bo(EC(DC(Xn(),Qo()),n,s),d);break;default:z+="/"}break;case 123*w:o[m++]=Os(z)*f;case 125*w:case 59:case 0:switch(v){case 0:case 125:N=0;case 59+p:f==-1&&(z=jt(z,/\f/g,"")),k>0&&Os(z)-g&&bo(k>32?wv(z+";",r,s,g-1):wv(jt(z," ","")+";",r,s,g-2),d);break;case 59:z+=";";default:if(bo(j=Cv(z,n,s,m,p,a,o,b,y=[],S=[],g),l),v===123)if(p===0)Zo(z,n,j,j,y,l,g,o,S);else switch(h===99&&xn(z,3)===110?100:h){case 100:case 108:case 109:case 115:Zo(t,j,j,r&&bo(Cv(t,j,j,0,0,a,o,b,a,y=[],g),S),a,S,g,o,r?y:S);break;default:Zo(z,j,j,j,[""],S,0,o,S)}}m=p=k=0,w=f=1,b=z="",g=i;break;case 58:g=1+Os(z),k=x;default:if(w<1){if(v==123)--w;else if(v==125&&w++==0&&wC()==125)continue}switch(z+=rd(v),v*w){case 38:f=p>0?1:(z+="\f",-1);break;case 44:o[m++]=(Os(z)-1)*f,f=1;break;case 64:Ks()===45&&(z+=Xo(Xn())),h=Ks(),p=g=Os(b=z+=RC(Qo())),v++;break;case 45:x===45&&Os(z)==2&&(w=0)}}return l}function Cv(t,n,s,r,a,l,i,o,d,m,p){for(var g=a-1,h=a===0?l:[""],k=yh(h),x=0,w=0,N=0;x<r;++x)for(var f=0,v=Ei(t,g+1,g=jC(w=i[x])),b=t;f<k;++f)(b=z1(w>0?h[f]+" "+v:jt(v,/&\f/g,h[f])))&&(d[N++]=b);return ld(t,n,s,a===0?fh:o,d,m,p)}function EC(t,n,s){return ld(t,n,s,w1,rd(CC()),Ei(t,2,-2),0)}function wv(t,n,s,r){return ld(t,n,s,gh,Ei(t,0,r),Ei(t,r+1,-1),r)}function sl(t,n){for(var s="",r=yh(t),a=0;a<r;a++)s+=n(t[a],a,t,n)||"";return s}function IC(t,n,s,r){switch(t.type){case vC:if(t.children.length)break;case xC:case gh:return t.return=t.return||t.value;case w1:return"";case T1:return t.return=t.value+"{"+sl(t.children,r)+"}";case fh:t.value=t.props.join(",")}return Os(s=sl(t.children,r))?t.return=t.value+"{"+s+"}":""}function MC(t){var n=yh(t);return function(s,r,a,l){for(var i="",o=0;o<n;o++)i+=t[o](s,r,a,l)||"";return i}}function PC(t){return function(n){n.root||(n=n.return)&&t(n)}}function E1(t){var n=Object.create(null);return function(s){return n[s]===void 0&&(n[s]=t(s)),n[s]}}var LC=function(n,s,r){for(var a=0,l=0;a=l,l=Ks(),a===38&&l===12&&(s[r]=1),!Ii(l);)Xn();return Ki(n,Wn)},BC=function(n,s){var r=-1,a=44;do switch(Ii(a)){case 0:a===38&&Ks()===12&&(s[r]=1),n[r]+=LC(Wn-1,s,r);break;case 2:n[r]+=Xo(a);break;case 4:if(a===44){n[++r]=Ks()===58?"&\f":"",s[r]=n[r].length;break}default:n[r]+=rd(a)}while(a=Xn());return n},OC=function(n,s){return A1(BC(R1(n),s))},Tv=new WeakMap,$C=function(n){if(!(n.type!=="rule"||!n.parent||n.length<1)){for(var s=n.value,r=n.parent,a=n.column===r.column&&n.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(n.props.length===1&&s.charCodeAt(0)!==58&&!Tv.get(r))&&!a){Tv.set(n,!0);for(var l=[],i=OC(s,l),o=r.props,d=0,m=0;d<i.length;d++)for(var p=0;p<o.length;p++,m++)n.props[m]=l[d]?i[d].replace(/&\f/g,o[p]):o[p]+" "+i[d]}}},_C=function(n){if(n.type==="decl"){var s=n.value;s.charCodeAt(0)===108&&s.charCodeAt(2)===98&&(n.return="",n.value="")}};function I1(t,n){switch(SC(t,n)){case 5103:return vt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return vt+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return vt+t+Rc+t+kn+t+t;case 6828:case 4268:return vt+t+kn+t+t;case 6165:return vt+t+kn+"flex-"+t+t;case 5187:return vt+t+jt(t,/(\w+).+(:[^]+)/,vt+"box-$1$2"+kn+"flex-$1$2")+t;case 5443:return vt+t+kn+"flex-item-"+jt(t,/flex-|-self/,"")+t;case 4675:return vt+t+kn+"flex-line-pack"+jt(t,/align-content|flex-|-self/,"")+t;case 5548:return vt+t+kn+jt(t,"shrink","negative")+t;case 5292:return vt+t+kn+jt(t,"basis","preferred-size")+t;case 6060:return vt+"box-"+jt(t,"-grow","")+vt+t+kn+jt(t,"grow","positive")+t;case 4554:return vt+jt(t,/([^-])(transform)/g,"$1"+vt+"$2")+t;case 6187:return jt(jt(jt(t,/(zoom-|grab)/,vt+"$1"),/(image-set)/,vt+"$1"),t,"")+t;case 5495:case 3959:return jt(t,/(image-set\([^]*)/,vt+"$1$`$1");case 4968:return jt(jt(t,/(.+:)(flex-)?(.*)/,vt+"box-pack:$3"+kn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+vt+t+t;case 4095:case 3583:case 4068:case 2532:return jt(t,/(.+)-inline(.+)/,vt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Os(t)-1-n>6)switch(xn(t,n+1)){case 109:if(xn(t,n+4)!==45)break;case 102:return jt(t,/(.+:)(.+)-([^]+)/,"$1"+vt+"$2-$3$1"+Rc+(xn(t,n+3)==108?"$3":"$2-$3"))+t;case 115:return~Vm(t,"stretch")?I1(jt(t,"stretch","fill-available"),n)+t:t}break;case 4949:if(xn(t,n+1)!==115)break;case 6444:switch(xn(t,Os(t)-3-(~Vm(t,"!important")&&10))){case 107:return jt(t,":",":"+vt)+t;case 101:return jt(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+vt+(xn(t,14)===45?"inline-":"")+"box$3$1"+vt+"$2$3$1"+kn+"$2box$3")+t}break;case 5936:switch(xn(t,n+11)){case 114:return vt+t+kn+jt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return vt+t+kn+jt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return vt+t+kn+jt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return vt+t+kn+t+t}return t}var FC=function(n,s,r,a){if(n.length>-1&&!n.return)switch(n.type){case gh:n.return=I1(n.value,n.length);break;case T1:return sl([Ol(n,{value:jt(n.value,"@","@"+vt)})],a);case fh:if(n.length)return kC(n.props,function(l){switch(NC(l,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return sl([Ol(n,{props:[jt(l,/:(read-\w+)/,":"+Rc+"$1")]})],a);case"::placeholder":return sl([Ol(n,{props:[jt(l,/:(plac\w+)/,":"+vt+"input-$1")]}),Ol(n,{props:[jt(l,/:(plac\w+)/,":"+Rc+"$1")]}),Ol(n,{props:[jt(l,/:(plac\w+)/,kn+"input-$1")]})],a)}return""})}},WC=[FC],UC=function(n){var s=n.key;if(s==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(w){var N=w.getAttribute("data-emotion");N.indexOf(" ")!==-1&&(document.head.appendChild(w),w.setAttribute("data-s",""))})}var a=n.stylisPlugins||WC,l={},i,o=[];i=n.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+s+' "]'),function(w){for(var N=w.getAttribute("data-emotion").split(" "),f=1;f<N.length;f++)l[N[f]]=!0;o.push(w)});var d,m=[$C,_C];{var p,g=[IC,PC(function(w){p.insert(w)})],h=MC(m.concat(a,g)),k=function(N){return sl(AC(N),h)};d=function(N,f,v,b){p=v,k(N?N+"{"+f.styles+"}":f.styles),b&&(x.inserted[f.name]=!0)}}var x={key:s,sheet:new yC({key:s,container:i,nonce:n.nonce,speedy:n.speedy,prepend:n.prepend,insertionPoint:n.insertionPoint}),nonce:n.nonce,inserted:l,registered:{},insert:d};return x.sheet.hydrate(o),x},M1={exports:{}},zt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fn=typeof Symbol=="function"&&Symbol.for,xh=fn?Symbol.for("react.element"):60103,vh=fn?Symbol.for("react.portal"):60106,id=fn?Symbol.for("react.fragment"):60107,od=fn?Symbol.for("react.strict_mode"):60108,cd=fn?Symbol.for("react.profiler"):60114,dd=fn?Symbol.for("react.provider"):60109,ud=fn?Symbol.for("react.context"):60110,jh=fn?Symbol.for("react.async_mode"):60111,md=fn?Symbol.for("react.concurrent_mode"):60111,pd=fn?Symbol.for("react.forward_ref"):60112,hd=fn?Symbol.for("react.suspense"):60113,KC=fn?Symbol.for("react.suspense_list"):60120,fd=fn?Symbol.for("react.memo"):60115,gd=fn?Symbol.for("react.lazy"):60116,HC=fn?Symbol.for("react.block"):60121,VC=fn?Symbol.for("react.fundamental"):60117,qC=fn?Symbol.for("react.responder"):60118,YC=fn?Symbol.for("react.scope"):60119;function ns(t){if(typeof t=="object"&&t!==null){var n=t.$$typeof;switch(n){case xh:switch(t=t.type,t){case jh:case md:case id:case cd:case od:case hd:return t;default:switch(t=t&&t.$$typeof,t){case ud:case pd:case gd:case fd:case dd:return t;default:return n}}case vh:return n}}}function P1(t){return ns(t)===md}zt.AsyncMode=jh;zt.ConcurrentMode=md;zt.ContextConsumer=ud;zt.ContextProvider=dd;zt.Element=xh;zt.ForwardRef=pd;zt.Fragment=id;zt.Lazy=gd;zt.Memo=fd;zt.Portal=vh;zt.Profiler=cd;zt.StrictMode=od;zt.Suspense=hd;zt.isAsyncMode=function(t){return P1(t)||ns(t)===jh};zt.isConcurrentMode=P1;zt.isContextConsumer=function(t){return ns(t)===ud};zt.isContextProvider=function(t){return ns(t)===dd};zt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===xh};zt.isForwardRef=function(t){return ns(t)===pd};zt.isFragment=function(t){return ns(t)===id};zt.isLazy=function(t){return ns(t)===gd};zt.isMemo=function(t){return ns(t)===fd};zt.isPortal=function(t){return ns(t)===vh};zt.isProfiler=function(t){return ns(t)===cd};zt.isStrictMode=function(t){return ns(t)===od};zt.isSuspense=function(t){return ns(t)===hd};zt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===id||t===md||t===cd||t===od||t===hd||t===KC||typeof t=="object"&&t!==null&&(t.$$typeof===gd||t.$$typeof===fd||t.$$typeof===dd||t.$$typeof===ud||t.$$typeof===pd||t.$$typeof===VC||t.$$typeof===qC||t.$$typeof===YC||t.$$typeof===HC)};zt.typeOf=ns;M1.exports=zt;var GC=M1.exports,L1=GC,JC={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},QC={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},B1={};B1[L1.ForwardRef]=JC;B1[L1.Memo]=QC;var XC=!0;function O1(t,n,s){var r="";return s.split(" ").forEach(function(a){t[a]!==void 0?n.push(t[a]+";"):a&&(r+=a+" ")}),r}var bh=function(n,s,r){var a=n.key+"-"+s.name;(r===!1||XC===!1)&&n.registered[a]===void 0&&(n.registered[a]=s.styles)},Sh=function(n,s,r){bh(n,s,r);var a=n.key+"-"+s.name;if(n.inserted[s.name]===void 0){var l=s;do n.insert(s===l?"."+a:"",l,n.sheet,!0),l=l.next;while(l!==void 0)}};function ZC(t){for(var n=0,s,r=0,a=t.length;a>=4;++r,a-=4)s=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,s=(s&65535)*1540483477+((s>>>16)*59797<<16),s^=s>>>24,n=(s&65535)*1540483477+((s>>>16)*59797<<16)^(n&65535)*1540483477+((n>>>16)*59797<<16);switch(a){case 3:n^=(t.charCodeAt(r+2)&255)<<16;case 2:n^=(t.charCodeAt(r+1)&255)<<8;case 1:n^=t.charCodeAt(r)&255,n=(n&65535)*1540483477+((n>>>16)*59797<<16)}return n^=n>>>13,n=(n&65535)*1540483477+((n>>>16)*59797<<16),((n^n>>>15)>>>0).toString(36)}var ew={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},tw=/[A-Z]|^ms/g,nw=/_EMO_([^_]+?)_([^]*?)_EMO_/g,$1=function(n){return n.charCodeAt(1)===45},zv=function(n){return n!=null&&typeof n!="boolean"},Su=E1(function(t){return $1(t)?t:t.replace(tw,"-$&").toLowerCase()}),Dv=function(n,s){switch(n){case"animation":case"animationName":if(typeof s=="string")return s.replace(nw,function(r,a,l){return $s={name:a,styles:l,next:$s},a})}return ew[n]!==1&&!$1(n)&&typeof s=="number"&&s!==0?s+"px":s};function Mi(t,n,s){if(s==null)return"";var r=s;if(r.__emotion_styles!==void 0)return r;switch(typeof s){case"boolean":return"";case"object":{var a=s;if(a.anim===1)return $s={name:a.name,styles:a.styles,next:$s},a.name;var l=s;if(l.styles!==void 0){var i=l.next;if(i!==void 0)for(;i!==void 0;)$s={name:i.name,styles:i.styles,next:$s},i=i.next;var o=l.styles+";";return o}return sw(t,n,s)}case"function":{if(t!==void 0){var d=$s,m=s(t);return $s=d,Mi(t,n,m)}break}}var p=s;if(n==null)return p;var g=n[p];return g!==void 0?g:p}function sw(t,n,s){var r="";if(Array.isArray(s))for(var a=0;a<s.length;a++)r+=Mi(t,n,s[a])+";";else for(var l in s){var i=s[l];if(typeof i!="object"){var o=i;n!=null&&n[o]!==void 0?r+=l+"{"+n[o]+"}":zv(o)&&(r+=Su(l)+":"+Dv(l,o)+";")}else if(Array.isArray(i)&&typeof i[0]=="string"&&(n==null||n[i[0]]===void 0))for(var d=0;d<i.length;d++)zv(i[d])&&(r+=Su(l)+":"+Dv(l,i[d])+";");else{var m=Mi(t,n,i);switch(l){case"animation":case"animationName":{r+=Su(l)+":"+m+";";break}default:r+=l+"{"+m+"}"}}}return r}var Rv=/label:\s*([^\s;{]+)\s*(;|$)/g,$s;function Hi(t,n,s){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,a="";$s=void 0;var l=t[0];if(l==null||l.raw===void 0)r=!1,a+=Mi(s,n,l);else{var i=l;a+=i[0]}for(var o=1;o<t.length;o++)if(a+=Mi(s,n,t[o]),r){var d=l;a+=d[o]}Rv.lastIndex=0;for(var m="",p;(p=Rv.exec(a))!==null;)m+="-"+p[1];var g=ZC(a)+m;return{name:g,styles:a,next:$s}}var rw=function(n){return n()},_1=rc.useInsertionEffect?rc.useInsertionEffect:!1,F1=_1||rw,Av=_1||c.useLayoutEffect,W1=c.createContext(typeof HTMLElement<"u"?UC({key:"css"}):null);W1.Provider;var Nh=function(n){return c.forwardRef(function(s,r){var a=c.useContext(W1);return n(s,a,r)})},Vi=c.createContext({}),kh={}.hasOwnProperty,Ym="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",aw=function(n,s){var r={};for(var a in s)kh.call(s,a)&&(r[a]=s[a]);return r[Ym]=n,r},lw=function(n){var s=n.cache,r=n.serialized,a=n.isStringTag;return bh(s,r,a),F1(function(){return Sh(s,r,a)}),null},iw=Nh(function(t,n,s){var r=t.css;typeof r=="string"&&n.registered[r]!==void 0&&(r=n.registered[r]);var a=t[Ym],l=[r],i="";typeof t.className=="string"?i=O1(n.registered,l,t.className):t.className!=null&&(i=t.className+" ");var o=Hi(l,void 0,c.useContext(Vi));i+=n.key+"-"+o.name;var d={};for(var m in t)kh.call(t,m)&&m!=="css"&&m!==Ym&&(d[m]=t[m]);return d.className=i,s&&(d.ref=s),c.createElement(c.Fragment,null,c.createElement(lw,{cache:n,serialized:o,isStringTag:typeof a=="string"}),c.createElement(a,d))}),ow=iw,Ev=function(n,s){var r=arguments;if(s==null||!kh.call(s,"css"))return c.createElement.apply(void 0,r);var a=r.length,l=new Array(a);l[0]=ow,l[1]=aw(n,s);for(var i=2;i<a;i++)l[i]=r[i];return c.createElement.apply(null,l)};(function(t){var n;n||(n=t.JSX||(t.JSX={}))})(Ev||(Ev={}));var cw=Nh(function(t,n){var s=t.styles,r=Hi([s],void 0,c.useContext(Vi)),a=c.useRef();return Av(function(){var l=n.key+"-global",i=new n.sheet.constructor({key:l,nonce:n.sheet.nonce,container:n.sheet.container,speedy:n.sheet.isSpeedy}),o=!1,d=document.querySelector('style[data-emotion="'+l+" "+r.name+'"]');return n.sheet.tags.length&&(i.before=n.sheet.tags[0]),d!==null&&(o=!0,d.setAttribute("data-emotion",l),i.hydrate([d])),a.current=[i,o],function(){i.flush()}},[n]),Av(function(){var l=a.current,i=l[0],o=l[1];if(o){l[1]=!1;return}if(r.next!==void 0&&Sh(n,r.next,!0),i.tags.length){var d=i.tags[i.tags.length-1].nextElementSibling;i.before=d,i.flush()}n.insert("",r,i,!1)},[n,r.name]),null});function dw(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return Hi(n)}function Ch(){var t=dw.apply(void 0,arguments),n="animation-"+t.name;return{name:n,styles:"@keyframes "+n+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var uw=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,mw=E1(function(t){return uw.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),pw=mw,hw=function(n){return n!=="theme"},Iv=function(n){return typeof n=="string"&&n.charCodeAt(0)>96?pw:hw},Mv=function(n,s,r){var a;if(s){var l=s.shouldForwardProp;a=n.__emotion_forwardProp&&l?function(i){return n.__emotion_forwardProp(i)&&l(i)}:l}return typeof a!="function"&&r&&(a=n.__emotion_forwardProp),a},fw=function(n){var s=n.cache,r=n.serialized,a=n.isStringTag;return bh(s,r,a),F1(function(){return Sh(s,r,a)}),null},gw=function t(n,s){var r=n.__emotion_real===n,a=r&&n.__emotion_base||n,l,i;s!==void 0&&(l=s.label,i=s.target);var o=Mv(n,s,r),d=o||Iv(a),m=!d("as");return function(){var p=arguments,g=r&&n.__emotion_styles!==void 0?n.__emotion_styles.slice(0):[];if(l!==void 0&&g.push("label:"+l+";"),p[0]==null||p[0].raw===void 0)g.push.apply(g,p);else{var h=p[0];g.push(h[0]);for(var k=p.length,x=1;x<k;x++)g.push(p[x],h[x])}var w=Nh(function(N,f,v){var b=m&&N.as||a,y="",S=[],j=N;if(N.theme==null){j={};for(var z in N)j[z]=N[z];j.theme=c.useContext(Vi)}typeof N.className=="string"?y=O1(f.registered,S,N.className):N.className!=null&&(y=N.className+" ");var P=Hi(g.concat(S),f.registered,j);y+=f.key+"-"+P.name,i!==void 0&&(y+=" "+i);var $=m&&o===void 0?Iv(b):d,B={};for(var q in N)m&&q==="as"||$(q)&&(B[q]=N[q]);return B.className=y,v&&(B.ref=v),c.createElement(c.Fragment,null,c.createElement(fw,{cache:f,serialized:P,isStringTag:typeof b=="string"}),c.createElement(b,B))});return w.displayName=l!==void 0?l:"Styled("+(typeof a=="string"?a:a.displayName||a.name||"Component")+")",w.defaultProps=n.defaultProps,w.__emotion_real=w,w.__emotion_base=a,w.__emotion_styles=g,w.__emotion_forwardProp=o,Object.defineProperty(w,"toString",{value:function(){return"."+i}}),w.withComponent=function(N,f){var v=t(N,Dc({},s,f,{shouldForwardProp:Mv(w,f,!0)}));return v.apply(void 0,g)},w}},yw=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Gm=gw.bind(null);yw.forEach(function(t){Gm[t]=Gm(t)});function xw(t){return t==null||Object.keys(t).length===0}function U1(t){const{styles:n,defaultTheme:s={}}=t,r=typeof n=="function"?a=>n(xw(a)?s:a):n;return e.jsx(cw,{styles:r})}function vw(t,n){return Gm(t,n)}function jw(t,n){Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=n(t.__emotion_styles))}const Pv=[];function Pr(t){return Pv[0]=t,Hi(Pv)}var K1={exports:{}},Et={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wh=Symbol.for("react.transitional.element"),Th=Symbol.for("react.portal"),yd=Symbol.for("react.fragment"),xd=Symbol.for("react.strict_mode"),vd=Symbol.for("react.profiler"),jd=Symbol.for("react.consumer"),bd=Symbol.for("react.context"),Sd=Symbol.for("react.forward_ref"),Nd=Symbol.for("react.suspense"),kd=Symbol.for("react.suspense_list"),Cd=Symbol.for("react.memo"),wd=Symbol.for("react.lazy"),bw=Symbol.for("react.view_transition"),Sw=Symbol.for("react.client.reference");function ys(t){if(typeof t=="object"&&t!==null){var n=t.$$typeof;switch(n){case wh:switch(t=t.type,t){case yd:case vd:case xd:case Nd:case kd:case bw:return t;default:switch(t=t&&t.$$typeof,t){case bd:case Sd:case wd:case Cd:return t;case jd:return t;default:return n}}case Th:return n}}}Et.ContextConsumer=jd;Et.ContextProvider=bd;Et.Element=wh;Et.ForwardRef=Sd;Et.Fragment=yd;Et.Lazy=wd;Et.Memo=Cd;Et.Portal=Th;Et.Profiler=vd;Et.StrictMode=xd;Et.Suspense=Nd;Et.SuspenseList=kd;Et.isContextConsumer=function(t){return ys(t)===jd};Et.isContextProvider=function(t){return ys(t)===bd};Et.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===wh};Et.isForwardRef=function(t){return ys(t)===Sd};Et.isFragment=function(t){return ys(t)===yd};Et.isLazy=function(t){return ys(t)===wd};Et.isMemo=function(t){return ys(t)===Cd};Et.isPortal=function(t){return ys(t)===Th};Et.isProfiler=function(t){return ys(t)===vd};Et.isStrictMode=function(t){return ys(t)===xd};Et.isSuspense=function(t){return ys(t)===Nd};Et.isSuspenseList=function(t){return ys(t)===kd};Et.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===yd||t===vd||t===xd||t===Nd||t===kd||typeof t=="object"&&t!==null&&(t.$$typeof===wd||t.$$typeof===Cd||t.$$typeof===bd||t.$$typeof===jd||t.$$typeof===Sd||t.$$typeof===Sw||t.getModuleId!==void 0)};Et.typeOf=ys;K1.exports=Et;var H1=K1.exports;function tr(t){if(typeof t!="object"||t===null)return!1;const n=Object.getPrototypeOf(t);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function V1(t){if(c.isValidElement(t)||H1.isValidElementType(t)||!tr(t))return t;const n={};return Object.keys(t).forEach(s=>{n[s]=V1(t[s])}),n}function wn(t,n,s={clone:!0}){const r=s.clone?{...t}:t;return tr(t)&&tr(n)&&Object.keys(n).forEach(a=>{c.isValidElement(n[a])||H1.isValidElementType(n[a])?r[a]=n[a]:tr(n[a])&&Object.prototype.hasOwnProperty.call(t,a)&&tr(t[a])?r[a]=wn(t[a],n[a],s):s.clone?r[a]=tr(n[a])?V1(n[a]):n[a]:r[a]=n[a]}),r}const Nw=t=>{const n=Object.keys(t).map(s=>({key:s,val:t[s]}))||[];return n.sort((s,r)=>s.val-r.val),n.reduce((s,r)=>({...s,[r.key]:r.val}),{})};function kw(t){const{values:n={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:s="px",step:r=5,...a}=t,l=Nw(n),i=Object.keys(l);function o(h){return`@media (min-width:${typeof n[h]=="number"?n[h]:h}${s})`}function d(h){return`@media (max-width:${(typeof n[h]=="number"?n[h]:h)-r/100}${s})`}function m(h,k){const x=i.indexOf(k);return`@media (min-width:${typeof n[h]=="number"?n[h]:h}${s}) and (max-width:${(x!==-1&&typeof n[i[x]]=="number"?n[i[x]]:k)-r/100}${s})`}function p(h){return i.indexOf(h)+1<i.length?m(h,i[i.indexOf(h)+1]):o(h)}function g(h){const k=i.indexOf(h);return k===0?o(i[1]):k===i.length-1?d(i[k]):m(h,i[i.indexOf(h)+1]).replace("@media","@media not all and")}return{keys:i,values:l,up:o,down:d,between:m,only:p,not:g,unit:s,...a}}function Lv(t,n){if(!t.containerQueries)return n;const s=Object.keys(n).filter(r=>r.startsWith("@container")).sort((r,a)=>{var i,o;const l=/min-width:\s*([0-9.]+)/;return+(((i=r.match(l))==null?void 0:i[1])||0)-+(((o=a.match(l))==null?void 0:o[1])||0)});return s.length?s.reduce((r,a)=>{const l=n[a];return delete r[a],r[a]=l,r},{...n}):n}function Cw(t,n){return n==="@"||n.startsWith("@")&&(t.some(s=>n.startsWith(`@${s}`))||!!n.match(/^@\d/))}function ww(t,n){const s=n.match(/^@([^/]+)?\/?(.+)?$/);if(!s)return null;const[,r,a]=s,l=Number.isNaN(+r)?r||0:+r;return t.containerQueries(a).up(l)}function Tw(t){const n=(l,i)=>l.replace("@media",i?`@container ${i}`:"@container");function s(l,i){l.up=(...o)=>n(t.breakpoints.up(...o),i),l.down=(...o)=>n(t.breakpoints.down(...o),i),l.between=(...o)=>n(t.breakpoints.between(...o),i),l.only=(...o)=>n(t.breakpoints.only(...o),i),l.not=(...o)=>{const d=n(t.breakpoints.not(...o),i);return d.includes("not all and")?d.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):d}}const r={},a=l=>(s(r,l),r);return s(a),{...t,containerQueries:a}}const zw={borderRadius:4};function mi(t,n){return n?wn(t,n,{clone:!1}):t}const Td={xs:0,sm:600,md:900,lg:1200,xl:1536},Bv={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${Td[t]}px)`},Dw={containerQueries:t=>({up:n=>{let s=typeof n=="number"?n:Td[n]||n;return typeof s=="number"&&(s=`${s}px`),t?`@container ${t} (min-width:${s})`:`@container (min-width:${s})`}})};function mr(t,n,s){const r=t.theme||{};if(Array.isArray(n)){const l=r.breakpoints||Bv;return n.reduce((i,o,d)=>(i[l.up(l.keys[d])]=s(n[d]),i),{})}if(typeof n=="object"){const l=r.breakpoints||Bv;return Object.keys(n).reduce((i,o)=>{if(Cw(l.keys,o)){const d=ww(r.containerQueries?r:Dw,o);d&&(i[d]=s(n[o],o))}else if(Object.keys(l.values||Td).includes(o)){const d=l.up(o);i[d]=s(n[o],o)}else{const d=o;i[d]=n[d]}return i},{})}return s(n)}function Rw(t={}){var s;return((s=t.keys)==null?void 0:s.reduce((r,a)=>{const l=t.up(a);return r[l]={},r},{}))||{}}function Ov(t,n){return t.reduce((s,r)=>{const a=s[r];return(!a||Object.keys(a).length===0)&&delete s[r],s},n)}function hn(t){if(typeof t!="string")throw new Error(ur(7));return t.charAt(0).toUpperCase()+t.slice(1)}function zd(t,n,s=!0){if(!n||typeof n!="string")return null;if(t&&t.vars&&s){const r=`vars.${n}`.split(".").reduce((a,l)=>a&&a[l]?a[l]:null,t);if(r!=null)return r}return n.split(".").reduce((r,a)=>r&&r[a]!=null?r[a]:null,t)}function Ac(t,n,s,r=s){let a;return typeof t=="function"?a=t(s):Array.isArray(t)?a=t[s]||r:a=zd(t,s)||r,n&&(a=n(a,r,t)),a}function Xt(t){const{prop:n,cssProperty:s=t.prop,themeKey:r,transform:a}=t,l=i=>{if(i[n]==null)return null;const o=i[n],d=i.theme,m=zd(d,r)||{};return mr(i,o,g=>{let h=Ac(m,a,g);return g===h&&typeof g=="string"&&(h=Ac(m,a,`${n}${g==="default"?"":hn(g)}`,g)),s===!1?h:{[s]:h}})};return l.propTypes={},l.filterProps=[n],l}function Aw(t){const n={};return s=>(n[s]===void 0&&(n[s]=t(s)),n[s])}const Ew={m:"margin",p:"padding"},Iw={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},$v={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Mw=Aw(t=>{if(t.length>2)if($v[t])t=$v[t];else return[t];const[n,s]=t.split(""),r=Ew[n],a=Iw[s]||"";return Array.isArray(a)?a.map(l=>r+l):[r+a]}),zh=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Dh=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...zh,...Dh];function qi(t,n,s,r){const a=zd(t,n,!0)??s;return typeof a=="number"||typeof a=="string"?l=>typeof l=="string"?l:typeof a=="string"?a.startsWith("var(")&&l===0?0:a.startsWith("var(")&&l===1?a:`calc(${l} * ${a})`:a*l:Array.isArray(a)?l=>{if(typeof l=="string")return l;const i=Math.abs(l),o=a[i];return l>=0?o:typeof o=="number"?-o:typeof o=="string"&&o.startsWith("var(")?`calc(-1 * ${o})`:`-${o}`}:typeof a=="function"?a:()=>{}}function Rh(t){return qi(t,"spacing",8)}function Yi(t,n){return typeof n=="string"||n==null?n:t(n)}function Pw(t,n){return s=>t.reduce((r,a)=>(r[a]=Yi(n,s),r),{})}function Lw(t,n,s,r){if(!n.includes(s))return null;const a=Mw(s),l=Pw(a,r),i=t[s];return mr(t,i,l)}function q1(t,n){const s=Rh(t.theme);return Object.keys(t).map(r=>Lw(t,n,r,s)).reduce(mi,{})}function Ht(t){return q1(t,zh)}Ht.propTypes={};Ht.filterProps=zh;function Vt(t){return q1(t,Dh)}Vt.propTypes={};Vt.filterProps=Dh;function Y1(t=8,n=Rh({spacing:t})){if(t.mui)return t;const s=(...r)=>(r.length===0?[1]:r).map(l=>{const i=n(l);return typeof i=="number"?`${i}px`:i}).join(" ");return s.mui=!0,s}function Dd(...t){const n=t.reduce((r,a)=>(a.filterProps.forEach(l=>{r[l]=a}),r),{}),s=r=>Object.keys(r).reduce((a,l)=>n[l]?mi(a,n[l](r)):a,{});return s.propTypes={},s.filterProps=t.reduce((r,a)=>r.concat(a.filterProps),[]),s}function ds(t){return typeof t!="number"?t:`${t}px solid`}function xs(t,n){return Xt({prop:t,themeKey:"borders",transform:n})}const Bw=xs("border",ds),Ow=xs("borderTop",ds),$w=xs("borderRight",ds),_w=xs("borderBottom",ds),Fw=xs("borderLeft",ds),Ww=xs("borderColor"),Uw=xs("borderTopColor"),Kw=xs("borderRightColor"),Hw=xs("borderBottomColor"),Vw=xs("borderLeftColor"),qw=xs("outline",ds),Yw=xs("outlineColor"),Rd=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const n=qi(t.theme,"shape.borderRadius",4),s=r=>({borderRadius:Yi(n,r)});return mr(t,t.borderRadius,s)}return null};Rd.propTypes={};Rd.filterProps=["borderRadius"];Dd(Bw,Ow,$w,_w,Fw,Ww,Uw,Kw,Hw,Vw,Rd,qw,Yw);const Ad=t=>{if(t.gap!==void 0&&t.gap!==null){const n=qi(t.theme,"spacing",8),s=r=>({gap:Yi(n,r)});return mr(t,t.gap,s)}return null};Ad.propTypes={};Ad.filterProps=["gap"];const Ed=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const n=qi(t.theme,"spacing",8),s=r=>({columnGap:Yi(n,r)});return mr(t,t.columnGap,s)}return null};Ed.propTypes={};Ed.filterProps=["columnGap"];const Id=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const n=qi(t.theme,"spacing",8),s=r=>({rowGap:Yi(n,r)});return mr(t,t.rowGap,s)}return null};Id.propTypes={};Id.filterProps=["rowGap"];const Gw=Xt({prop:"gridColumn"}),Jw=Xt({prop:"gridRow"}),Qw=Xt({prop:"gridAutoFlow"}),Xw=Xt({prop:"gridAutoColumns"}),Zw=Xt({prop:"gridAutoRows"}),eT=Xt({prop:"gridTemplateColumns"}),tT=Xt({prop:"gridTemplateRows"}),nT=Xt({prop:"gridTemplateAreas"}),sT=Xt({prop:"gridArea"});Dd(Ad,Ed,Id,Gw,Jw,Qw,Xw,Zw,eT,tT,nT,sT);function rl(t,n){return n==="grey"?n:t}const rT=Xt({prop:"color",themeKey:"palette",transform:rl}),aT=Xt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:rl}),lT=Xt({prop:"backgroundColor",themeKey:"palette",transform:rl});Dd(rT,aT,lT);function Gn(t){return t<=1&&t!==0?`${t*100}%`:t}const iT=Xt({prop:"width",transform:Gn}),Ah=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const n=s=>{var a,l,i,o,d;const r=((i=(l=(a=t.theme)==null?void 0:a.breakpoints)==null?void 0:l.values)==null?void 0:i[s])||Td[s];return r?((d=(o=t.theme)==null?void 0:o.breakpoints)==null?void 0:d.unit)!=="px"?{maxWidth:`${r}${t.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:Gn(s)}};return mr(t,t.maxWidth,n)}return null};Ah.filterProps=["maxWidth"];const oT=Xt({prop:"minWidth",transform:Gn}),cT=Xt({prop:"height",transform:Gn}),dT=Xt({prop:"maxHeight",transform:Gn}),uT=Xt({prop:"minHeight",transform:Gn});Xt({prop:"size",cssProperty:"width",transform:Gn});Xt({prop:"size",cssProperty:"height",transform:Gn});const mT=Xt({prop:"boxSizing"});Dd(iT,Ah,oT,cT,dT,uT,mT);const Md={border:{themeKey:"borders",transform:ds},borderTop:{themeKey:"borders",transform:ds},borderRight:{themeKey:"borders",transform:ds},borderBottom:{themeKey:"borders",transform:ds},borderLeft:{themeKey:"borders",transform:ds},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:ds},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Rd},color:{themeKey:"palette",transform:rl},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:rl},backgroundColor:{themeKey:"palette",transform:rl},p:{style:Vt},pt:{style:Vt},pr:{style:Vt},pb:{style:Vt},pl:{style:Vt},px:{style:Vt},py:{style:Vt},padding:{style:Vt},paddingTop:{style:Vt},paddingRight:{style:Vt},paddingBottom:{style:Vt},paddingLeft:{style:Vt},paddingX:{style:Vt},paddingY:{style:Vt},paddingInline:{style:Vt},paddingInlineStart:{style:Vt},paddingInlineEnd:{style:Vt},paddingBlock:{style:Vt},paddingBlockStart:{style:Vt},paddingBlockEnd:{style:Vt},m:{style:Ht},mt:{style:Ht},mr:{style:Ht},mb:{style:Ht},ml:{style:Ht},mx:{style:Ht},my:{style:Ht},margin:{style:Ht},marginTop:{style:Ht},marginRight:{style:Ht},marginBottom:{style:Ht},marginLeft:{style:Ht},marginX:{style:Ht},marginY:{style:Ht},marginInline:{style:Ht},marginInlineStart:{style:Ht},marginInlineEnd:{style:Ht},marginBlock:{style:Ht},marginBlockStart:{style:Ht},marginBlockEnd:{style:Ht},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Ad},rowGap:{style:Id},columnGap:{style:Ed},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Gn},maxWidth:{style:Ah},minWidth:{transform:Gn},height:{transform:Gn},maxHeight:{transform:Gn},minHeight:{transform:Gn},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function pT(...t){const n=t.reduce((r,a)=>r.concat(Object.keys(a)),[]),s=new Set(n);return t.every(r=>s.size===Object.keys(r).length)}function hT(t,n){return typeof t=="function"?t(n):t}function fT(){function t(s,r,a,l){const i={[s]:r,theme:a},o=l[s];if(!o)return{[s]:r};const{cssProperty:d=s,themeKey:m,transform:p,style:g}=o;if(r==null)return null;if(m==="typography"&&r==="inherit")return{[s]:r};const h=zd(a,m)||{};return g?g(i):mr(i,r,x=>{let w=Ac(h,p,x);return x===w&&typeof x=="string"&&(w=Ac(h,p,`${s}${x==="default"?"":hn(x)}`,x)),d===!1?w:{[d]:w}})}function n(s){const{sx:r,theme:a={},nested:l}=s||{};if(!r)return null;const i=a.unstable_sxConfig??Md;function o(d){let m=d;if(typeof d=="function")m=d(a);else if(typeof d!="object")return d;if(!m)return null;const p=Rw(a.breakpoints),g=Object.keys(p);let h=p;return Object.keys(m).forEach(k=>{const x=hT(m[k],a);if(x!=null)if(typeof x=="object")if(i[k])h=mi(h,t(k,x,a,i));else{const w=mr({theme:a},x,N=>({[k]:N}));pT(w,x)?h[k]=n({sx:x,theme:a,nested:!0}):h=mi(h,w)}else h=mi(h,t(k,x,a,i))}),!l&&a.modularCssLayers?{"@layer sx":Lv(a,Ov(g,h))}:Lv(a,Ov(g,h))}return Array.isArray(r)?r.map(o):o(r)}return n}const ya=fT();ya.filterProps=["sx"];function gT(t,n){var r;const s=this;if(s.vars){if(!((r=s.colorSchemes)!=null&&r[t])||typeof s.getColorSchemeSelector!="function")return{};let a=s.getColorSchemeSelector(t);return a==="&"?n:((a.includes("data-")||a.includes("."))&&(a=`*:where(${a.replace(/\s*&$/,"")}) &`),{[a]:n})}return s.palette.mode===t?n:{}}function Eh(t={},...n){const{breakpoints:s={},palette:r={},spacing:a,shape:l={},...i}=t,o=kw(s),d=Y1(a);let m=wn({breakpoints:o,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:d,shape:{...zw,...l}},i);return m=Tw(m),m.applyStyles=gT,m=n.reduce((p,g)=>wn(p,g),m),m.unstable_sxConfig={...Md,...i==null?void 0:i.unstable_sxConfig},m.unstable_sx=function(g){return ya({sx:g,theme:this})},m}function yT(t){return Object.keys(t).length===0}function Ih(t=null){const n=c.useContext(Vi);return!n||yT(n)?t:n}const xT=Eh();function G1(t=xT){return Ih(t)}function Nu(t){const n=Pr(t);return t!==n&&n.styles?(n.styles.match(/^@layer\s+[^{]*$/)||(n.styles=`@layer global{${n.styles}}`),n):t}function J1({styles:t,themeId:n,defaultTheme:s={}}){const r=G1(s),a=n&&r[n]||r;let l=typeof t=="function"?t(a):t;return a.modularCssLayers&&(Array.isArray(l)?l=l.map(i=>Nu(typeof i=="function"?i(a):i)):l=Nu(l)),e.jsx(U1,{styles:l})}const _v=t=>t,vT=()=>{let t=_v;return{configure(n){t=n},generate(n){return t(n)},reset(){t=_v}}},jT=vT();function Q1(t){var n,s,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(n=0;n<a;n++)t[n]&&(s=Q1(t[n]))&&(r&&(r+=" "),r+=s)}else for(s in t)t[s]&&(r&&(r+=" "),r+=s);return r}function ht(){for(var t,n,s=0,r="",a=arguments.length;s<a;s++)(t=arguments[s])&&(n=Q1(t))&&(r&&(r+=" "),r+=n);return r}const bT={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function tn(t,n,s="Mui"){const r=bT[n];return r?`${s}-${r}`:`${jT.generate(t)}-${n}`}function Yt(t,n,s="Mui"){const r={};return n.forEach(a=>{r[a]=tn(t,a,s)}),r}function X1(t){const{variants:n,...s}=t,r={variants:n,style:Pr(s),isProcessed:!0};return r.style===s||n&&n.forEach(a=>{typeof a.style!="function"&&(a.style=Pr(a.style))}),r}const ST=Eh();function ku(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function la(t,n){return n&&t&&typeof t=="object"&&t.styles&&!t.styles.startsWith("@layer")&&(t.styles=`@layer ${n}{${String(t.styles)}}`),t}function NT(t){return t?(n,s)=>s[t]:null}function kT(t,n,s){t.theme=TT(t.theme)?s:t.theme[n]||t.theme}function ec(t,n,s){const r=typeof n=="function"?n(t):n;if(Array.isArray(r))return r.flatMap(a=>ec(t,a,s));if(Array.isArray(r==null?void 0:r.variants)){let a;if(r.isProcessed)a=s?la(r.style,s):r.style;else{const{variants:l,...i}=r;a=s?la(Pr(i),s):i}return Z1(t,r.variants,[a],s)}return r!=null&&r.isProcessed?s?la(Pr(r.style),s):r.style:s?la(Pr(r),s):r}function Z1(t,n,s=[],r=void 0){var l;let a;e:for(let i=0;i<n.length;i+=1){const o=n[i];if(typeof o.props=="function"){if(a??(a={...t,...t.ownerState,ownerState:t.ownerState}),!o.props(a))continue}else for(const d in o.props)if(t[d]!==o.props[d]&&((l=t.ownerState)==null?void 0:l[d])!==o.props[d])continue e;typeof o.style=="function"?(a??(a={...t,...t.ownerState,ownerState:t.ownerState}),s.push(r?la(Pr(o.style(a)),r):o.style(a))):s.push(r?la(Pr(o.style),r):o.style)}return s}function CT(t={}){const{themeId:n,defaultTheme:s=ST,rootShouldForwardProp:r=ku,slotShouldForwardProp:a=ku}=t;function l(o){kT(o,n,s)}return(o,d={})=>{jw(o,j=>j.filter(z=>z!==ya));const{name:m,slot:p,skipVariantsResolver:g,skipSx:h,overridesResolver:k=NT(DT(p)),...x}=d,w=m&&m.startsWith("Mui")||p?"components":"custom",N=g!==void 0?g:p&&p!=="Root"&&p!=="root"||!1,f=h||!1;let v=ku;p==="Root"||p==="root"?v=r:p?v=a:zT(o)&&(v=void 0);const b=vw(o,{shouldForwardProp:v,label:wT(),...x}),y=j=>{if(j.__emotion_real===j)return j;if(typeof j=="function")return function(P){return ec(P,j,P.theme.modularCssLayers?w:void 0)};if(tr(j)){const z=X1(j);return function($){return z.variants?ec($,z,$.theme.modularCssLayers?w:void 0):$.theme.modularCssLayers?la(z.style,w):z.style}}return j},S=(...j)=>{const z=[],P=j.map(y),$=[];if(z.push(l),m&&k&&$.push(function(Z){var fe,Q;const O=(Q=(fe=Z.theme.components)==null?void 0:fe[m])==null?void 0:Q.styleOverrides;if(!O)return null;const _={};for(const le in O)_[le]=ec(Z,O[le],Z.theme.modularCssLayers?"theme":void 0);return k(Z,_)}),m&&!N&&$.push(function(Z){var _,fe;const A=Z.theme,O=(fe=(_=A==null?void 0:A.components)==null?void 0:_[m])==null?void 0:fe.variants;return O?Z1(Z,O,[],Z.theme.modularCssLayers?"theme":void 0):null}),f||$.push(ya),Array.isArray(P[0])){const C=P.shift(),Z=new Array(z.length).fill(""),A=new Array($.length).fill("");let O;O=[...Z,...C,...A],O.raw=[...Z,...C.raw,...A],z.unshift(O)}const B=[...z,...P,...$],q=b(...B);return o.muiName&&(q.muiName=o.muiName),q};return b.withConfig&&(S.withConfig=b.withConfig),S}}function wT(t,n){return void 0}function TT(t){for(const n in t)return!1;return!0}function zT(t){return typeof t=="string"&&t.charCodeAt(0)>96}function DT(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}function Jm(t,n,s=!1){const r={...n};for(const a in t)if(Object.prototype.hasOwnProperty.call(t,a)){const l=a;if(l==="components"||l==="slots")r[l]={...t[l],...r[l]};else if(l==="componentsProps"||l==="slotProps"){const i=t[l],o=n[l];if(!o)r[l]=i||{};else if(!i)r[l]=o;else{r[l]={...o};for(const d in i)if(Object.prototype.hasOwnProperty.call(i,d)){const m=d;r[l][m]=Jm(i[m],o[m],s)}}}else l==="className"&&s&&n.className?r.className=ht(t==null?void 0:t.className,n==null?void 0:n.className):l==="style"&&s&&n.style?r.style={...t==null?void 0:t.style,...n==null?void 0:n.style}:r[l]===void 0&&(r[l]=t[l])}return r}const qs=typeof window<"u"?c.useLayoutEffect:c.useEffect;function RT(t,n=Number.MIN_SAFE_INTEGER,s=Number.MAX_SAFE_INTEGER){return Math.max(n,Math.min(t,s))}function Mh(t,n=0,s=1){return RT(t,n,s)}function AT(t){t=t.slice(1);const n=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let s=t.match(n);return s&&s[0].length===1&&(s=s.map(r=>r+r)),s?`rgb${s.length===4?"a":""}(${s.map((r,a)=>a<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function $r(t){if(t.type)return t;if(t.charAt(0)==="#")return $r(AT(t));const n=t.indexOf("("),s=t.substring(0,n);if(!["rgb","rgba","hsl","hsla","color"].includes(s))throw new Error(ur(9,t));let r=t.substring(n+1,t.length-1),a;if(s==="color"){if(r=r.split(" "),a=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(a))throw new Error(ur(10,a))}else r=r.split(",");return r=r.map(l=>parseFloat(l)),{type:s,values:r,colorSpace:a}}const ET=t=>{const n=$r(t);return n.values.slice(0,3).map((s,r)=>n.type.includes("hsl")&&r!==0?`${s}%`:s).join(" ")},Zl=(t,n)=>{try{return ET(t)}catch{return t}};function Pd(t){const{type:n,colorSpace:s}=t;let{values:r}=t;return n.includes("rgb")?r=r.map((a,l)=>l<3?parseInt(a,10):a):n.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),n.includes("color")?r=`${s} ${r.join(" ")}`:r=`${r.join(", ")}`,`${n}(${r})`}function eS(t){t=$r(t);const{values:n}=t,s=n[0],r=n[1]/100,a=n[2]/100,l=r*Math.min(a,1-a),i=(m,p=(m+s/30)%12)=>a-l*Math.max(Math.min(p-3,9-p,1),-1);let o="rgb";const d=[Math.round(i(0)*255),Math.round(i(8)*255),Math.round(i(4)*255)];return t.type==="hsla"&&(o+="a",d.push(n[3])),Pd({type:o,values:d})}function Qm(t){t=$r(t);let n=t.type==="hsl"||t.type==="hsla"?$r(eS(t)).values:t.values;return n=n.map(s=>(t.type!=="color"&&(s/=255),s<=.03928?s/12.92:((s+.055)/1.055)**2.4)),Number((.2126*n[0]+.7152*n[1]+.0722*n[2]).toFixed(3))}function IT(t,n){const s=Qm(t),r=Qm(n);return(Math.max(s,r)+.05)/(Math.min(s,r)+.05)}function Ec(t,n){return t=$r(t),n=Mh(n),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${n}`:t.values[3]=n,Pd(t)}function Hr(t,n,s){try{return Ec(t,n)}catch{return t}}function Ld(t,n){if(t=$r(t),n=Mh(n),t.type.includes("hsl"))t.values[2]*=1-n;else if(t.type.includes("rgb")||t.type.includes("color"))for(let s=0;s<3;s+=1)t.values[s]*=1-n;return Pd(t)}function Ct(t,n,s){try{return Ld(t,n)}catch{return t}}function Bd(t,n){if(t=$r(t),n=Mh(n),t.type.includes("hsl"))t.values[2]+=(100-t.values[2])*n;else if(t.type.includes("rgb"))for(let s=0;s<3;s+=1)t.values[s]+=(255-t.values[s])*n;else if(t.type.includes("color"))for(let s=0;s<3;s+=1)t.values[s]+=(1-t.values[s])*n;return Pd(t)}function wt(t,n,s){try{return Bd(t,n)}catch{return t}}function MT(t,n=.15){return Qm(t)>.5?Ld(t,n):Bd(t,n)}function So(t,n,s){try{return MT(t,n)}catch{return t}}const tS=c.createContext(null);function Ph(){return c.useContext(tS)}const PT=typeof Symbol=="function"&&Symbol.for,LT=PT?Symbol.for("mui.nested"):"__THEME_NESTED__";function BT(t,n){return typeof n=="function"?n(t):{...t,...n}}function OT(t){const{children:n,theme:s}=t,r=Ph(),a=c.useMemo(()=>{const l=r===null?{...s}:BT(r,s);return l!=null&&(l[LT]=r!==null),l},[s,r]);return e.jsx(tS.Provider,{value:a,children:n})}const nS=c.createContext();function $T({value:t,...n}){return e.jsx(nS.Provider,{value:t??!0,...n})}const _T=()=>c.useContext(nS)??!1,sS=c.createContext(void 0);function FT({value:t,children:n}){return e.jsx(sS.Provider,{value:t,children:n})}function WT(t){const{theme:n,name:s,props:r}=t;if(!n||!n.components||!n.components[s])return r;const a=n.components[s];return a.defaultProps?Jm(a.defaultProps,r,n.components.mergeClassNameAndStyle):!a.styleOverrides&&!a.variants?Jm(a,r,n.components.mergeClassNameAndStyle):r}function UT({props:t,name:n}){const s=c.useContext(sS);return WT({props:t,name:n,theme:{components:s}})}let Fv=0;function KT(t){const[n,s]=c.useState(t),r=t||n;return c.useEffect(()=>{n==null&&(Fv+=1,s(`mui-${Fv}`))},[n]),r}const HT={...rc},Wv=HT.useId;function rS(t){return Wv!==void 0?Wv():KT(t)}function VT(t){const n=Ih(),s=rS()||"",{modularCssLayers:r}=t;let a="mui.global, mui.components, mui.theme, mui.custom, mui.sx";return!r||n!==null?a="":typeof r=="string"?a=r.replace(/mui(?!\.)/g,a):a=`@layer ${a};`,qs(()=>{var o,d;const l=document.querySelector("head");if(!l)return;const i=l.firstChild;if(a){if(i&&((o=i.hasAttribute)!=null&&o.call(i,"data-mui-layer-order"))&&i.getAttribute("data-mui-layer-order")===s)return;const m=document.createElement("style");m.setAttribute("data-mui-layer-order",s),m.textContent=a,l.prepend(m)}else(d=l.querySelector(`style[data-mui-layer-order="${s}"]`))==null||d.remove()},[a,s]),a?e.jsx(J1,{styles:a}):null}const Uv={};function Kv(t,n,s,r=!1){return c.useMemo(()=>{const a=t&&n[t]||n;if(typeof s=="function"){const l=s(a),i=t?{...n,[t]:l}:l;return r?()=>i:i}return t?{...n,[t]:s}:{...n,...s}},[t,n,s,r])}function aS(t){const{children:n,theme:s,themeId:r}=t,a=Ih(Uv),l=Ph()||Uv,i=Kv(r,a,s),o=Kv(r,l,s,!0),d=(r?i[r]:i).direction==="rtl",m=VT(i);return e.jsx(OT,{theme:o,children:e.jsx(Vi.Provider,{value:i,children:e.jsx($T,{value:d,children:e.jsxs(FT,{value:r?i[r].components:i.components,children:[m,n]})})})})}const Hv={theme:void 0};function qT(t){let n,s;return function(a){let l=n;return(l===void 0||a.theme!==s)&&(Hv.theme=a.theme,l=X1(t(Hv)),n=l,s=a.theme),l}}const Lh="mode",Bh="color-scheme",YT="data-color-scheme";function GT(t){const{defaultMode:n="system",defaultLightColorScheme:s="light",defaultDarkColorScheme:r="dark",modeStorageKey:a=Lh,colorSchemeStorageKey:l=Bh,attribute:i=YT,colorSchemeNode:o="document.documentElement",nonce:d}=t||{};let m="",p=i;if(i==="class"&&(p=".%s"),i==="data"&&(p="[data-%s]"),p.startsWith(".")){const h=p.substring(1);m+=`${o}.classList.remove('${h}'.replace('%s', light), '${h}'.replace('%s', dark));
      ${o}.classList.add('${h}'.replace('%s', colorScheme));`}const g=p.match(/\[([^[\]]+)\]/);if(g){const[h,k]=g[1].split("=");k||(m+=`${o}.removeAttribute('${h}'.replace('%s', light));
      ${o}.removeAttribute('${h}'.replace('%s', dark));`),m+=`
      ${o}.setAttribute('${h}'.replace('%s', colorScheme), ${k?`${k}.replace('%s', colorScheme)`:'""'});`}else p!==".%s"&&(m+=`${o}.setAttribute('${p}', colorScheme);`);return e.jsx("script",{suppressHydrationWarning:!0,nonce:typeof window>"u"?d:"",dangerouslySetInnerHTML:{__html:`(function() {
try {
  let colorScheme = '';
  const mode = localStorage.getItem('${a}') || '${n}';
  const dark = localStorage.getItem('${l}-dark') || '${r}';
  const light = localStorage.getItem('${l}-light') || '${s}';
  if (mode === 'system') {
    // handle system mode
    const mql = window.matchMedia('(prefers-color-scheme: dark)');
    if (mql.matches) {
      colorScheme = dark
    } else {
      colorScheme = light
    }
  }
  if (mode === 'light') {
    colorScheme = light;
  }
  if (mode === 'dark') {
    colorScheme = dark;
  }
  if (colorScheme) {
    ${m}
  }
} catch(e){}})();`}},"mui-color-scheme-init")}function JT(){}const QT=({key:t,storageWindow:n})=>(!n&&typeof window<"u"&&(n=window),{get(s){if(typeof window>"u")return;if(!n)return s;let r;try{r=n.localStorage.getItem(t)}catch{}return r||s},set:s=>{if(n)try{n.localStorage.setItem(t,s)}catch{}},subscribe:s=>{if(!n)return JT;const r=a=>{const l=a.newValue;a.key===t&&s(l)};return n.addEventListener("storage",r),()=>{n.removeEventListener("storage",r)}}});function Cu(){}function Vv(t){if(typeof window<"u"&&typeof window.matchMedia=="function"&&t==="system")return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function lS(t,n){if(t.mode==="light"||t.mode==="system"&&t.systemMode==="light")return n("light");if(t.mode==="dark"||t.mode==="system"&&t.systemMode==="dark")return n("dark")}function XT(t){return lS(t,n=>{if(n==="light")return t.lightColorScheme;if(n==="dark")return t.darkColorScheme})}function ZT(t){const{defaultMode:n="light",defaultLightColorScheme:s,defaultDarkColorScheme:r,supportedColorSchemes:a=[],modeStorageKey:l=Lh,colorSchemeStorageKey:i=Bh,storageWindow:o=typeof window>"u"?void 0:window,storageManager:d=QT,noSsr:m=!1}=t,p=a.join(","),g=a.length>1,h=c.useMemo(()=>d==null?void 0:d({key:l,storageWindow:o}),[d,l,o]),k=c.useMemo(()=>d==null?void 0:d({key:`${i}-light`,storageWindow:o}),[d,i,o]),x=c.useMemo(()=>d==null?void 0:d({key:`${i}-dark`,storageWindow:o}),[d,i,o]),[w,N]=c.useState(()=>{const P=(h==null?void 0:h.get(n))||n,$=(k==null?void 0:k.get(s))||s,B=(x==null?void 0:x.get(r))||r;return{mode:P,systemMode:Vv(P),lightColorScheme:$,darkColorScheme:B}}),[f,v]=c.useState(m||!g);c.useEffect(()=>{v(!0)},[]);const b=XT(w),y=c.useCallback(P=>{N($=>{if(P===$.mode)return $;const B=P??n;return h==null||h.set(B),{...$,mode:B,systemMode:Vv(B)}})},[h,n]),S=c.useCallback(P=>{P?typeof P=="string"?P&&!p.includes(P)?console.error(`\`${P}\` does not exist in \`theme.colorSchemes\`.`):N($=>{const B={...$};return lS($,q=>{q==="light"&&(k==null||k.set(P),B.lightColorScheme=P),q==="dark"&&(x==null||x.set(P),B.darkColorScheme=P)}),B}):N($=>{const B={...$},q=P.light===null?s:P.light,C=P.dark===null?r:P.dark;return q&&(p.includes(q)?(B.lightColorScheme=q,k==null||k.set(q)):console.error(`\`${q}\` does not exist in \`theme.colorSchemes\`.`)),C&&(p.includes(C)?(B.darkColorScheme=C,x==null||x.set(C)):console.error(`\`${C}\` does not exist in \`theme.colorSchemes\`.`)),B}):N($=>(k==null||k.set(s),x==null||x.set(r),{...$,lightColorScheme:s,darkColorScheme:r}))},[p,k,x,s,r]),j=c.useCallback(P=>{w.mode==="system"&&N($=>{const B=P!=null&&P.matches?"dark":"light";return $.systemMode===B?$:{...$,systemMode:B}})},[w.mode]),z=c.useRef(j);return z.current=j,c.useEffect(()=>{if(typeof window.matchMedia!="function"||!g)return;const P=(...B)=>z.current(...B),$=window.matchMedia("(prefers-color-scheme: dark)");return $.addListener(P),P($),()=>{$.removeListener(P)}},[g]),c.useEffect(()=>{if(g){const P=(h==null?void 0:h.subscribe(q=>{(!q||["light","dark","system"].includes(q))&&y(q||n)}))||Cu,$=(k==null?void 0:k.subscribe(q=>{(!q||p.match(q))&&S({light:q})}))||Cu,B=(x==null?void 0:x.subscribe(q=>{(!q||p.match(q))&&S({dark:q})}))||Cu;return()=>{P(),$(),B()}}},[S,y,p,n,o,g,h,k,x]),{...w,mode:f?w.mode:void 0,systemMode:f?w.systemMode:void 0,colorScheme:f?b:void 0,setMode:y,setColorScheme:S}}const e5="*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function t5(t){const{themeId:n,theme:s={},modeStorageKey:r=Lh,colorSchemeStorageKey:a=Bh,disableTransitionOnChange:l=!1,defaultColorScheme:i,resolveTheme:o}=t,d={allColorSchemes:[],colorScheme:void 0,darkColorScheme:void 0,lightColorScheme:void 0,mode:void 0,setColorScheme:()=>{},setMode:()=>{},systemMode:void 0},m=c.createContext(void 0),p=()=>c.useContext(m)||d,g={},h={};function k(f){var Re,se,Se,_e;const{children:v,theme:b,modeStorageKey:y=r,colorSchemeStorageKey:S=a,disableTransitionOnChange:j=l,storageManager:z,storageWindow:P=typeof window>"u"?void 0:window,documentNode:$=typeof document>"u"?void 0:document,colorSchemeNode:B=typeof document>"u"?void 0:document.documentElement,disableNestedContext:q=!1,disableStyleSheetGeneration:C=!1,defaultMode:Z="system",forceThemeRerender:A=!1,noSsr:O}=f,_=c.useRef(!1),fe=Ph(),Q=c.useContext(m),le=!!Q&&!q,ye=c.useMemo(()=>b||(typeof s=="function"?s():s),[b]),E=ye[n],D=E||ye,{colorSchemes:G=g,components:U=h,cssVarPrefix:H}=D,oe=Object.keys(G).filter(Qe=>!!G[Qe]).join(","),te=c.useMemo(()=>oe.split(","),[oe]),F=typeof i=="string"?i:i.light,J=typeof i=="string"?i:i.dark,xe=G[F]&&G[J]?Z:((se=(Re=G[D.defaultColorScheme])==null?void 0:Re.palette)==null?void 0:se.mode)||((Se=D.palette)==null?void 0:Se.mode),{mode:ie,setMode:L,systemMode:ne,lightColorScheme:he,darkColorScheme:M,colorScheme:re,setColorScheme:ke}=ZT({supportedColorSchemes:te,defaultLightColorScheme:F,defaultDarkColorScheme:J,modeStorageKey:y,colorSchemeStorageKey:S,defaultMode:xe,storageManager:z,storageWindow:P,noSsr:O});let be=ie,we=re;le&&(be=Q.mode,we=Q.colorScheme);let W=we||D.defaultColorScheme;D.vars&&!A&&(W=D.defaultColorScheme);const V=c.useMemo(()=>{var K;const Qe=((K=D.generateThemeVars)==null?void 0:K.call(D))||D.vars,Ue={...D,components:U,colorSchemes:G,cssVarPrefix:H,vars:Qe};if(typeof Ue.generateSpacing=="function"&&(Ue.spacing=Ue.generateSpacing()),W){const je=G[W];je&&typeof je=="object"&&Object.keys(je).forEach(Ae=>{je[Ae]&&typeof je[Ae]=="object"?Ue[Ae]={...Ue[Ae],...je[Ae]}:Ue[Ae]=je[Ae]})}return o?o(Ue):Ue},[D,W,U,G,H]),I=D.colorSchemeSelector;qs(()=>{if(we&&B&&I&&I!=="media"){const Qe=I;let Ue=I;if(Qe==="class"&&(Ue=".%s"),Qe==="data"&&(Ue="[data-%s]"),Qe!=null&&Qe.startsWith("data-")&&!Qe.includes("%s")&&(Ue=`[${Qe}="%s"]`),Ue.startsWith("."))B.classList.remove(...te.map(K=>Ue.substring(1).replace("%s",K))),B.classList.add(Ue.substring(1).replace("%s",we));else{const K=Ue.replace("%s",we).match(/\[([^\]]+)\]/);if(K){const[je,Ae]=K[1].split("=");Ae||te.forEach(X=>{B.removeAttribute(je.replace(we,X))}),B.setAttribute(je,Ae?Ae.replace(/"|'/g,""):"")}else B.setAttribute(Ue,we)}}},[we,I,B,te]),c.useEffect(()=>{let Qe;if(j&&_.current&&$){const Ue=$.createElement("style");Ue.appendChild($.createTextNode(e5)),$.head.appendChild(Ue),window.getComputedStyle($.body),Qe=setTimeout(()=>{$.head.removeChild(Ue)},1)}return()=>{clearTimeout(Qe)}},[we,j,$]),c.useEffect(()=>(_.current=!0,()=>{_.current=!1}),[]);const ce=c.useMemo(()=>({allColorSchemes:te,colorScheme:we,darkColorScheme:M,lightColorScheme:he,mode:be,setColorScheme:ke,setMode:L,systemMode:ne}),[te,we,M,he,be,ke,L,ne,V.colorSchemeSelector]);let ue=!0;(C||D.cssVariables===!1||le&&(fe==null?void 0:fe.cssVarPrefix)===H)&&(ue=!1);const De=e.jsxs(c.Fragment,{children:[e.jsx(aS,{themeId:E?n:void 0,theme:V,children:v}),ue&&e.jsx(U1,{styles:((_e=V.generateStyleSheets)==null?void 0:_e.call(V))||[]})]});return le?De:e.jsx(m.Provider,{value:ce,children:De})}const x=typeof i=="string"?i:i.light,w=typeof i=="string"?i:i.dark;return{CssVarsProvider:k,useColorScheme:p,getInitColorSchemeScript:f=>GT({colorSchemeStorageKey:a,defaultLightColorScheme:x,defaultDarkColorScheme:w,modeStorageKey:r,...f})}}function n5(t=""){function n(...r){if(!r.length)return"";const a=r[0];return typeof a=="string"&&!a.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${t?`${t}-`:""}${a}${n(...r.slice(1))})`:`, ${a}`}return(r,...a)=>`var(--${t?`${t}-`:""}${r}${n(...a)})`}const qv=(t,n,s,r=[])=>{let a=t;n.forEach((l,i)=>{i===n.length-1?Array.isArray(a)?a[Number(l)]=s:a&&typeof a=="object"&&(a[l]=s):a&&typeof a=="object"&&(a[l]||(a[l]=r.includes(l)?[]:{}),a=a[l])})},s5=(t,n,s)=>{function r(a,l=[],i=[]){Object.entries(a).forEach(([o,d])=>{(!s||s&&!s([...l,o]))&&d!=null&&(typeof d=="object"&&Object.keys(d).length>0?r(d,[...l,o],Array.isArray(d)?[...i,o]:i):n([...l,o],d,i))})}r(t)},r5=(t,n)=>typeof n=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>t.includes(r))||t[t.length-1].toLowerCase().includes("opacity")?n:`${n}px`:n;function wu(t,n){const{prefix:s,shouldSkipGeneratingVar:r}=n||{},a={},l={},i={};return s5(t,(o,d,m)=>{if((typeof d=="string"||typeof d=="number")&&(!r||!r(o,d))){const p=`--${s?`${s}-`:""}${o.join("-")}`,g=r5(o,d);Object.assign(a,{[p]:g}),qv(l,o,`var(${p})`,m),qv(i,o,`var(${p}, ${g})`,m)}},o=>o[0]==="vars"),{css:a,vars:l,varsWithDefaults:i}}function a5(t,n={}){const{getSelector:s=f,disableCssColorScheme:r,colorSchemeSelector:a,enableContrastVars:l}=n,{colorSchemes:i={},components:o,defaultColorScheme:d="light",...m}=t,{vars:p,css:g,varsWithDefaults:h}=wu(m,n);let k=h;const x={},{[d]:w,...N}=i;if(Object.entries(N||{}).forEach(([y,S])=>{const{vars:j,css:z,varsWithDefaults:P}=wu(S,n);k=wn(k,P),x[y]={css:z,vars:j}}),w){const{css:y,vars:S,varsWithDefaults:j}=wu(w,n);k=wn(k,j),x[d]={css:y,vars:S}}function f(y,S){var z,P;let j=a;if(a==="class"&&(j=".%s"),a==="data"&&(j="[data-%s]"),a!=null&&a.startsWith("data-")&&!a.includes("%s")&&(j=`[${a}="%s"]`),y){if(j==="media")return t.defaultColorScheme===y?":root":{[`@media (prefers-color-scheme: ${((P=(z=i[y])==null?void 0:z.palette)==null?void 0:P.mode)||y})`]:{":root":S}};if(j)return t.defaultColorScheme===y?`:root, ${j.replace("%s",String(y))}`:j.replace("%s",String(y))}return":root"}return{vars:k,generateThemeVars:()=>{let y={...p};return Object.entries(x).forEach(([,{vars:S}])=>{y=wn(y,S)}),y},generateStyleSheets:()=>{var $,B;const y=[],S=t.defaultColorScheme||"light";function j(q,C){Object.keys(C).length&&y.push(typeof q=="string"?{[q]:{...C}}:q)}j(s(void 0,{...g}),g);const{[S]:z,...P}=x;if(z){const{css:q}=z,C=(B=($=i[S])==null?void 0:$.palette)==null?void 0:B.mode,Z=!r&&C?{colorScheme:C,...q}:{...q};j(s(S,{...Z}),Z)}return Object.entries(P).forEach(([q,{css:C}])=>{var O,_;const Z=(_=(O=i[q])==null?void 0:O.palette)==null?void 0:_.mode,A=!r&&Z?{colorScheme:Z,...C}:{...C};j(s(q,{...A}),A)}),l&&y.push({":root":{"--__l-threshold":"0.7","--__l":"clamp(0, (l / var(--__l-threshold) - 1) * -infinity, 1)","--__a":"clamp(0.87, (l / var(--__l-threshold) - 1) * -infinity, 1)"}}),y}}}function l5(t){return function(s){return t==="media"?`@media (prefers-color-scheme: ${s})`:t?t.startsWith("data-")&&!t.includes("%s")?`[${t}="${s}"] &`:t==="class"?`.${s} &`:t==="data"?`[data-${s}] &`:`${t.replace("%s",s)} &`:"&"}}function nn(t,n,s=void 0){const r={};for(const a in t){const l=t[a];let i="",o=!0;for(let d=0;d<l.length;d+=1){const m=l[d];m&&(i+=(o===!0?"":" ")+n(m),o=!1,s&&s[m]&&(i+=" "+s[m]))}r[a]=i}return r}function Tu(t,n){var s,r,a;return c.isValidElement(t)&&n.indexOf(t.type.muiName??((a=(r=(s=t.type)==null?void 0:s._payload)==null?void 0:r.value)==null?void 0:a.muiName))!==-1}const Pi={black:"#000",white:"#fff"},i5={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Ta={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},za={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},$l={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},Da={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Ra={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Aa={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"};function iS(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Pi.white,default:Pi.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const oS=iS();function cS(){return{text:{primary:Pi.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Pi.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const Xm=cS();function Yv(t,n,s,r){const a=r.light||r,l=r.dark||r*1.5;t[n]||(t.hasOwnProperty(s)?t[n]=t[s]:n==="light"?t.light=Bd(t.main,a):n==="dark"&&(t.dark=Ld(t.main,l)))}function Gv(t,n,s,r,a){const l=a.light||a,i=a.dark||a*1.5;n[s]||(n.hasOwnProperty(r)?n[s]=n[r]:s==="light"?n.light=`color-mix(in ${t}, ${n.main}, #fff ${(l*100).toFixed(0)}%)`:s==="dark"&&(n.dark=`color-mix(in ${t}, ${n.main}, #000 ${(i*100).toFixed(0)}%)`))}function o5(t="light"){return t==="dark"?{main:Da[200],light:Da[50],dark:Da[400]}:{main:Da[700],light:Da[400],dark:Da[800]}}function c5(t="light"){return t==="dark"?{main:Ta[200],light:Ta[50],dark:Ta[400]}:{main:Ta[500],light:Ta[300],dark:Ta[700]}}function d5(t="light"){return t==="dark"?{main:za[500],light:za[300],dark:za[700]}:{main:za[700],light:za[400],dark:za[800]}}function u5(t="light"){return t==="dark"?{main:Ra[400],light:Ra[300],dark:Ra[700]}:{main:Ra[700],light:Ra[500],dark:Ra[900]}}function m5(t="light"){return t==="dark"?{main:Aa[400],light:Aa[300],dark:Aa[700]}:{main:Aa[800],light:Aa[500],dark:Aa[900]}}function p5(t="light"){return t==="dark"?{main:$l[400],light:$l[300],dark:$l[700]}:{main:"#ed6c02",light:$l[500],dark:$l[900]}}function h5(t){return`oklch(from ${t} var(--__l) 0 h / var(--__a))`}function Oh(t){const{mode:n="light",contrastThreshold:s=3,tonalOffset:r=.2,colorSpace:a,...l}=t,i=t.primary||o5(n),o=t.secondary||c5(n),d=t.error||d5(n),m=t.info||u5(n),p=t.success||m5(n),g=t.warning||p5(n);function h(N){return a?h5(N):IT(N,Xm.text.primary)>=s?Xm.text.primary:oS.text.primary}const k=({color:N,name:f,mainShade:v=500,lightShade:b=300,darkShade:y=700})=>{if(N={...N},!N.main&&N[v]&&(N.main=N[v]),!N.hasOwnProperty("main"))throw new Error(ur(11,f?` (${f})`:"",v));if(typeof N.main!="string")throw new Error(ur(12,f?` (${f})`:"",JSON.stringify(N.main)));return a?(Gv(a,N,"light",b,r),Gv(a,N,"dark",y,r)):(Yv(N,"light",b,r),Yv(N,"dark",y,r)),N.contrastText||(N.contrastText=h(N.main)),N};let x;return n==="light"?x=iS():n==="dark"&&(x=cS()),wn({common:{...Pi},mode:n,primary:k({color:i,name:"primary"}),secondary:k({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:k({color:d,name:"error"}),warning:k({color:g,name:"warning"}),info:k({color:m,name:"info"}),success:k({color:p,name:"success"}),grey:i5,contrastThreshold:s,getContrastText:h,augmentColor:k,tonalOffset:r,...x},l)}function f5(t){const n={};return Object.entries(t).forEach(r=>{const[a,l]=r;typeof l=="object"&&(n[a]=`${l.fontStyle?`${l.fontStyle} `:""}${l.fontVariant?`${l.fontVariant} `:""}${l.fontWeight?`${l.fontWeight} `:""}${l.fontStretch?`${l.fontStretch} `:""}${l.fontSize||""}${l.lineHeight?`/${l.lineHeight} `:""}${l.fontFamily||""}`)}),n}function g5(t,n){return{toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}},...n}}function y5(t){return Math.round(t*1e5)/1e5}const Jv={textTransform:"uppercase"},Qv='"Roboto", "Helvetica", "Arial", sans-serif';function dS(t,n){const{fontFamily:s=Qv,fontSize:r=14,fontWeightLight:a=300,fontWeightRegular:l=400,fontWeightMedium:i=500,fontWeightBold:o=700,htmlFontSize:d=16,allVariants:m,pxToRem:p,...g}=typeof n=="function"?n(t):n,h=r/14,k=p||(N=>`${N/d*h}rem`),x=(N,f,v,b,y)=>({fontFamily:s,fontWeight:N,fontSize:k(f),lineHeight:v,...s===Qv?{letterSpacing:`${y5(b/f)}em`}:{},...y,...m}),w={h1:x(a,96,1.167,-1.5),h2:x(a,60,1.2,-.5),h3:x(l,48,1.167,0),h4:x(l,34,1.235,.25),h5:x(l,24,1.334,0),h6:x(i,20,1.6,.15),subtitle1:x(l,16,1.75,.15),subtitle2:x(i,14,1.57,.1),body1:x(l,16,1.5,.15),body2:x(l,14,1.43,.15),button:x(i,14,1.75,.4,Jv),caption:x(l,12,1.66,.4),overline:x(l,12,2.66,1,Jv),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return wn({htmlFontSize:d,pxToRem:k,fontFamily:s,fontSize:r,fontWeightLight:a,fontWeightRegular:l,fontWeightMedium:i,fontWeightBold:o,...w},g,{clone:!1})}const x5=.2,v5=.14,j5=.12;function $t(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${x5})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${v5})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${j5})`].join(",")}const b5=["none",$t(0,2,1,-1,0,1,1,0,0,1,3,0),$t(0,3,1,-2,0,2,2,0,0,1,5,0),$t(0,3,3,-2,0,3,4,0,0,1,8,0),$t(0,2,4,-1,0,4,5,0,0,1,10,0),$t(0,3,5,-1,0,5,8,0,0,1,14,0),$t(0,3,5,-1,0,6,10,0,0,1,18,0),$t(0,4,5,-2,0,7,10,1,0,2,16,1),$t(0,5,5,-3,0,8,10,1,0,3,14,2),$t(0,5,6,-3,0,9,12,1,0,3,16,2),$t(0,6,6,-3,0,10,14,1,0,4,18,3),$t(0,6,7,-4,0,11,15,1,0,4,20,3),$t(0,7,8,-4,0,12,17,2,0,5,22,4),$t(0,7,8,-4,0,13,19,2,0,5,24,4),$t(0,7,9,-4,0,14,21,2,0,5,26,4),$t(0,8,9,-5,0,15,22,2,0,6,28,5),$t(0,8,10,-5,0,16,24,2,0,6,30,5),$t(0,8,11,-5,0,17,26,2,0,6,32,5),$t(0,9,11,-5,0,18,28,2,0,7,34,6),$t(0,9,12,-6,0,19,29,2,0,7,36,6),$t(0,10,13,-6,0,20,31,3,0,8,38,7),$t(0,10,13,-6,0,21,33,3,0,8,40,7),$t(0,10,14,-6,0,22,35,3,0,8,42,7),$t(0,11,14,-7,0,23,36,3,0,9,44,8),$t(0,11,15,-7,0,24,38,3,0,9,46,8)],S5={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},N5={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Xv(t){return`${Math.round(t)}ms`}function k5(t){if(!t)return 0;const n=t/36;return Math.min(Math.round((4+15*n**.25+n/5)*10),3e3)}function C5(t){const n={...S5,...t.easing},s={...N5,...t.duration};return{getAutoHeightDuration:k5,create:(a=["all"],l={})=>{const{duration:i=s.standard,easing:o=n.easeInOut,delay:d=0,...m}=l;return(Array.isArray(a)?a:[a]).map(p=>`${p} ${typeof i=="string"?i:Xv(i)} ${o} ${typeof d=="string"?d:Xv(d)}`).join(",")},...t,easing:n,duration:s}}const w5={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function T5(t){return tr(t)||typeof t>"u"||typeof t=="string"||typeof t=="boolean"||typeof t=="number"||Array.isArray(t)}function uS(t={}){const n={...t};function s(r){const a=Object.entries(r);for(let l=0;l<a.length;l++){const[i,o]=a[l];!T5(o)||i.startsWith("unstable_")?delete r[i]:tr(o)&&(r[i]={...o},s(r[i]))}}return s(n),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(n,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function Zv(t){return typeof t=="number"?`${(t*100).toFixed(0)}%`:`calc((${t}) * 100%)`}const z5=t=>{if(!Number.isNaN(+t))return+t;const n=t.match(/\d*\.?\d+/g);if(!n)return 0;let s=0;for(let r=0;r<n.length;r+=1)s+=+n[r];return s};function D5(t){Object.assign(t,{alpha(n,s){const r=this||t;return r.colorSpace?`oklch(from ${n} l c h / ${typeof s=="string"?`calc(${s})`:s})`:r.vars?`rgba(${n.replace(/var\(--([^,\s)]+)(?:,[^)]+)?\)+/g,"var(--$1Channel)")} / ${typeof s=="string"?`calc(${s})`:s})`:Ec(n,z5(s))},lighten(n,s){const r=this||t;return r.colorSpace?`color-mix(in ${r.colorSpace}, ${n}, #fff ${Zv(s)})`:Bd(n,s)},darken(n,s){const r=this||t;return r.colorSpace?`color-mix(in ${r.colorSpace}, ${n}, #000 ${Zv(s)})`:Ld(n,s)}})}function Zm(t={},...n){const{breakpoints:s,mixins:r={},spacing:a,palette:l={},transitions:i={},typography:o={},shape:d,colorSpace:m,...p}=t;if(t.vars&&t.generateThemeVars===void 0)throw new Error(ur(20));const g=Oh({...l,colorSpace:m}),h=Eh(t);let k=wn(h,{mixins:g5(h.breakpoints,r),palette:g,shadows:b5.slice(),typography:dS(g,o),transitions:C5(i),zIndex:{...w5}});return k=wn(k,p),k=n.reduce((x,w)=>wn(x,w),k),k.unstable_sxConfig={...Md,...p==null?void 0:p.unstable_sxConfig},k.unstable_sx=function(w){return ya({sx:w,theme:this})},k.toRuntimeSource=uS,D5(k),k}function ep(t){let n;return t<1?n=5.11916*t**2:n=4.5*Math.log(t+1)+2,Math.round(n*10)/1e3}const R5=[...Array(25)].map((t,n)=>{if(n===0)return"none";const s=ep(n);return`linear-gradient(rgba(255 255 255 / ${s}), rgba(255 255 255 / ${s}))`});function mS(t){return{inputPlaceholder:t==="dark"?.5:.42,inputUnderline:t==="dark"?.7:.42,switchTrackDisabled:t==="dark"?.2:.12,switchTrack:t==="dark"?.3:.38}}function pS(t){return t==="dark"?R5:[]}function A5(t){const{palette:n={mode:"light"},opacity:s,overlays:r,colorSpace:a,...l}=t,i=Oh({...n,colorSpace:a});return{palette:i,opacity:{...mS(i.mode),...s},overlays:r||pS(i.mode),...l}}function E5(t){var n;return!!t[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!t[0].match(/sxConfig$/)||t[0]==="palette"&&!!((n=t[1])!=null&&n.match(/(mode|contrastThreshold|tonalOffset)/))}const I5=t=>[...[...Array(25)].map((n,s)=>`--${t?`${t}-`:""}overlays-${s}`),`--${t?`${t}-`:""}palette-AppBar-darkBg`,`--${t?`${t}-`:""}palette-AppBar-darkColor`],M5=t=>(n,s)=>{const r=t.rootSelector||":root",a=t.colorSchemeSelector;let l=a;if(a==="class"&&(l=".%s"),a==="data"&&(l="[data-%s]"),a!=null&&a.startsWith("data-")&&!a.includes("%s")&&(l=`[${a}="%s"]`),t.defaultColorScheme===n){if(n==="dark"){const i={};return I5(t.cssVarPrefix).forEach(o=>{i[o]=s[o],delete s[o]}),l==="media"?{[r]:s,"@media (prefers-color-scheme: dark)":{[r]:i}}:l?{[l.replace("%s",n)]:i,[`${r}, ${l.replace("%s",n)}`]:s}:{[r]:{...s,...i}}}if(l&&l!=="media")return`${r}, ${l.replace("%s",String(n))}`}else if(n){if(l==="media")return{[`@media (prefers-color-scheme: ${String(n)})`]:{[r]:s}};if(l)return l.replace("%s",String(n))}return r};function P5(t,n){n.forEach(s=>{t[s]||(t[s]={})})}function Ce(t,n,s){!t[n]&&s&&(t[n]=s)}function ei(t){return typeof t!="string"||!t.startsWith("hsl")?t:eS(t)}function Qs(t,n){`${n}Channel`in t||(t[`${n}Channel`]=Zl(ei(t[n])))}function L5(t){return typeof t=="number"?`${t}px`:typeof t=="string"||typeof t=="function"||Array.isArray(t)?t:"8px"}const Ms=t=>{try{return t()}catch{}},B5=(t="mui")=>n5(t);function zu(t,n,s,r,a){if(!s)return;s=s===!0?{}:s;const l=a==="dark"?"dark":"light";if(!r){n[a]=A5({...s,palette:{mode:l,...s==null?void 0:s.palette},colorSpace:t});return}const{palette:i,...o}=Zm({...r,palette:{mode:l,...s==null?void 0:s.palette},colorSpace:t});return n[a]={...s,palette:i,opacity:{...mS(l),...s==null?void 0:s.opacity},overlays:(s==null?void 0:s.overlays)||pS(l)},o}function O5(t={},...n){const{colorSchemes:s={light:!0},defaultColorScheme:r,disableCssColorScheme:a=!1,cssVarPrefix:l="mui",nativeColor:i=!1,shouldSkipGeneratingVar:o=E5,colorSchemeSelector:d=s.light&&s.dark?"media":void 0,rootSelector:m=":root",...p}=t,g=Object.keys(s)[0],h=r||(s.light&&g!=="light"?"light":g),k=B5(l),{[h]:x,light:w,dark:N,...f}=s,v={...f};let b=x;if((h==="dark"&&!("dark"in s)||h==="light"&&!("light"in s))&&(b=!0),!b)throw new Error(ur(21,h));let y;i&&(y="oklch");const S=zu(y,v,b,p,h);w&&!v.light&&zu(y,v,w,void 0,"light"),N&&!v.dark&&zu(y,v,N,void 0,"dark");let j={defaultColorScheme:h,...S,cssVarPrefix:l,colorSchemeSelector:d,rootSelector:m,getCssVar:k,colorSchemes:v,font:{...f5(S.typography),...S.font},spacing:L5(p.spacing)};Object.keys(j.colorSchemes).forEach(q=>{const C=j.colorSchemes[q].palette,Z=O=>{const _=O.split("-"),fe=_[1],Q=_[2];return k(O,C[fe][Q])};C.mode==="light"&&(Ce(C.common,"background","#fff"),Ce(C.common,"onBackground","#000")),C.mode==="dark"&&(Ce(C.common,"background","#000"),Ce(C.common,"onBackground","#fff"));function A(O,_,fe){if(y){let Q;return O===Hr&&(Q=`transparent ${((1-fe)*100).toFixed(0)}%`),O===Ct&&(Q=`#000 ${(fe*100).toFixed(0)}%`),O===wt&&(Q=`#fff ${(fe*100).toFixed(0)}%`),`color-mix(in ${y}, ${_}, ${Q})`}return O(_,fe)}if(P5(C,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),C.mode==="light"){Ce(C.Alert,"errorColor",A(Ct,C.error.light,.6)),Ce(C.Alert,"infoColor",A(Ct,C.info.light,.6)),Ce(C.Alert,"successColor",A(Ct,C.success.light,.6)),Ce(C.Alert,"warningColor",A(Ct,C.warning.light,.6)),Ce(C.Alert,"errorFilledBg",Z("palette-error-main")),Ce(C.Alert,"infoFilledBg",Z("palette-info-main")),Ce(C.Alert,"successFilledBg",Z("palette-success-main")),Ce(C.Alert,"warningFilledBg",Z("palette-warning-main")),Ce(C.Alert,"errorFilledColor",Ms(()=>C.getContrastText(C.error.main))),Ce(C.Alert,"infoFilledColor",Ms(()=>C.getContrastText(C.info.main))),Ce(C.Alert,"successFilledColor",Ms(()=>C.getContrastText(C.success.main))),Ce(C.Alert,"warningFilledColor",Ms(()=>C.getContrastText(C.warning.main))),Ce(C.Alert,"errorStandardBg",A(wt,C.error.light,.9)),Ce(C.Alert,"infoStandardBg",A(wt,C.info.light,.9)),Ce(C.Alert,"successStandardBg",A(wt,C.success.light,.9)),Ce(C.Alert,"warningStandardBg",A(wt,C.warning.light,.9)),Ce(C.Alert,"errorIconColor",Z("palette-error-main")),Ce(C.Alert,"infoIconColor",Z("palette-info-main")),Ce(C.Alert,"successIconColor",Z("palette-success-main")),Ce(C.Alert,"warningIconColor",Z("palette-warning-main")),Ce(C.AppBar,"defaultBg",Z("palette-grey-100")),Ce(C.Avatar,"defaultBg",Z("palette-grey-400")),Ce(C.Button,"inheritContainedBg",Z("palette-grey-300")),Ce(C.Button,"inheritContainedHoverBg",Z("palette-grey-A100")),Ce(C.Chip,"defaultBorder",Z("palette-grey-400")),Ce(C.Chip,"defaultAvatarColor",Z("palette-grey-700")),Ce(C.Chip,"defaultIconColor",Z("palette-grey-700")),Ce(C.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),Ce(C.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),Ce(C.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),Ce(C.LinearProgress,"primaryBg",A(wt,C.primary.main,.62)),Ce(C.LinearProgress,"secondaryBg",A(wt,C.secondary.main,.62)),Ce(C.LinearProgress,"errorBg",A(wt,C.error.main,.62)),Ce(C.LinearProgress,"infoBg",A(wt,C.info.main,.62)),Ce(C.LinearProgress,"successBg",A(wt,C.success.main,.62)),Ce(C.LinearProgress,"warningBg",A(wt,C.warning.main,.62)),Ce(C.Skeleton,"bg",y?A(Hr,C.text.primary,.11):`rgba(${Z("palette-text-primaryChannel")} / 0.11)`),Ce(C.Slider,"primaryTrack",A(wt,C.primary.main,.62)),Ce(C.Slider,"secondaryTrack",A(wt,C.secondary.main,.62)),Ce(C.Slider,"errorTrack",A(wt,C.error.main,.62)),Ce(C.Slider,"infoTrack",A(wt,C.info.main,.62)),Ce(C.Slider,"successTrack",A(wt,C.success.main,.62)),Ce(C.Slider,"warningTrack",A(wt,C.warning.main,.62));const O=y?A(Ct,C.background.default,.6825):So(C.background.default,.8);Ce(C.SnackbarContent,"bg",O),Ce(C.SnackbarContent,"color",Ms(()=>y?Xm.text.primary:C.getContrastText(O))),Ce(C.SpeedDialAction,"fabHoverBg",So(C.background.paper,.15)),Ce(C.StepConnector,"border",Z("palette-grey-400")),Ce(C.StepContent,"border",Z("palette-grey-400")),Ce(C.Switch,"defaultColor",Z("palette-common-white")),Ce(C.Switch,"defaultDisabledColor",Z("palette-grey-100")),Ce(C.Switch,"primaryDisabledColor",A(wt,C.primary.main,.62)),Ce(C.Switch,"secondaryDisabledColor",A(wt,C.secondary.main,.62)),Ce(C.Switch,"errorDisabledColor",A(wt,C.error.main,.62)),Ce(C.Switch,"infoDisabledColor",A(wt,C.info.main,.62)),Ce(C.Switch,"successDisabledColor",A(wt,C.success.main,.62)),Ce(C.Switch,"warningDisabledColor",A(wt,C.warning.main,.62)),Ce(C.TableCell,"border",A(wt,A(Hr,C.divider,1),.88)),Ce(C.Tooltip,"bg",A(Hr,C.grey[700],.92))}if(C.mode==="dark"){Ce(C.Alert,"errorColor",A(wt,C.error.light,.6)),Ce(C.Alert,"infoColor",A(wt,C.info.light,.6)),Ce(C.Alert,"successColor",A(wt,C.success.light,.6)),Ce(C.Alert,"warningColor",A(wt,C.warning.light,.6)),Ce(C.Alert,"errorFilledBg",Z("palette-error-dark")),Ce(C.Alert,"infoFilledBg",Z("palette-info-dark")),Ce(C.Alert,"successFilledBg",Z("palette-success-dark")),Ce(C.Alert,"warningFilledBg",Z("palette-warning-dark")),Ce(C.Alert,"errorFilledColor",Ms(()=>C.getContrastText(C.error.dark))),Ce(C.Alert,"infoFilledColor",Ms(()=>C.getContrastText(C.info.dark))),Ce(C.Alert,"successFilledColor",Ms(()=>C.getContrastText(C.success.dark))),Ce(C.Alert,"warningFilledColor",Ms(()=>C.getContrastText(C.warning.dark))),Ce(C.Alert,"errorStandardBg",A(Ct,C.error.light,.9)),Ce(C.Alert,"infoStandardBg",A(Ct,C.info.light,.9)),Ce(C.Alert,"successStandardBg",A(Ct,C.success.light,.9)),Ce(C.Alert,"warningStandardBg",A(Ct,C.warning.light,.9)),Ce(C.Alert,"errorIconColor",Z("palette-error-main")),Ce(C.Alert,"infoIconColor",Z("palette-info-main")),Ce(C.Alert,"successIconColor",Z("palette-success-main")),Ce(C.Alert,"warningIconColor",Z("palette-warning-main")),Ce(C.AppBar,"defaultBg",Z("palette-grey-900")),Ce(C.AppBar,"darkBg",Z("palette-background-paper")),Ce(C.AppBar,"darkColor",Z("palette-text-primary")),Ce(C.Avatar,"defaultBg",Z("palette-grey-600")),Ce(C.Button,"inheritContainedBg",Z("palette-grey-800")),Ce(C.Button,"inheritContainedHoverBg",Z("palette-grey-700")),Ce(C.Chip,"defaultBorder",Z("palette-grey-700")),Ce(C.Chip,"defaultAvatarColor",Z("palette-grey-300")),Ce(C.Chip,"defaultIconColor",Z("palette-grey-300")),Ce(C.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),Ce(C.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),Ce(C.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),Ce(C.LinearProgress,"primaryBg",A(Ct,C.primary.main,.5)),Ce(C.LinearProgress,"secondaryBg",A(Ct,C.secondary.main,.5)),Ce(C.LinearProgress,"errorBg",A(Ct,C.error.main,.5)),Ce(C.LinearProgress,"infoBg",A(Ct,C.info.main,.5)),Ce(C.LinearProgress,"successBg",A(Ct,C.success.main,.5)),Ce(C.LinearProgress,"warningBg",A(Ct,C.warning.main,.5)),Ce(C.Skeleton,"bg",y?A(Hr,C.text.primary,.13):`rgba(${Z("palette-text-primaryChannel")} / 0.13)`),Ce(C.Slider,"primaryTrack",A(Ct,C.primary.main,.5)),Ce(C.Slider,"secondaryTrack",A(Ct,C.secondary.main,.5)),Ce(C.Slider,"errorTrack",A(Ct,C.error.main,.5)),Ce(C.Slider,"infoTrack",A(Ct,C.info.main,.5)),Ce(C.Slider,"successTrack",A(Ct,C.success.main,.5)),Ce(C.Slider,"warningTrack",A(Ct,C.warning.main,.5));const O=y?A(wt,C.background.default,.985):So(C.background.default,.98);Ce(C.SnackbarContent,"bg",O),Ce(C.SnackbarContent,"color",Ms(()=>y?oS.text.primary:C.getContrastText(O))),Ce(C.SpeedDialAction,"fabHoverBg",So(C.background.paper,.15)),Ce(C.StepConnector,"border",Z("palette-grey-600")),Ce(C.StepContent,"border",Z("palette-grey-600")),Ce(C.Switch,"defaultColor",Z("palette-grey-300")),Ce(C.Switch,"defaultDisabledColor",Z("palette-grey-600")),Ce(C.Switch,"primaryDisabledColor",A(Ct,C.primary.main,.55)),Ce(C.Switch,"secondaryDisabledColor",A(Ct,C.secondary.main,.55)),Ce(C.Switch,"errorDisabledColor",A(Ct,C.error.main,.55)),Ce(C.Switch,"infoDisabledColor",A(Ct,C.info.main,.55)),Ce(C.Switch,"successDisabledColor",A(Ct,C.success.main,.55)),Ce(C.Switch,"warningDisabledColor",A(Ct,C.warning.main,.55)),Ce(C.TableCell,"border",A(Ct,A(Hr,C.divider,1),.68)),Ce(C.Tooltip,"bg",A(Hr,C.grey[700],.92))}Qs(C.background,"default"),Qs(C.background,"paper"),Qs(C.common,"background"),Qs(C.common,"onBackground"),Qs(C,"divider"),Object.keys(C).forEach(O=>{const _=C[O];O!=="tonalOffset"&&_&&typeof _=="object"&&(_.main&&Ce(C[O],"mainChannel",Zl(ei(_.main))),_.light&&Ce(C[O],"lightChannel",Zl(ei(_.light))),_.dark&&Ce(C[O],"darkChannel",Zl(ei(_.dark))),_.contrastText&&Ce(C[O],"contrastTextChannel",Zl(ei(_.contrastText))),O==="text"&&(Qs(C[O],"primary"),Qs(C[O],"secondary")),O==="action"&&(_.active&&Qs(C[O],"active"),_.selected&&Qs(C[O],"selected")))})}),j=n.reduce((q,C)=>wn(q,C),j);const z={prefix:l,disableCssColorScheme:a,shouldSkipGeneratingVar:o,getSelector:M5(j),enableContrastVars:i},{vars:P,generateThemeVars:$,generateStyleSheets:B}=a5(j,z);return j.vars=P,Object.entries(j.colorSchemes[j.defaultColorScheme]).forEach(([q,C])=>{j[q]=C}),j.generateThemeVars=$,j.generateStyleSheets=B,j.generateSpacing=function(){return Y1(p.spacing,Rh(this))},j.getColorSchemeSelector=l5(d),j.spacing=j.generateSpacing(),j.shouldSkipGeneratingVar=o,j.unstable_sxConfig={...Md,...p==null?void 0:p.unstable_sxConfig},j.unstable_sx=function(C){return ya({sx:C,theme:this})},j.toRuntimeSource=uS,j}function ej(t,n,s){t.colorSchemes&&s&&(t.colorSchemes[n]={...s!==!0&&s,palette:Oh({...s===!0?{}:s.palette,mode:n})})}function $h(t={},...n){const{palette:s,cssVariables:r=!1,colorSchemes:a=s?void 0:{light:!0},defaultColorScheme:l=s==null?void 0:s.mode,...i}=t,o=l||"light",d=a==null?void 0:a[o],m={...a,...s?{[o]:{...typeof d!="boolean"&&d,palette:s}}:void 0};if(r===!1){if(!("colorSchemes"in t))return Zm(t,...n);let p=s;"palette"in t||m[o]&&(m[o]!==!0?p=m[o].palette:o==="dark"&&(p={mode:"dark"}));const g=Zm({...t,palette:p},...n);return g.defaultColorScheme=o,g.colorSchemes=m,g.palette.mode==="light"&&(g.colorSchemes.light={...m.light!==!0&&m.light,palette:g.palette},ej(g,"dark",m.dark)),g.palette.mode==="dark"&&(g.colorSchemes.dark={...m.dark!==!0&&m.dark,palette:g.palette},ej(g,"light",m.light)),g}return!s&&!("light"in m)&&o==="light"&&(m.light=!0),O5({...i,colorSchemes:m,defaultColorScheme:o,...typeof r!="boolean"&&r},...n)}const _h=$h();function Fh(){const t=G1(_h);return t[lr]||t}function hS(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const Rs=t=>hS(t)&&t!=="classes",at=CT({themeId:lr,defaultTheme:_h,rootShouldForwardProp:Rs});function $5({theme:t,...n}){const s=lr in t?t[lr]:void 0;return e.jsx(aS,{...n,themeId:s?lr:void 0,theme:s||t})}const No={colorSchemeStorageKey:"mui-color-scheme",defaultLightColorScheme:"light",defaultDarkColorScheme:"dark",modeStorageKey:"mui-mode"},{CssVarsProvider:_5}=t5({themeId:lr,theme:()=>$h({cssVariables:!0}),colorSchemeStorageKey:No.colorSchemeStorageKey,modeStorageKey:No.modeStorageKey,defaultColorScheme:{light:No.defaultLightColorScheme,dark:No.defaultDarkColorScheme},resolveTheme:t=>{const n={...t,typography:dS(t.palette,t.typography)};return n.unstable_sx=function(r){return ya({sx:r,theme:this})},n}}),F5=_5;function W5({theme:t,...n}){const s=c.useMemo(()=>{if(typeof t=="function")return t;const r=lr in t?t[lr]:t;return"colorSchemes"in r?null:"vars"in r?t:{...t,vars:null}},[t]);return s?e.jsx($5,{theme:s,...n}):e.jsx(F5,{theme:t,...n})}/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Li(){return Li=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r])}return t},Li.apply(this,arguments)}var wr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(wr||(wr={}));const tj="popstate";function U5(t){t===void 0&&(t={});function n(r,a){let{pathname:l,search:i,hash:o}=r.location;return tp("",{pathname:l,search:i,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function s(r,a){return typeof a=="string"?a:Ic(a)}return H5(n,s,null,t)}function Qt(t,n){if(t===!1||t===null||typeof t>"u")throw new Error(n)}function Wh(t,n){if(!t){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function K5(){return Math.random().toString(36).substr(2,8)}function nj(t,n){return{usr:t.state,key:t.key,idx:n}}function tp(t,n,s,r){return s===void 0&&(s=null),Li({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof n=="string"?vl(n):n,{state:s,key:n&&n.key||r||K5()})}function Ic(t){let{pathname:n="/",search:s="",hash:r=""}=t;return s&&s!=="?"&&(n+=s.charAt(0)==="?"?s:"?"+s),r&&r!=="#"&&(n+=r.charAt(0)==="#"?r:"#"+r),n}function vl(t){let n={};if(t){let s=t.indexOf("#");s>=0&&(n.hash=t.substr(s),t=t.substr(0,s));let r=t.indexOf("?");r>=0&&(n.search=t.substr(r),t=t.substr(0,r)),t&&(n.pathname=t)}return n}function H5(t,n,s,r){r===void 0&&(r={});let{window:a=document.defaultView,v5Compat:l=!1}=r,i=a.history,o=wr.Pop,d=null,m=p();m==null&&(m=0,i.replaceState(Li({},i.state,{idx:m}),""));function p(){return(i.state||{idx:null}).idx}function g(){o=wr.Pop;let N=p(),f=N==null?null:N-m;m=N,d&&d({action:o,location:w.location,delta:f})}function h(N,f){o=wr.Push;let v=tp(w.location,N,f);m=p()+1;let b=nj(v,m),y=w.createHref(v);try{i.pushState(b,"",y)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;a.location.assign(y)}l&&d&&d({action:o,location:w.location,delta:1})}function k(N,f){o=wr.Replace;let v=tp(w.location,N,f);m=p();let b=nj(v,m),y=w.createHref(v);i.replaceState(b,"",y),l&&d&&d({action:o,location:w.location,delta:0})}function x(N){let f=a.location.origin!=="null"?a.location.origin:a.location.href,v=typeof N=="string"?N:Ic(N);return v=v.replace(/ $/,"%20"),Qt(f,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,f)}let w={get action(){return o},get location(){return t(a,i)},listen(N){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(tj,g),d=N,()=>{a.removeEventListener(tj,g),d=null}},createHref(N){return n(a,N)},createURL:x,encodeLocation(N){let f=x(N);return{pathname:f.pathname,search:f.search,hash:f.hash}},push:h,replace:k,go(N){return i.go(N)}};return w}var sj;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(sj||(sj={}));function V5(t,n,s){return s===void 0&&(s="/"),q5(t,n,s)}function q5(t,n,s,r){let a=typeof n=="string"?vl(n):n,l=Uh(a.pathname||"/",s);if(l==null)return null;let i=fS(t);Y5(i);let o=null;for(let d=0;o==null&&d<i.length;++d){let m=lz(l);o=sz(i[d],m)}return o}function fS(t,n,s,r){n===void 0&&(n=[]),s===void 0&&(s=[]),r===void 0&&(r="");let a=(l,i,o)=>{let d={relativePath:o===void 0?l.path||"":o,caseSensitive:l.caseSensitive===!0,childrenIndex:i,route:l};d.relativePath.startsWith("/")&&(Qt(d.relativePath.startsWith(r),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(r.length));let m=Lr([r,d.relativePath]),p=s.concat(d);l.children&&l.children.length>0&&(Qt(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),fS(l.children,n,p,m)),!(l.path==null&&!l.index)&&n.push({path:m,score:tz(m,l.index),routesMeta:p})};return t.forEach((l,i)=>{var o;if(l.path===""||!((o=l.path)!=null&&o.includes("?")))a(l,i);else for(let d of gS(l.path))a(l,i,d)}),n}function gS(t){let n=t.split("/");if(n.length===0)return[];let[s,...r]=n,a=s.endsWith("?"),l=s.replace(/\?$/,"");if(r.length===0)return a?[l,""]:[l];let i=gS(r.join("/")),o=[];return o.push(...i.map(d=>d===""?l:[l,d].join("/"))),a&&o.push(...i),o.map(d=>t.startsWith("/")&&d===""?"/":d)}function Y5(t){t.sort((n,s)=>n.score!==s.score?s.score-n.score:nz(n.routesMeta.map(r=>r.childrenIndex),s.routesMeta.map(r=>r.childrenIndex)))}const G5=/^:[\w-]+$/,J5=3,Q5=2,X5=1,Z5=10,ez=-2,rj=t=>t==="*";function tz(t,n){let s=t.split("/"),r=s.length;return s.some(rj)&&(r+=ez),n&&(r+=Q5),s.filter(a=>!rj(a)).reduce((a,l)=>a+(G5.test(l)?J5:l===""?X5:Z5),r)}function nz(t,n){return t.length===n.length&&t.slice(0,-1).every((r,a)=>r===n[a])?t[t.length-1]-n[n.length-1]:0}function sz(t,n,s){let{routesMeta:r}=t,a={},l="/",i=[];for(let o=0;o<r.length;++o){let d=r[o],m=o===r.length-1,p=l==="/"?n:n.slice(l.length)||"/",g=rz({path:d.relativePath,caseSensitive:d.caseSensitive,end:m},p),h=d.route;if(!g)return null;Object.assign(a,g.params),i.push({params:a,pathname:Lr([l,g.pathname]),pathnameBase:uz(Lr([l,g.pathnameBase])),route:h}),g.pathnameBase!=="/"&&(l=Lr([l,g.pathnameBase]))}return i}function rz(t,n){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[s,r]=az(t.path,t.caseSensitive,t.end),a=n.match(s);if(!a)return null;let l=a[0],i=l.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:r.reduce((m,p,g)=>{let{paramName:h,isOptional:k}=p;if(h==="*"){let w=o[g]||"";i=l.slice(0,l.length-w.length).replace(/(.)\/+$/,"$1")}const x=o[g];return k&&!x?m[h]=void 0:m[h]=(x||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:i,pattern:t}}function az(t,n,s){n===void 0&&(n=!1),s===void 0&&(s=!0),Wh(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,o,d)=>(r.push({paramName:o,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,n?void 0:"i"),r]}function lz(t){try{return t.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return Wh(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+n+").")),t}}function Uh(t,n){if(n==="/")return t;if(!t.toLowerCase().startsWith(n.toLowerCase()))return null;let s=n.endsWith("/")?n.length-1:n.length,r=t.charAt(s);return r&&r!=="/"?null:t.slice(s)||"/"}const iz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,oz=t=>iz.test(t);function cz(t,n){n===void 0&&(n="/");let{pathname:s,search:r="",hash:a=""}=typeof t=="string"?vl(t):t,l;if(s)if(oz(s))l=s;else{if(s.includes("//")){let i=s;s=s.replace(/\/\/+/g,"/"),Wh(!1,"Pathnames cannot have embedded double slashes - normalizing "+(i+" -> "+s))}s.startsWith("/")?l=aj(s.substring(1),"/"):l=aj(s,n)}else l=n;return{pathname:l,search:mz(r),hash:pz(a)}}function aj(t,n){let s=n.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?s.length>1&&s.pop():a!=="."&&s.push(a)}),s.length>1?s.join("/"):"/"}function Du(t,n,s,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+n+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function dz(t){return t.filter((n,s)=>s===0||n.route.path&&n.route.path.length>0)}function Kh(t,n){let s=dz(t);return n?s.map((r,a)=>a===s.length-1?r.pathname:r.pathnameBase):s.map(r=>r.pathnameBase)}function Hh(t,n,s,r){r===void 0&&(r=!1);let a;typeof t=="string"?a=vl(t):(a=Li({},t),Qt(!a.pathname||!a.pathname.includes("?"),Du("?","pathname","search",a)),Qt(!a.pathname||!a.pathname.includes("#"),Du("#","pathname","hash",a)),Qt(!a.search||!a.search.includes("#"),Du("#","search","hash",a)));let l=t===""||a.pathname==="",i=l?"/":a.pathname,o;if(i==null)o=s;else{let g=n.length-1;if(!r&&i.startsWith("..")){let h=i.split("/");for(;h[0]==="..";)h.shift(),g-=1;a.pathname=h.join("/")}o=g>=0?n[g]:"/"}let d=cz(a,o),m=i&&i!=="/"&&i.endsWith("/"),p=(l||i===".")&&s.endsWith("/");return!d.pathname.endsWith("/")&&(m||p)&&(d.pathname+="/"),d}const Lr=t=>t.join("/").replace(/\/\/+/g,"/"),uz=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),mz=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,pz=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function hz(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const yS=["post","put","patch","delete"];new Set(yS);const fz=["get",...yS];new Set(fz);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bi(){return Bi=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r])}return t},Bi.apply(this,arguments)}const Vh=c.createContext(null),gz=c.createContext(null),Ur=c.createContext(null),Od=c.createContext(null),fr=c.createContext({outlet:null,matches:[],isDataRoute:!1}),xS=c.createContext(null);function yz(t,n){let{relative:s}=n===void 0?{}:n;jl()||Qt(!1);let{basename:r,navigator:a}=c.useContext(Ur),{hash:l,pathname:i,search:o}=jS(t,{relative:s}),d=i;return r!=="/"&&(d=i==="/"?r:Lr([r,i])),a.createHref({pathname:d,search:o,hash:l})}function jl(){return c.useContext(Od)!=null}function Ys(){return jl()||Qt(!1),c.useContext(Od).location}function vS(t){c.useContext(Ur).static||c.useLayoutEffect(t)}function vs(){let{isDataRoute:t}=c.useContext(fr);return t?Ez():xz()}function xz(){jl()||Qt(!1);let t=c.useContext(Vh),{basename:n,future:s,navigator:r}=c.useContext(Ur),{matches:a}=c.useContext(fr),{pathname:l}=Ys(),i=JSON.stringify(Kh(a,s.v7_relativeSplatPath)),o=c.useRef(!1);return vS(()=>{o.current=!0}),c.useCallback(function(m,p){if(p===void 0&&(p={}),!o.current)return;if(typeof m=="number"){r.go(m);return}let g=Hh(m,JSON.parse(i),l,p.relative==="path");t==null&&n!=="/"&&(g.pathname=g.pathname==="/"?n:Lr([n,g.pathname])),(p.replace?r.replace:r.push)(g,p.state,p)},[n,r,i,l,t])}const vz=c.createContext(null);function jz(t){let n=c.useContext(fr).outlet;return n&&c.createElement(vz.Provider,{value:t},n)}function jS(t,n){let{relative:s}=n===void 0?{}:n,{future:r}=c.useContext(Ur),{matches:a}=c.useContext(fr),{pathname:l}=Ys(),i=JSON.stringify(Kh(a,r.v7_relativeSplatPath));return c.useMemo(()=>Hh(t,JSON.parse(i),l,s==="path"),[t,i,l,s])}function bz(t,n){return Sz(t,n)}function Sz(t,n,s,r){jl()||Qt(!1);let{navigator:a}=c.useContext(Ur),{matches:l}=c.useContext(fr),i=l[l.length-1],o=i?i.params:{};i&&i.pathname;let d=i?i.pathnameBase:"/";i&&i.route;let m=Ys(),p;if(n){var g;let N=typeof n=="string"?vl(n):n;d==="/"||(g=N.pathname)!=null&&g.startsWith(d)||Qt(!1),p=N}else p=m;let h=p.pathname||"/",k=h;if(d!=="/"){let N=d.replace(/^\//,"").split("/");k="/"+h.replace(/^\//,"").split("/").slice(N.length).join("/")}let x=V5(t,{pathname:k}),w=Tz(x&&x.map(N=>Object.assign({},N,{params:Object.assign({},o,N.params),pathname:Lr([d,a.encodeLocation?a.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?d:Lr([d,a.encodeLocation?a.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),l,s,r);return n&&w?c.createElement(Od.Provider,{value:{location:Bi({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:wr.Pop}},w):w}function Nz(){let t=Az(),n=hz(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),s=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return c.createElement(c.Fragment,null,c.createElement("h2",null,"Unexpected Application Error!"),c.createElement("h3",{style:{fontStyle:"italic"}},n),s?c.createElement("pre",{style:a},s):null,null)}const kz=c.createElement(Nz,null);class Cz extends c.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,s){return s.location!==n.location||s.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:s.error,location:s.location,revalidation:n.revalidation||s.revalidation}}componentDidCatch(n,s){console.error("React Router caught the following error during render",n,s)}render(){return this.state.error!==void 0?c.createElement(fr.Provider,{value:this.props.routeContext},c.createElement(xS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function wz(t){let{routeContext:n,match:s,children:r}=t,a=c.useContext(Vh);return a&&a.static&&a.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=s.route.id),c.createElement(fr.Provider,{value:n},r)}function Tz(t,n,s,r){var a;if(n===void 0&&(n=[]),s===void 0&&(s=null),r===void 0&&(r=null),t==null){var l;if(!s)return null;if(s.errors)t=s.matches;else if((l=r)!=null&&l.v7_partialHydration&&n.length===0&&!s.initialized&&s.matches.length>0)t=s.matches;else return null}let i=t,o=(a=s)==null?void 0:a.errors;if(o!=null){let p=i.findIndex(g=>g.route.id&&(o==null?void 0:o[g.route.id])!==void 0);p>=0||Qt(!1),i=i.slice(0,Math.min(i.length,p+1))}let d=!1,m=-1;if(s&&r&&r.v7_partialHydration)for(let p=0;p<i.length;p++){let g=i[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:h,errors:k}=s,x=g.route.loader&&h[g.route.id]===void 0&&(!k||k[g.route.id]===void 0);if(g.route.lazy||x){d=!0,m>=0?i=i.slice(0,m+1):i=[i[0]];break}}}return i.reduceRight((p,g,h)=>{let k,x=!1,w=null,N=null;s&&(k=o&&g.route.id?o[g.route.id]:void 0,w=g.route.errorElement||kz,d&&(m<0&&h===0?(Iz("route-fallback"),x=!0,N=null):m===h&&(x=!0,N=g.route.hydrateFallbackElement||null)));let f=n.concat(i.slice(0,h+1)),v=()=>{let b;return k?b=w:x?b=N:g.route.Component?b=c.createElement(g.route.Component,null):g.route.element?b=g.route.element:b=p,c.createElement(wz,{match:g,routeContext:{outlet:p,matches:f,isDataRoute:s!=null},children:b})};return s&&(g.route.ErrorBoundary||g.route.errorElement||h===0)?c.createElement(Cz,{location:s.location,revalidation:s.revalidation,component:w,error:k,children:v(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):v()},null)}var bS=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(bS||{}),SS=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(SS||{});function zz(t){let n=c.useContext(Vh);return n||Qt(!1),n}function Dz(t){let n=c.useContext(gz);return n||Qt(!1),n}function Rz(t){let n=c.useContext(fr);return n||Qt(!1),n}function NS(t){let n=Rz(),s=n.matches[n.matches.length-1];return s.route.id||Qt(!1),s.route.id}function Az(){var t;let n=c.useContext(xS),s=Dz(),r=NS();return n!==void 0?n:(t=s.errors)==null?void 0:t[r]}function Ez(){let{router:t}=zz(bS.UseNavigateStable),n=NS(SS.UseNavigateStable),s=c.useRef(!1);return vS(()=>{s.current=!0}),c.useCallback(function(a,l){l===void 0&&(l={}),s.current&&(typeof a=="number"?t.navigate(a):t.navigate(a,Bi({fromRouteId:n},l)))},[t,n])}const lj={};function Iz(t,n,s){lj[t]||(lj[t]=!0)}function Mz(t,n){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Qr(t){let{to:n,replace:s,state:r,relative:a}=t;jl()||Qt(!1);let{future:l,static:i}=c.useContext(Ur),{matches:o}=c.useContext(fr),{pathname:d}=Ys(),m=vs(),p=Hh(n,Kh(o,l.v7_relativeSplatPath),d,a==="path"),g=JSON.stringify(p);return c.useEffect(()=>m(JSON.parse(g),{replace:s,state:r,relative:a}),[m,g,a,s,r]),null}function Pz(t){return jz(t.context)}function et(t){Qt(!1)}function Lz(t){let{basename:n="/",children:s=null,location:r,navigationType:a=wr.Pop,navigator:l,static:i=!1,future:o}=t;jl()&&Qt(!1);let d=n.replace(/^\/*/,"/"),m=c.useMemo(()=>({basename:d,navigator:l,static:i,future:Bi({v7_relativeSplatPath:!1},o)}),[d,o,l,i]);typeof r=="string"&&(r=vl(r));let{pathname:p="/",search:g="",hash:h="",state:k=null,key:x="default"}=r,w=c.useMemo(()=>{let N=Uh(p,d);return N==null?null:{location:{pathname:N,search:g,hash:h,state:k,key:x},navigationType:a}},[d,p,g,h,k,x,a]);return w==null?null:c.createElement(Ur.Provider,{value:m},c.createElement(Od.Provider,{children:s,value:w}))}function Bz(t){let{children:n,location:s}=t;return bz(np(n),s)}new Promise(()=>{});function np(t,n){n===void 0&&(n=[]);let s=[];return c.Children.forEach(t,(r,a)=>{if(!c.isValidElement(r))return;let l=[...n,a];if(r.type===c.Fragment){s.push.apply(s,np(r.props.children,l));return}r.type!==et&&Qt(!1),!r.props.index||!r.props.children||Qt(!1);let i={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=np(r.props.children,l)),s.push(i)}),s}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sp(){return sp=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r])}return t},sp.apply(this,arguments)}function Oz(t,n){if(t==null)return{};var s={},r=Object.keys(t),a,l;for(l=0;l<r.length;l++)a=r[l],!(n.indexOf(a)>=0)&&(s[a]=t[a]);return s}function $z(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function _z(t,n){return t.button===0&&(!n||n==="_self")&&!$z(t)}function rp(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((n,s)=>{let r=t[s];return n.concat(Array.isArray(r)?r.map(a=>[s,a]):[[s,r]])},[]))}function Fz(t,n){let s=rp(t);return n&&n.forEach((r,a)=>{s.has(a)||n.getAll(a).forEach(l=>{s.append(a,l)})}),s}const Wz=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Uz="6";try{window.__reactRouterVersion=Uz}catch{}const Kz="startTransition",ij=rc[Kz];function Hz(t){let{basename:n,children:s,future:r,window:a}=t,l=c.useRef();l.current==null&&(l.current=U5({window:a,v5Compat:!0}));let i=l.current,[o,d]=c.useState({action:i.action,location:i.location}),{v7_startTransition:m}=r||{},p=c.useCallback(g=>{m&&ij?ij(()=>d(g)):d(g)},[d,m]);return c.useLayoutEffect(()=>i.listen(p),[i,p]),c.useEffect(()=>Mz(r),[r]),c.createElement(Lz,{basename:n,children:s,location:o.location,navigationType:o.action,navigator:i,future:r})}const Vz=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",qz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,al=c.forwardRef(function(n,s){let{onClick:r,relative:a,reloadDocument:l,replace:i,state:o,target:d,to:m,preventScrollReset:p,viewTransition:g}=n,h=Oz(n,Wz),{basename:k}=c.useContext(Ur),x,w=!1;if(typeof m=="string"&&qz.test(m)&&(x=m,Vz))try{let b=new URL(window.location.href),y=m.startsWith("//")?new URL(b.protocol+m):new URL(m),S=Uh(y.pathname,k);y.origin===b.origin&&S!=null?m=S+y.search+y.hash:w=!0}catch{}let N=yz(m,{relative:a}),f=Yz(m,{replace:i,state:o,target:d,preventScrollReset:p,relative:a,viewTransition:g});function v(b){r&&r(b),b.defaultPrevented||f(b)}return c.createElement("a",sp({},h,{href:x||N,onClick:w||l?r:v,ref:s,target:d}))});var oj;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(oj||(oj={}));var cj;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(cj||(cj={}));function Yz(t,n){let{target:s,replace:r,state:a,preventScrollReset:l,relative:i,viewTransition:o}=n===void 0?{}:n,d=vs(),m=Ys(),p=jS(t,{relative:i});return c.useCallback(g=>{if(_z(g,s)){g.preventDefault();let h=r!==void 0?r:Ic(m)===Ic(p);d(t,{replace:h,state:a,preventScrollReset:l,relative:i,viewTransition:o})}},[m,d,p,r,a,s,t,l,i,o])}function Gz(t){let n=c.useRef(rp(t)),s=c.useRef(!1),r=Ys(),a=c.useMemo(()=>Fz(r.search,s.current?null:n.current),[r.search]),l=vs(),i=c.useCallback((o,d)=>{const m=rp(typeof o=="function"?o(a):o);s.current=!0,l("?"+m,d)},[l,a]);return[a,i]}const $d="http://localhost:8000",Jz="/data/mockData.json";let Hs=null,_l=null;const Kr=async()=>Hs||_l||(_l=fetch(Jz).then(async t=>{if(!t.ok)throw new Error("rnek veri alnamad");const n=await t.json();return Hs=n,n}),_l.finally(()=>{_l=null})),Qz=t=>t?typeof t=="string"?t:Array.isArray(t)?t.map(s=>{var d;const r=((d=s.loc)==null?void 0:d.slice(-1)[0])||"alan",l={productCode:"rn Kodu",colorCode:"Renk Kodu",name:"rn Ad",unit:"Birim",supplierId:"Tedariki",supplierName:"Tedariki Ad",qty:"Miktar",quantity:"Miktar",itemId:"rn",critical:"Kritik Seviye",email:"E-posta",ad:"Ad",soyad:"Soyad",baslik:"Balk"}[r]||r,o={"value_error.missing":"gerekli","type_error.none.not_allowed":"bo olamaz","type_error.integer":"say olmal","type_error.float":"say olmal","type_error.string":"metin olmal"}[s.type]||s.msg||"hatal";return`${l} ${o}`}).join(", "):String(t):"Bilinmeyen hata",Xz=()=>localStorage.getItem("userId")||null,ve=async(t,n={})=>{const s={"Content-Type":"application/json"},r=localStorage.getItem("authToken");r&&(s.Authorization=`Bearer ${r}`);const a=Xz();a&&(s["X-User-Id"]=a);const l=await fetch(`${$d}${t}`,{headers:s,...n});if(!l.ok){const i=await l.json().catch(()=>({})),o=Qz(i.detail)||l.statusText;throw new Error(o)}return l.json()},kS=()=>localStorage.getItem("authToken"),CS=t=>{t?localStorage.setItem("authToken",t):localStorage.removeItem("authToken")},Zz=()=>{const t=kS();return t?{Authorization:`Bearer ${t}`}:{}},bl=async(t,n={})=>{const s=Zz(),r={...n,headers:{...n.headers,...s}};return ve(t,r)},e6=async(t,n)=>{const r=await(await fetch(`${$d}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,password:n})})).json();return r.success&&r.token&&(CS(r.token),localStorage.setItem("currentUser",JSON.stringify(r.user))),r},t6=async()=>{try{await bl("/auth/logout",{method:"POST"})}catch{}CS(null),localStorage.removeItem("currentUser")},n6=async()=>bl("/auth/me"),s6=()=>!!kS(),wS=async()=>bl("/users"),r6=async t=>bl("/users",{method:"POST",body:JSON.stringify(t)}),a6=async(t={})=>{const n=new URLSearchParams;return t.limit&&n.set("limit",t.limit),t.offset&&n.set("offset",t.offset),t.userId&&n.set("userId",t.userId),t.action&&n.set("action",t.action),t.targetType&&n.set("targetType",t.targetType),t.targetId&&n.set("targetId",t.targetId),t.dateFrom&&n.set("dateFrom",t.dateFrom),t.dateTo&&n.set("dateTo",t.dateTo),bl(`/activities?${n.toString()}`)},l6=async(t=7)=>bl(`/activities/summary?days=${t}`),ja=async()=>ve("/jobs"),tc=async t=>ve(`/jobs/${t}`),TS=async t=>ve("/jobs",{method:"POST",body:JSON.stringify(t)}),ap=async(t,n)=>ve(`/jobs/${t}/measure`,{method:"PUT",body:JSON.stringify(n)}),i6=async(t,n)=>ve(`/jobs/${t}/measure/issue`,{method:"POST",body:JSON.stringify(n)}),o6=async(t,n)=>ve(`/jobs/${t}/measure/issue/${n}/resolve`,{method:"POST"}),c6=async(t,n)=>ve(`/jobs/${t}/offer`,{method:"PUT",body:JSON.stringify(n)}),d6=async(t,n)=>ve(`/jobs/${t}/approval/start`,{method:"POST",body:JSON.stringify(n)}),dj=async(t,n)=>ve(`/jobs/${t}/approval/payment`,{method:"PUT",body:JSON.stringify({paymentPlan:n})}),ko=async(t,n)=>ve(`/jobs/${t}/stock`,{method:"PUT",body:JSON.stringify(n)}),uj=async(t,n)=>ve(`/jobs/${t}/production`,{method:"PUT",body:JSON.stringify(n)}),u6=async(t,n)=>ve(`/jobs/${t}/assembly/schedule`,{method:"PUT",body:JSON.stringify(n)}),mj=async(t,n)=>ve(`/jobs/${t}/estimated-assembly`,{method:"PUT",body:JSON.stringify(n)}),m6=async(t,n)=>ve(`/jobs/${t}/assembly/complete`,{method:"PUT",body:JSON.stringify(n)}),p6=async(t,n)=>ve(`/jobs/${t}/finance/close`,{method:"PUT",body:JSON.stringify(n)}),pj=async(t={})=>{const n=new URLSearchParams;t.durum&&n.append("durum",t.durum),t.oncelik&&n.append("oncelik",t.oncelik),t.assigneeType&&n.append("assigneeType",t.assigneeType),t.assigneeId&&n.append("assigneeId",t.assigneeId);const s=n.toString();return ve(`/tasks${s?`?${s}`:""}`)},h6=async t=>ve(`/tasks/${t}`),zS=async t=>ve("/tasks",{method:"POST",body:JSON.stringify(t)}),f6=async(t,n)=>ve(`/tasks/${t}`,{method:"PUT",body:JSON.stringify(n)}),g6=async(t,n)=>ve(`/tasks/${t}/durum?durum=${n}`,{method:"PATCH"}),y6=async t=>ve(`/tasks/${t}`,{method:"DELETE"}),x6=async(t,n)=>ve(`/tasks/${t}/assign`,{method:"POST",body:JSON.stringify(n)}),Sl=async(t=null)=>{const n=t!==null?`?aktifMi=${t}`:"";return ve(`/personnel${n}`)},v6=async t=>ve("/personnel",{method:"POST",body:JSON.stringify(t)}),j6=async(t,n)=>ve(`/personnel/${t}`,{method:"PUT",body:JSON.stringify(n)}),b6=async(t,n)=>ve(`/personnel/${t}/aktif?aktifMi=${n}`,{method:"PATCH"}),S6=async t=>ve(`/personnel/${t}`,{method:"DELETE"}),DS=async(t=null)=>{const n=t!==null?`?aktifMi=${t}`:"";return ve(`/roles${n}`)},N6=async t=>ve("/roles",{method:"POST",body:JSON.stringify(t)}),k6=async(t,n)=>ve(`/roles/${t}`,{method:"PUT",body:JSON.stringify(n)}),C6=async t=>ve(`/roles/${t}`,{method:"DELETE"}),Nl=async(t=null)=>{const n=t!==null?`?aktifMi=${t}`:"";return ve(`/teams${n}`)},w6=async t=>ve("/teams",{method:"POST",body:JSON.stringify(t)}),T6=async(t,n)=>ve(`/teams/${t}`,{method:"PUT",body:JSON.stringify(n)}),z6=async t=>ve(`/teams/${t}`,{method:"DELETE"}),Ru=async t=>ve(`/teams/${t}/members`),D6=async(t,n)=>ve(`/teams/${t}/members?personnel_id=${n}`,{method:"POST"}),R6=async(t,n)=>ve(`/teams/${t}/members/${n}`,{method:"DELETE"}),_d=async()=>ve("/customers"),qh=async t=>ve("/customers",{method:"POST",body:JSON.stringify(t)}),A6=async(t,n)=>ve(`/customers/${t}`,{method:"PUT",body:JSON.stringify(n)}),E6=async t=>ve(`/customers/${t}`,{method:"DELETE"}),Gi=async()=>{try{return await ve("/stock/items")}catch(t){return console.warn("API stock items failed, falling back to mock",t),(await Kr()).stockItems||[]}},I6=async t=>ve("/stock/items",{method:"POST",body:JSON.stringify(t)}),M6=async(t,n)=>ve(`/stock/items/${t}`,{method:"PUT",body:JSON.stringify(n)}),P6=async t=>ve(`/stock/items/${t}`,{method:"DELETE"}),hj=async t=>ve("/stock/movements",{method:"POST",body:JSON.stringify(t)}),RS=async()=>{try{return await ve("/stock/movements")}catch{return(await Kr()).stockMovements||[]}},L6=async()=>(await Kr()).reservations||[],fj=async t=>((await Kr()).jobLogs||[]).filter(s=>s.jobId===t),B6=async t=>{const n=await Kr(),s={id:t.id||`LOG-${Date.now()}`,jobId:t.jobId,action:t.action||"log",detail:t.detail||"",createdAt:t.createdAt||new Date().toISOString(),meta:t.meta||{}};return n.jobLogs=[s,...n.jobLogs||[]],Hs=n,s},Gt=async(t,n)=>ve(`/jobs/${t}/status`,{method:"PUT",body:JSON.stringify(n)}),Co=async(t,n)=>ve(`/jobs/${t}/inquiry-decision`,{method:"PUT",body:JSON.stringify(n)}),Fl=(t,n)=>{if(!Hs)return;const s=Hs.jobs||[];Hs.jobs=s.map(r=>r.id===t?{...r,...n}:r)},O6=(t,n=[])=>{if(!Hs)return;const s={id:`PO-${Date.now()}`,supplier:"Sipari Bekleniyor",total:"0",status:"Beklemede",expectedDate:new Date(Date.now()+3*24*60*60*1e3).toISOString().slice(0,10),jobId:t,lines:n.map(r=>({name:r.name,qty:r.qty,sku:r.sku,color:r.color}))};return Hs.purchaseOrders=[s,...Hs.purchaseOrders||[]],s},AS=async()=>ve("/colors/"),$6=async t=>ve("/colors/",{method:"POST",body:JSON.stringify(t)}),_6=async t=>ve(`/colors/${t}`,{method:"DELETE"}),F6=async()=>(await Kr()).purchaseOrders||[],W6=async()=>(await Kr()).invoices||[],U6=async(t,n)=>{const s=new URLSearchParams;return t&&s.append("start_date",t),n&&s.append("end_date",n),ve(`/reports/production${s.toString()?"?"+s.toString():""}`)},K6=async(t,n)=>{const s=new URLSearchParams;return t&&s.append("start_date",t),n&&s.append("end_date",n),ve(`/reports/finance${s.toString()?"?"+s.toString():""}`)},H6=async(t,n)=>{const s=new URLSearchParams;return t&&s.append("start_date",t),n&&s.append("end_date",n),ve(`/reports/performance${s.toString()?"?"+s.toString():""}`)},V6=async(t,n)=>{const s=new URLSearchParams;return t&&s.append("start_date",t),n&&s.append("end_date",n),ve(`/reports/suppliers${s.toString()?"?"+s.toString():""}`)},q6=async(t,n,s)=>{const r=new URLSearchParams;return n&&r.append("start_date",n),s&&r.append("end_date",s),ve(`/reports/supplier/${t}${r.toString()?"?"+r.toString():""}`)},Y6=async(t,n)=>{const s=new URLSearchParams;return t&&s.append("start_date",t),n&&s.append("end_date",n),ve(`/reports/customers-analysis${s.toString()?"?"+s.toString():""}`)},G6=async(t,n)=>{const s=new URLSearchParams;return t&&s.append("start_date",t),n&&s.append("end_date",n),ve(`/reports/cancellations${s.toString()?"?"+s.toString():""}`)},J6=async(t,n,s,r)=>{const a=new URLSearchParams;return a.append("period1_start",t),a.append("period1_end",n),a.append("period2_start",s),a.append("period2_end",r),ve(`/reports/period-comparison?${a.toString()}`)},Q6=async(t,n)=>{const s=new URLSearchParams;return t&&s.append("start_date",t),n&&s.append("end_date",n),ve(`/reports/personnel-performance${s.toString()?"?"+s.toString():""}`)},X6=async(t,n)=>{const s=new URLSearchParams;return t&&s.append("start_date",t),n&&s.append("end_date",n),ve(`/reports/process-time${s.toString()?"?"+s.toString():""}`)},Z6=async(t,n)=>{const s=new URLSearchParams;return t&&s.append("start_date",t),n&&s.append("end_date",n),ve(`/reports/inquiry-conversion${s.toString()?"?"+s.toString():""}`)},e4=async(t,n,s)=>{const r=new URLSearchParams;return n&&r.append("start_date",n),s&&r.append("end_date",s),ve(`/reports/personnel/${t}${r.toString()?"?"+r.toString():""}`)},t4=async(t,n,s)=>{const r=new URLSearchParams;return n&&r.append("start_date",n),s&&r.append("end_date",s),ve(`/reports/customer/${t}${r.toString()?"?"+r.toString():""}`)},ES=async(t=null,n=null)=>{let s="/documents";const r=new URLSearchParams;return t&&r.append("job_id",t),n&&r.append("doc_type",n),r.toString()&&(s+=`?${r.toString()}`),ve(s)},n4=async t=>ve(`/documents/job/${t}`),kl=async(t,n,s,r="",a=null,l=null)=>{const i=new FormData;i.append("file",t),i.append("docType",s),n&&i.append("jobId",n),r&&i.append("description",r),a&&i.append("folderId",a),l&&i.append("supplierId",l);const o=localStorage.getItem("authToken"),d={};o&&(d.Authorization=`Bearer ${o}`);const m=await fetch(`${$d}/documents/upload`,{method:"POST",headers:d,body:i});if(!m.ok){const p=await m.json().catch(()=>({}));throw new Error(p.detail||"Dosya yklenemedi")}return m.json()},IS=async t=>ve(`/documents/${t}`,{method:"DELETE"}),ls=t=>`${$d}/documents/${t}/download`,gj=async()=>ve("/folders"),s4=async t=>ve("/folders",{method:"POST",body:JSON.stringify(t)}),MS=async(t="",n="")=>{const s=new URLSearchParams;return t&&s.append("productCode",t),n&&s.append("colorCode",n),ve(`/stock/items/search?${s.toString()}`)},Au=async t=>ve("/stock/bulk-reserve",{method:"POST",body:JSON.stringify(t)}),PS=async(t=null,n=null)=>{const s=new URLSearchParams;return t&&s.append("status",t),n&&s.append("supplierId",n),ve(`/purchase/orders?${s.toString()}`)},lp=async t=>ve("/purchase/orders",{method:"POST",body:JSON.stringify(t)}),r4=async t=>ve(`/purchase/orders/${t}/send`,{method:"PUT"}),a4=async(t,n)=>ve(`/purchase/orders/${t}/receive`,{method:"POST",body:JSON.stringify(n)}),l4=async t=>ve(`/purchase/orders/${t}`,{method:"DELETE"}),LS=async()=>ve("/purchase/missing-items"),Gs=async(t=null)=>{try{const n=t?`?type=${t}`:"";return await ve(`/suppliers/${n}`)}catch{return(await Kr()).suppliers||[]}},i4=async t=>ve("/suppliers/",{method:"POST",body:JSON.stringify(t)}),o4=async(t,n)=>ve(`/suppliers/${t}`,{method:"PUT",body:JSON.stringify(n)}),c4=async t=>ve(`/suppliers/${t}`,{method:"DELETE"}),d4=async(t,n=null)=>{const s=n?`?type=${n}`:"";return ve(`/suppliers/${t}/transactions${s}`)},u4=async(t,n)=>ve(`/suppliers/${t}/transactions`,{method:"POST",body:JSON.stringify(n)}),yj=async t=>ve(`/suppliers/${t}/balance`),BS=async(t={})=>{const n=new URLSearchParams;t.jobId&&n.append("jobId",t.jobId),t.roleId&&n.append("roleId",t.roleId),t.orderType&&n.append("orderType",t.orderType),t.status&&n.append("status",t.status),t.supplierId&&n.append("supplierId",t.supplierId),t.overdue&&n.append("overdue","true");const s=n.toString();return ve(`/production/${s?"?"+s:""}`)},Eu=async t=>ve(`/production/by-job/${t}`),ip=async t=>ve("/production/",{method:"POST",body:JSON.stringify(t)}),Iu=async(t,n)=>ve(`/production/${t}/plan`,{method:"PATCH",body:JSON.stringify(n)}),m4=async(t,n)=>ve(`/production/${t}/dates`,{method:"PATCH",body:JSON.stringify(n)}),p4=async t=>ve(`/production/${t}`,{method:"DELETE"}),OS=async(t,n)=>ve(`/production/${t}/delivery`,{method:"POST",body:JSON.stringify(n)}),h4=async(t,n,s)=>ve(`/production/${t}/issues/${n}/resolve`,{method:"POST",body:JSON.stringify(s)}),f4=async()=>ve("/production/summary"),g4=async()=>ve("/production/alerts"),$S=async()=>ve("/production/combinations"),Ji=async()=>ve("/settings"),y4=async t=>ve("/settings/company",{method:"PUT",body:JSON.stringify(t)}),ba=async(t=!1)=>ve(`/settings/job-roles${t?"?active_only=true":""}`),x4=async t=>ve("/settings/job-roles",{method:"POST",body:JSON.stringify(t)}),v4=async(t,n)=>ve(`/settings/job-roles/${t}`,{method:"PUT",body:JSON.stringify(n)}),j4=async t=>ve(`/settings/job-roles/${t}`,{method:"DELETE"}),Yh=async()=>ve("/settings/glass-types"),b4=async t=>ve("/settings/glass-types",{method:"POST",body:JSON.stringify(t)}),S4=async t=>ve(`/settings/glass-types/${t}`,{method:"DELETE"}),_S=async()=>ve("/settings/issue-types"),N4=async t=>ve("/settings/issue-types",{method:"POST",body:JSON.stringify(t)}),k4=async(t,n)=>ve(`/settings/issue-types/${t}`,{method:"PUT",body:JSON.stringify(n)}),C4=async t=>ve(`/settings/issue-types/${t}`,{method:"DELETE"}),FS=async()=>ve("/settings/fault-sources"),w4=async t=>ve("/settings/fault-sources",{method:"POST",body:JSON.stringify(t)}),T4=async(t,n)=>ve(`/settings/fault-sources/${t}`,{method:"PUT",body:JSON.stringify(n)}),z4=async t=>ve(`/settings/fault-sources/${t}`,{method:"DELETE"}),WS=async()=>ve("/settings/cancel-reasons"),D4=async t=>ve("/settings/cancel-reasons",{method:"POST",body:JSON.stringify(t)}),R4=async(t,n)=>ve(`/settings/cancel-reasons/${t}`,{method:"PUT",body:JSON.stringify(n)}),A4=async t=>ve(`/settings/cancel-reasons/${t}`,{method:"DELETE"}),E4=async()=>ve("/settings/delay-reasons"),I4=async t=>ve("/settings/delay-reasons",{method:"POST",body:JSON.stringify(t)}),M4=async(t,n)=>ve(`/settings/delay-reasons/${t}`,{method:"PUT",body:JSON.stringify(n)}),P4=async t=>ve(`/settings/delay-reasons/${t}`,{method:"DELETE"}),Gh=async(t={})=>{const n=new URLSearchParams;t.jobId&&n.append("jobId",t.jobId),t.roleId&&n.append("roleId",t.roleId),t.teamId&&n.append("teamId",t.teamId),t.status&&n.append("status",t.status),t.dateFrom&&n.append("dateFrom",t.dateFrom),t.dateTo&&n.append("dateTo",t.dateTo),t.overdue&&n.append("overdue","true");const s=n.toString();return ve(`/assembly/tasks${s?"?"+s:""}`)},L4=async(t=null)=>{const n=t?`?teamId=${t}`:"";return ve(`/assembly/tasks/today${n}`)},B4=async t=>ve(`/assembly/tasks/by-job/${t}`),O4=async t=>ve(`/assembly/tasks/create-for-job/${t}`,{method:"POST"}),op=async(t,n)=>ve(`/assembly/tasks/${t}`,{method:"PUT",body:JSON.stringify(n)}),US=async(t,n={})=>ve(`/assembly/tasks/${t}/start`,{method:"POST",body:JSON.stringify(n)}),KS=async(t,n={})=>ve(`/assembly/tasks/${t}/complete`,{method:"POST",body:JSON.stringify(n)}),$4=async(t,n={})=>ve(`/assembly/tasks/complete-all/${t}`,{method:"POST",body:JSON.stringify(n)}),HS=async(t,n)=>ve(`/assembly/tasks/${t}/issue`,{method:"POST",body:JSON.stringify(n)}),VS=async(t,n)=>ve(`/assembly/tasks/${t}/issues/${n}/resolve`,{method:"POST"}),_4=async()=>ve("/assembly/summary"),xj=async(t,n)=>ve(`/assembly/team-availability?teamId=${t}&date=${n}`),F4=async(t,n)=>ve(`/assembly/tasks/${t}/reschedule`,{method:"PUT",body:JSON.stringify(n)}),W4=async()=>ve("/dashboard/widgets/overview"),U4=async()=>ve("/dashboard/widgets/measure-status"),K4=async()=>ve("/dashboard/widgets/production-status"),H4=async()=>ve("/dashboard/widgets/assembly-status"),V4=async()=>ve("/dashboard/widgets/stock-alerts"),q4=async()=>ve("/dashboard/widgets/weekly-summary"),Y4=async()=>ve("/dashboard/widgets/financial-summary"),G4=async()=>ve("/dashboard/widgets/tasks-summary"),J4=async()=>ve("/dashboard/widgets/recent-activities"),qS=c.createContext(null),Jh=()=>{const t=c.useContext(qS);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},Q4=({children:t})=>{const[n,s]=c.useState(null),[r,a]=c.useState(!0),[l,i]=c.useState(null);c.useEffect(()=>{o()},[]);const o=async()=>{a(!0);try{if(s6()){const g=await n6();g.authenticated&&g.user?s(g.user):(s(null),localStorage.removeItem("authToken"),localStorage.removeItem("currentUser"))}else s(null)}catch(g){console.error("Auth check error:",g),s(null)}finally{a(!1)}},p={user:n,loading:r,error:l,isAuthenticated:!!n,login:async(g,h)=>{a(!0),i(null);try{const k=await e6(g,h);return k.success?(s(k.user),{success:!0}):(i(k.message||"Giri baarsz"),{success:!1,message:k.message})}catch(k){const x=k.message||"Giri srasnda hata olutu";return i(x),{success:!1,message:x}}finally{a(!1)}},logout:async()=>{a(!0);try{await t6()}catch(g){console.error("Logout error:",g)}finally{s(null),a(!1)}},checkAuth:o};return e.jsx(qS.Provider,{value:p,children:t})},Qh=[{section:"Kontrol",items:[{icon:"dashboard",label:"Kontrol Paneli",path:"/dashboard"}]},{section:"Operasyon",items:[{icon:"assignment",label:"ler",path:"/isler",collapsible:!0,children:[{label:" Listesi",path:"/isler/list"},{label:"Keif/l Takvimi",path:"/isler/takvim"},{label:"retim Plan",path:"/isler/uretim-plani"},{label:"Montaj Takvimi",path:"/isler/montaj-takvimi"},{label:"retim Takip",path:"/isler/uretim-takip",icon:"factory",children:[{label:"Tm Emirler",path:"/isler/uretim-takip/siparisler"},{label:" retim",path:"/isler/uretim-takip/ic-uretim"},{label:"D retim",path:"/isler/uretim-takip/dis-siparis"},{label:"Cam Emirleri",path:"/isler/uretim-takip/cam"},{label:"Sorun Takip",path:"/isler/uretim-takip/sorunlar"}]},{label:"Montaj Takip",path:"/isler/montaj-takip",icon:"build",children:[{label:"Planlanan Montajlar",path:"/isler/montaj-takip/planlanan"},{label:"Bugnk Montajlar",path:"/isler/montaj-takip/bugun"},{label:"Bekleyen Sorunlar",path:"/isler/montaj-takip/sorunlar"}]}]},{icon:"task_alt",label:"Grevler",path:"/gorevler",collapsible:!0,children:[{label:"Grev Listesi",path:"/gorevler/list"},{label:"Personel",path:"/gorevler/personel"},{label:"Ekipler",path:"/gorevler/ekipler"},{label:"Roller",path:"/gorevler/roller"}]},{icon:"groups",label:"Mteriler",path:"/musteriler"}]},{section:"Stok & Satnalma",items:[{icon:"inventory_2",label:"Stok",path:"/stok",collapsible:!0,children:[{label:"Stok Listesi",path:"/stok/liste"},{label:"Stok Hareketleri",path:"/stok/hareketler"},{label:"Kritik Stok",path:"/stok/kritik"},{label:"Rezervasyonlar",path:"/stok/rezervasyonlar"},{label:"Renkler",path:"/stok/renkler"}]},{icon:"shopping_cart",label:"Satnalma",path:"/satinalma",collapsible:!0,children:[{label:"Sipariler (PO)",path:"/satinalma/siparisler"},{label:"Eksik rnler",path:"/satinalma/eksik"},{label:"Bekleyen Teslimatlar",path:"/satinalma/bekleyen"},{label:"Tedarikiler",path:"/satinalma/tedarikciler"}]}]},{section:"Finans & Evrak",items:[{icon:"description",label:"rsaliye & Fatura",path:"/evrak/irsaliye-fatura"},{icon:"account_balance_wallet",label:"demeler/Kasa",path:"/finans/odemeler-kasa"}]},{section:"Dijital Ariv & Rapor",items:[{icon:"archive",label:"Dijital Ariv",path:"/arsiv"},{icon:"bar_chart",label:"Raporlar",path:"/raporlar"}]},{section:"Sistem",items:[{icon:"monitoring",label:"Aktiviteler",path:"/aktiviteler"},{icon:"settings",label:"Ayarlar",path:"/ayarlar"}]}],ps=t=>{if(!t)return"/";const n=t.replace(/\/+$/,"");return n===""?"/":n},X4=t=>{const n=ps(t);let s=" Takip Paneli";return Qh.forEach(r=>{r.items.forEach(a=>{ps(a.path)===n&&(s=a.label),a.children&&a.children.forEach(l=>{ps(l.path)===n&&(s=l.label),l.children&&l.children.forEach(i=>{ps(i.path)===n&&(s=i.label)})})})}),s};function vj(...t){return t.reduce((n,s)=>s==null?n:function(...a){n.apply(this,a),s.apply(this,a)},()=>{})}function Z4(t){return e.jsx(J1,{...t,defaultTheme:_h,themeId:lr})}function eD(t){return function(s){return e.jsx(Z4,{styles:typeof t=="function"?r=>t({theme:r,...s}):t})}}const bn=qT;function dn(t){return UT(t)}function tD(t){return tn("MuiSvgIcon",t)}Yt("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const nD=t=>{const{color:n,fontSize:s,classes:r}=t,a={root:["root",n!=="inherit"&&`color${hn(n)}`,`fontSize${hn(s)}`]};return nn(a,tD,r)},sD=at("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,n)=>{const{ownerState:s}=t;return[n.root,s.color!=="inherit"&&n[`color${hn(s.color)}`],n[`fontSize${hn(s.fontSize)}`]]}})(bn(({theme:t})=>{var n,s,r,a,l,i,o,d,m,p,g,h,k,x;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(a=(n=t.transitions)==null?void 0:n.create)==null?void 0:a.call(n,"fill",{duration:(r=(s=(t.vars??t).transitions)==null?void 0:s.duration)==null?void 0:r.shorter}),variants:[{props:w=>!w.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((i=(l=t.typography)==null?void 0:l.pxToRem)==null?void 0:i.call(l,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((d=(o=t.typography)==null?void 0:o.pxToRem)==null?void 0:d.call(o,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((p=(m=t.typography)==null?void 0:m.pxToRem)==null?void 0:p.call(m,35))||"2.1875rem"}},...Object.entries((t.vars??t).palette).filter(([,w])=>w&&w.main).map(([w])=>{var N,f;return{props:{color:w},style:{color:(f=(N=(t.vars??t).palette)==null?void 0:N[w])==null?void 0:f.main}}}),{props:{color:"action"},style:{color:(h=(g=(t.vars??t).palette)==null?void 0:g.action)==null?void 0:h.active}},{props:{color:"disabled"},style:{color:(x=(k=(t.vars??t).palette)==null?void 0:k.action)==null?void 0:x.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),cp=c.forwardRef(function(n,s){const r=dn({props:n,name:"MuiSvgIcon"}),{children:a,className:l,color:i="inherit",component:o="svg",fontSize:d="medium",htmlColor:m,inheritViewBox:p=!1,titleAccess:g,viewBox:h="0 0 24 24",...k}=r,x=c.isValidElement(a)&&a.type==="svg",w={...r,color:i,component:o,fontSize:d,instanceFontSize:n.fontSize,inheritViewBox:p,viewBox:h,hasSvgAsChild:x},N={};p||(N.viewBox=h);const f=nD(w);return e.jsxs(sD,{as:o,className:ht(f.root,l),focusable:"false",color:m,"aria-hidden":g?void 0:!0,role:g?"img":void 0,ref:s,...N,...k,...x&&a.props,ownerState:w,children:[x?a.props.children:a,g?e.jsx("title",{children:g}):null]})});cp.muiName="SvgIcon";function $e(t,n){function s(r,a){return e.jsx(cp,{"data-testid":void 0,ref:a,...r,children:t})}return s.muiName=cp.muiName,c.memo(c.forwardRef(s))}function YS(t,n=166){let s;function r(...a){const l=()=>{t.apply(this,a)};clearTimeout(s),s=setTimeout(l,n)}return r.clear=()=>{clearTimeout(s)},r}function Ds(t){return t&&t.ownerDocument||document}function pr(t){return Ds(t).defaultView||window}function jj(t,n){typeof t=="function"?t(n):t&&(t.current=n)}function bj(t){const{controlled:n,default:s,name:r,state:a="value"}=t,{current:l}=c.useRef(n!==void 0),[i,o]=c.useState(s),d=l?n:i,m=c.useCallback(p=>{l||o(p)},[]);return[d,m]}function da(t){const n=c.useRef(t);return qs(()=>{n.current=t}),c.useRef((...s)=>(0,n.current)(...s)).current}function In(...t){const n=c.useRef(void 0),s=c.useCallback(r=>{const a=t.map(l=>{if(l==null)return null;if(typeof l=="function"){const i=l,o=i(r);return typeof o=="function"?o:()=>{i(null)}}return l.current=r,()=>{l.current=null}});return()=>{a.forEach(l=>l==null?void 0:l())}},t);return c.useMemo(()=>t.every(r=>r==null)?null:r=>{n.current&&(n.current(),n.current=void 0),r!=null&&(n.current=s(r))},t)}function rD(t,n){const s=t.charCodeAt(2);return t[0]==="o"&&t[1]==="n"&&s>=65&&s<=90&&typeof n=="function"}function aD(t,n){if(!t)return n;function s(i,o){const d={};return Object.keys(o).forEach(m=>{rD(m,o[m])&&typeof i[m]=="function"&&(d[m]=(...p)=>{i[m](...p),o[m](...p)})}),d}if(typeof t=="function"||typeof n=="function")return i=>{const o=typeof n=="function"?n(i):n,d=typeof t=="function"?t({...i,...o}):t,m=ht(i==null?void 0:i.className,o==null?void 0:o.className,d==null?void 0:d.className),p=s(d,o);return{...o,...d,...p,...!!m&&{className:m},...(o==null?void 0:o.style)&&(d==null?void 0:d.style)&&{style:{...o.style,...d.style}},...(o==null?void 0:o.sx)&&(d==null?void 0:d.sx)&&{sx:[...Array.isArray(o.sx)?o.sx:[o.sx],...Array.isArray(d.sx)?d.sx:[d.sx]]}}};const r=n,a=s(t,r),l=ht(r==null?void 0:r.className,t==null?void 0:t.className);return{...n,...t,...a,...!!l&&{className:l},...(r==null?void 0:r.style)&&(t==null?void 0:t.style)&&{style:{...r.style,...t.style}},...(r==null?void 0:r.sx)&&(t==null?void 0:t.sx)&&{sx:[...Array.isArray(r.sx)?r.sx:[r.sx],...Array.isArray(t.sx)?t.sx:[t.sx]]}}}const Sj=$e([e.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"},"0"),e.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},"1")]),lD=$e(e.jsx("path",{d:"M21 18v1c0 1.1-.9 2-2 2H5c-1.11 0-2-.9-2-2V5c0-1.1.89-2 2-2h14c1.1 0 2 .9 2 2v1h-9c-1.11 0-2 .9-2 2v8c0 1.1.89 2 2 2zm-9-2h10V8H12zm4-2.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5"})),GS=$e(e.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"})),iD=$e(e.jsx("path",{d:"M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8"})),JS=$e(e.jsx("path",{d:"M17 11V3H7v4H3v14h8v-4h2v4h8V11zM7 19H5v-2h2zm0-4H5v-2h2zm0-4H5V9h2zm4 4H9v-2h2zm0-4H9V9h2zm0-4H9V5h2zm4 8h-2v-2h2zm0-4h-2V9h2zm0-4h-2V5h2zm4 12h-2v-2h2zm0-4h-2v-2h2z"})),oD=$e(e.jsx("path",{d:"m20.54 5.23-1.39-1.68C18.88 3.21 18.47 3 18 3H6c-.47 0-.88.21-1.16.55L3.46 5.23C3.17 5.57 3 6.02 3 6.5V19c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V6.5c0-.48-.17-.93-.46-1.27M12 17.5 6.5 12H10v-2h4v2h3.5zM5.12 5l.81-1h12l.94 1z"})),Oi=$e(e.jsx("path",{d:"M19 3h-4.18C14.4 1.84 13.3 1 12 1s-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1m2 14H7v-2h7zm3-4H7v-2h10zm0-4H7V7h10z"})),cD=$e(e.jsx("path",{d:"M16.5 6v11.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V5c0-1.38 1.12-2.5 2.5-2.5s2.5 1.12 2.5 2.5v10.5c0 .55-.45 1-1 1s-1-.45-1-1V6H10v9.5c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5V5c0-2.21-1.79-4-4-4S7 2.79 7 5v12.5c0 3.04 2.46 5.5 5.5 5.5s5.5-2.46 5.5-5.5V6z"})),dp=$e(e.jsx("path",{d:"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4"})),Xh=$e(e.jsx("path",{d:"M4 9h4v11H4zm12 4h4v7h-4zm-6-9h4v16h-4z"})),Mc=$e(e.jsx("path",{d:"m22.7 19-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4"})),QS=$e(e.jsx("path",{d:"M12 7V3H2v18h20V7zM6 19H4v-2h2zm0-4H4v-2h2zm0-4H4V9h2zm0-4H4V5h2zm4 12H8v-2h2zm0-4H8v-2h2zm0-4H8V9h2zm0-4H8V5h2zm10 12h-8v-2h2v-2h-2v-2h2v-2h-2V9h8zm-2-8h-2v2h2zm0 4h-2v2h2z"})),dD=$e([e.jsx("circle",{cx:"12",cy:"12",r:"3.2"},"0"),e.jsx("path",{d:"M9 2 7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5"},"1")]),Mu=$e(e.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"})),uD=$e(e.jsx("path",{d:"M19 5v14H5V5zm0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2"})),nc=$e(e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"})),mD=$e(e.jsx("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),XS=$e(e.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),pD=$e(e.jsx("path",{d:"m13.7826 15.1719 2.1213-2.1213 5.9963 5.9962-2.1213 2.1213zM17.5 10c1.93 0 3.5-1.57 3.5-3.5 0-.58-.16-1.12-.41-1.6l-2.7 2.7-1.49-1.49 2.7-2.7c-.48-.25-1.02-.41-1.6-.41C15.57 3 14 4.57 14 6.5c0 .41.08.8.21 1.16l-1.85 1.85-1.78-1.78.71-.71-1.41-1.41L12 3.49c-1.17-1.17-3.07-1.17-4.24 0L4.22 7.03l1.41 1.41H2.81l-.71.71 3.54 3.54.71-.71V9.15l1.41 1.41.71-.71 1.78 1.78-7.41 7.41 2.12 2.12L16.34 9.79c.36.13.75.21 1.16.21"})),hD=$e(e.jsx("path",{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2m0 14H4v-6h16zm0-10H4V6h16z"})),fD=$e(e.jsx("path",{d:"M18 4H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 14H6V6h12z"})),gD=$e(e.jsx("path",{d:"M3 13h8V3H3zm0 8h8v-6H3zm10 0h8V11h-8zm0-18v6h8V3z"})),yD=$e(e.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"})),Zh=$e(e.jsx("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8zm2 16H8v-2h8zm0-4H8v-2h8zm-3-5V3.5L18.5 9z"})),xD=$e(e.jsx("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"})),vD=$e(e.jsx("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2m-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"})),ZS=$e(e.jsx("path",{d:"M18.92 5.01C18.72 4.42 18.16 4 17.5 4h-11c-.66 0-1.21.42-1.42 1.01L3 11v8c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1h12v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-8zM6.5 15c-.83 0-1.5-.67-1.5-1.5S5.67 12 6.5 12s1.5.67 1.5 1.5S7.33 15 6.5 15m11 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5M5 10l1.5-4.5h11L19 10z"})),eN=$e(e.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"})),jD=$e(e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z"})),bD=$e(e.jsx("path",{d:"M17 12h-5v5h5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1zm3 18H5V8h14z"})),SD=$e(e.jsx("path",{d:"m12 8-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"})),ND=$e(e.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"})),tN=$e(e.jsx("path",{d:"M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8z"})),nN=$e(e.jsx("path",{d:"M20 6h-8l-2-2H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2m0 12H4V8h16z"})),sN=$e(e.jsx("path",{d:"M20 6h-8l-2-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2m-2.06 11L15 15.28 12.06 17l.78-3.33-2.59-2.24 3.41-.29L15 8l1.34 3.14 3.41.29-2.59 2.24z"})),kD=$e(e.jsx("path",{d:"M7 14H5v5h5v-2H7zm-2-4h2V7h3V5H5zm12 7h-3v2h5v-5h-2zM14 5v2h3v3h2V5z"})),up=$e(e.jsx("path",{d:"M12 12.75c1.63 0 3.07.39 4.24.9 1.08.48 1.76 1.56 1.76 2.73V18H6v-1.61c0-1.18.68-2.26 1.76-2.73 1.17-.52 2.61-.91 4.24-.91M4 13c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m1.13 1.1c-.37-.06-.74-.1-1.13-.1-.99 0-1.93.21-2.78.58C.48 14.9 0 15.62 0 16.43V18h4.5v-1.61c0-.83.23-1.61.63-2.29M20 13c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m4 3.43c0-.81-.48-1.53-1.22-1.85-.85-.37-1.79-.58-2.78-.58-.39 0-.76.04-1.13.1.4.68.63 1.46.63 2.29V18H24zM12 6c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3"})),CD=$e(e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 17h-2v-2h2zm2.07-7.75-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25"})),wD=$e(e.jsx("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9m-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8z"})),TD=$e(e.jsx("path",{d:"m6 2 .01 6L10 12l-3.99 4.01L6 22h12v-6l-4-4 4-3.99V2zm10 14.5V20H8v-3.5l4-4z"})),ef=$e(e.jsx("path",{d:"M20 2H4c-1 0-2 .9-2 2v3.01c0 .72.43 1.34 1 1.69V20c0 1.1 1.1 2 2 2h14c.9 0 2-.9 2-2V8.7c.57-.35 1-.97 1-1.69V4c0-1.1-1-2-2-2m-5 12H9v-2h6zm5-7H4V4h16z"})),zD=$e(e.jsx("path",{d:"M17.63 5.84C17.27 5.33 16.67 5 16 5L5 5.01C3.9 5.01 3 5.9 3 7v10c0 1.1.9 1.99 2 1.99L16 19c.67 0 1.27-.33 1.63-.84L22 12z"})),Nj=$e(e.jsx("path",{d:"M9 21c0 .5.4 1 1 1h4c.6 0 1-.5 1-1v-1H9zm3-19C8.1 2 5 5.1 5 9c0 2.4 1.2 4.5 3 5.7V17c0 .5.4 1 1 1h6c.6 0 1-.5 1-1v-2.3c1.8-1.3 3-3.4 3-5.7 0-3.9-3.1-7-7-7"})),DD=$e(e.jsx("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5"})),RD=$e(e.jsx("path",{d:"M20 8h-3V4H3c-1.1 0-2 .9-2 2v11h2c0 1.66 1.34 3 3 3s3-1.34 3-3h6c0 1.66 1.34 3 3 3s3-1.34 3-3h2v-5zM6 18.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m13.5-9 1.96 2.5H17V9.5zm-1.5 9c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5"})),AD=$e(e.jsx("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7m0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5"})),ED=$e(e.jsx("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2m3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1s3.1 1.39 3.1 3.1z"})),ID=$e(e.jsx("path",{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4z"})),rN=$e(e.jsx("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 14H4V8l8 5 8-5zm-8-7L4 6h16z"})),MD=$e(e.jsx("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"})),PD=$e(e.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"})),aN=$e(e.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"})),LD=$e(e.jsx("path",{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02z"})),BD=$e(e.jsx("path",{d:"M8 5v14l11-7z"})),tf=$e(e.jsx("path",{d:"m19.93 8.21-3.6 1.68L14 7.7V6.3l2.33-2.19 3.6 1.68c.38.18.82.01 1-.36.18-.38.01-.82-.36-1L16.65 2.6c-.38-.18-.83-.1-1.13.2l-1.74 1.6c-.18-.24-.46-.4-.78-.4-.55 0-1 .45-1 1v1H8.82C8.34 4.65 6.98 3.73 5.4 4.07c-1.16.25-2.15 1.25-2.36 2.43-.22 1.32.46 2.47 1.48 3.08L7.08 18H4v3h13v-3h-3.62L8.41 8.77c.17-.24.31-.49.41-.77H12v1c0 .55.45 1 1 1 .32 0 .6-.16.78-.4l1.74 1.6c.3.3.75.38 1.13.2l3.92-1.83c.38-.18.54-.62.36-1-.18-.37-.62-.54-1-.36M6 8c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1"})),OD=$e(e.jsx("path",{d:"M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3m-3 11H8v-5h8zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m-1-9H6v4h12z"})),lN=$e(e.jsx("path",{d:"M18 17H6v-2h12zm0-4H6v-2h12zm0-4H6V7h12zM3 22l1.5-1.5L6 22l1.5-1.5L9 22l1.5-1.5L12 22l1.5-1.5L15 22l1.5-1.5L18 22l1.5-1.5L21 22V2l-1.5 1.5L18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2 4.5 3.5 3 2z"})),$D=$e(e.jsx("path",{d:"M9.19 6.35c-2.04 2.29-3.44 5.58-3.57 5.89L2 10.69l4.05-4.05c.47-.47 1.15-.68 1.81-.55zM11.17 17s3.74-1.55 5.89-3.7c5.4-5.4 4.5-9.62 4.21-10.57-.95-.3-5.17-1.19-10.57 4.21C8.55 9.09 7 12.83 7 12.83zm6.48-2.19c-2.29 2.04-5.58 3.44-5.89 3.57L13.31 22l4.05-4.05c.47-.47.68-1.15.55-1.81zM9 18c0 .83-.34 1.58-.88 2.12C6.94 21.3 2 22 2 22s.7-4.94 1.88-6.12C4.42 15.34 5.17 15 6 15c1.66 0 3 1.34 3 3m4-9c0-1.1.9-2 2-2s2 .9 2 2-.9 2-2 2-2-.9-2-2"})),iN=$e(e.jsx("path",{d:"M16.54 11 13 7.46l1.41-1.41 2.12 2.12 4.24-4.24 1.41 1.41zM11 7H2v2h9zm10 6.41L19.59 12 17 14.59 14.41 12 13 13.41 15.59 16 13 18.59 14.41 20 17 17.41 19.59 20 21 18.59 18.41 16zM11 15H2v2h9z"})),oN=$e(e.jsx("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"})),kj=$e([e.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"},"0"),e.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},"1")]),_D=$e(e.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"})),nf=$e(e.jsx("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"})),cN=$e(e.jsx("path",{d:"M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2M1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2"})),Pu=$e(e.jsx("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"})),dN=$e(e.jsx("path",{d:"M20 4H4v2h16zm1 10v-2l-1-5H4l-1 5v2h1v6h10v-6h4v6h2v-6zm-9 4H6v-4h6z"})),uN=$e(e.jsx("path",{d:"M21 6H3c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2m0 10H3V8h2v4h2V8h2v4h2V8h2v4h2V8h2v4h2V8h2z"})),Cj=$e(e.jsx("path",{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8m0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4z"})),FD=$e(e.jsx("path",{d:"M22 5.18 10.59 16.6l-4.24-4.24 1.41-1.41 2.83 2.83 10-10zm-2.21 5.04c.13.57.21 1.17.21 1.78 0 4.42-3.58 8-8 8s-8-3.58-8-8 3.58-8 8-8c1.58 0 3.04.46 4.28 1.25l1.44-1.44C16.1 2.67 14.13 2 12 2 6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10c0-1.19-.22-2.33-.6-3.39z"})),WD=$e(e.jsx("path",{d:"M23 8c0 1.1-.9 2-2 2-.18 0-.35-.02-.51-.07l-3.56 3.55c.05.16.07.34.07.52 0 1.1-.9 2-2 2s-2-.9-2-2c0-.18.02-.36.07-.52l-2.55-2.55c-.16.05-.34.07-.52.07s-.36-.02-.52-.07l-4.55 4.56c.05.16.07.33.07.51 0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2c.18 0 .35.02.51.07l4.56-4.55C8.02 9.36 8 9.18 8 9c0-1.1.9-2 2-2s2 .9 2 2c0 .18-.02.36-.07.52l2.55 2.55c.16-.05.34-.07.52-.07s.36.02.52.07l3.55-3.56C19.02 8.35 19 8.18 19 8c0-1.1.9-2 2-2s2 .9 2 2"})),UD=$e(e.jsx("path",{d:"m19.07 4.93-1.41 1.41C19.1 7.79 20 9.79 20 12c0 4.42-3.58 8-8 8s-8-3.58-8-8c0-4.08 3.05-7.44 7-7.93v2.02C8.16 6.57 6 9.03 6 12c0 3.31 2.69 6 6 6s6-2.69 6-6c0-1.66-.67-3.16-1.76-4.24l-1.41 1.41C15.55 9.9 16 10.9 16 12c0 2.21-1.79 4-4 4s-4-1.79-4-4c0-1.86 1.28-3.41 3-3.86v2.14c-.6.35-1 .98-1 1.72 0 1.1.9 2 2 2s2-.9 2-2c0-.74-.4-1.38-1-1.72V2h-1C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10c0-2.76-1.12-5.26-2.93-7.07"})),KD=$e(e.jsx("path",{d:"m16 6 2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"})),mp=$e(e.jsx("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8zm4 18H6V4h7v5h5zM8 15.01l1.41 1.41L11 14.84V19h2v-4.16l1.59 1.59L16 15.01 12.01 11z"})),HD=$e(e.jsx("path",{d:"M19 13H5c-1.1 0-2 .9-2 2v4c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-4c0-1.1-.9-2-2-2m0-10H5c-1.1 0-2 .9-2 2v4c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2"})),VD=$e(e.jsx("path",{d:"M5.33 20H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2h1.33c1.1 0 2 .9 2 2v12c0 1.1-.89 2-2 2M22 18V6c0-1.1-.9-2-2-2h-1.33c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2H20c1.11 0 2-.9 2-2m-7.33 0V6c0-1.1-.9-2-2-2h-1.33c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h1.33c1.1 0 2-.9 2-2"})),qD=$e(e.jsx("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"})),YD=$e(e.jsx("path",{d:"M12.65 10C11.83 7.67 9.61 6 7 6c-3.31 0-6 2.69-6 6s2.69 6 6 6c2.61 0 4.83-1.67 5.65-4H17v4h4v-4h2v-4zM7 14c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2"})),mN=$e(e.jsx("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"})),GD={dashboard:gD,assignment:Oi,factory:tf,build:Mc,task_alt:FD,groups:up,inventory_2:ef,shopping_cart:cN,description:Zh,account_balance_wallet:lD,archive:oD,bar_chart:Xh,monitoring:WD,settings:nf},sf={search:_D,person:aN,logout:ID,menu:MD,chevron_right:mD,expand_more:ND,expand_less:SD,delete:yD,more_vert:PD,warning:mN,edit:eN,visibility:qD,download:xD,print:OD,save:oN,crop_square:fD,check_box_outline_blank:uD,fullscreen:kD,view_week:VD,view_agenda:HD,drag_indicator:vD,add:GS,settings:nf},pN={"":bD,"":nc,"":nc,"":uN,"":Zh,"":dp,"":kj,"":Mu,"":Oi,"":ef,"":Mc,"":RD,"":hD,"":pD,"":Cj,"":Oi,"":Xh,"":aN,"":up,"":QS,"":tf,"":cN,"":mN,"":Pu,"":lN,"":dN,"":Mc,"":TD,"":jD,"":Pu,"":Mu,"":CD,"":ZS,"":Nj,"":cD,"":JS,"":zD,"":iN,"":tN,"":nN,"":sN,"":mp,upload_file:mp,"":rN,"":XS,"":up,"":dp,"":KD,"":Sj,"":iD,"":oN,"":BD,"":UD,"":AD,"":LD,"":Cj,"":DD,"":dD,"":eN,"":GS,"":ED,"":YD,"":$D,"":nc,"":kj,"":Mu,"":Pu,"":nf,"":Nj,"":Sj,"":wD},JD={straighten:uN,rule:iN,assignment:Oi,attach_money:dp,apartment:JS,inventory_2:ef,build:Mc,check_circle:nc,drive_eta:ZS,precision_manufacturing:tf,store:dN,folder:tN,receipt:lN,description:Zh,folder_open:nN,folder_special:sN,bar_chart:Xh,work:Oi,business:QS,upload_file:mp,close:XS,mail_outline:rN},me=({icon:t,...n})=>{const s=typeof t=="string"?pN[t]||sf[t]:t;return s?e.jsx(s,{...n,fontSize:"small","aria-hidden":!0}):null},pp=({name:t,...n})=>{const s=GD[t];return s?e.jsx(s,{...n,fontSize:"small","aria-hidden":!0}):null},us=({name:t,...n})=>{const s=sf[t];return s?e.jsx(s,{...n,fontSize:"small","aria-hidden":!0}):null},pt=({icon:t,...n})=>{const s=typeof t=="string"?JD[t]||pN[t]||sf[t]:t;return s?e.jsx(s,{...n,fontSize:"small","aria-hidden":!0}):null},QD=()=>{const t=Ys(),n=c.useMemo(()=>ps(t.pathname),[t.pathname]),[s,r]=c.useState(()=>localStorage.getItem("sidebarCollapsed")==="true"),[a,l]=c.useState(()=>{const o=localStorage.getItem("navOpenGroups");return o?JSON.parse(o):{}});c.useEffect(()=>{localStorage.setItem("sidebarCollapsed",s)},[s]),c.useEffect(()=>{localStorage.setItem("navOpenGroups",JSON.stringify(a))},[a]),c.useEffect(()=>{const o=ZD(n);o.length>0&&l(d=>{const m={...d};return o.forEach(p=>{m[p]=!0}),m})},[n]);const i=o=>{l(d=>{const m={...d};return m[o]=!m[o],m})};return e.jsxs("aside",{className:`sidebar ${s?"collapsed":""}`,id:"sidebar",children:[e.jsxs("div",{className:"sidebar-header",children:[e.jsxs("div",{className:"sidebar-logo",children:[e.jsx("div",{className:"sidebar-logo-icon",children:"T"}),e.jsx("div",{className:"sidebar-logo-text",children:" Takip Paneli"})]}),e.jsx("button",{className:"sidebar-toggle",id:"sidebarToggle",type:"button",onClick:()=>r(o=>!o),"aria-label":"Kenar ubuunu klt",children:e.jsx("span",{className:"nav-link-icon",children:e.jsx(us,{name:"menu"})})})]}),e.jsx("nav",{className:"sidebar-nav",children:Qh.map(o=>e.jsxs("div",{className:"nav-section",children:[e.jsx("div",{className:"nav-section-title",children:o.section}),o.items.map(d=>d.collapsible?e.jsx(fN,{item:d,openGroups:a,activePath:n,onToggle:i,level:1},d.path):e.jsx(XD,{item:d,isActive:n===ps(d.path)},d.path))]},o.section))})]})},hN=(t,n)=>t?e.jsx("span",{className:n,children:e.jsx(pp,{name:t})}):null,XD=({item:t,isActive:n})=>e.jsx("div",{className:"nav-item",children:e.jsxs(al,{to:t.path,className:`nav-link ${n?"active":""}`,"aria-current":n?"page":void 0,children:[hN(t.icon,"nav-link-icon"),e.jsx("span",{className:"nav-link-text",children:t.label})]})}),fN=({item:t,openGroups:n,activePath:s,onToggle:r,level:a=1})=>{var p;const l=ps(t.path)===s,i=gN(t,s),m=n[t.path]!==void 0?n[t.path]:i||l;return e.jsxs("div",{className:`nav-collapsible ${m?"open":""}`,style:{marginLeft:a>1?8:0},children:[e.jsxs("button",{type:"button",className:`nav-collapsible-trigger ${l?"active":""}`,onClick:()=>r(t.path),"aria-expanded":m,style:{paddingLeft:a>1?24:void 0},children:[t.icon?hN(t.icon,"nav-collapsible-icon"):e.jsx("span",{className:"nav-collapsible-icon",children:a>1?"":""}),e.jsx("span",{className:"nav-collapsible-text",children:t.label}),e.jsx("span",{className:"nav-collapsible-arrow",children:e.jsx(us,{name:"chevron_right",fontSize:"inherit"})})]}),m&&e.jsx("div",{className:"nav-collapsible-content",children:(p=t.children)==null?void 0:p.map(g=>{if(g.children&&g.children.length>0)return e.jsx(fN,{item:g,openGroups:n,activePath:s,onToggle:r,level:a+1},g.path);const h=ps(g.path)===s;return e.jsx("div",{className:"nav-item",children:e.jsxs(al,{to:g.path,className:`nav-link ${h?"active":""}`,"aria-current":h?"page":void 0,style:{paddingLeft:a>1?32:void 0},children:[e.jsx("span",{className:"nav-link-icon",children:a>1?"":""}),e.jsx("span",{className:"nav-link-text",children:g.label})]})},g.path)})})]})},gN=(t,n)=>{if(!t.children)return!1;for(const s of t.children)if(ps(s.path)===n||s.children&&gN(s,n))return!0;return!1},ZD=t=>{const n=ps(t),s=[];return Qh.forEach(r=>{r.items.forEach(a=>{a.children&&a.children.forEach(l=>{ps(l.path)===n&&s.push(a.path),l.children&&l.children.forEach(i=>{ps(i.path)===n&&(s.push(a.path),s.push(l.path))})})})}),s},eR=({title:t})=>{const n=vs(),{user:s,logout:r}=Jh(),[a,l]=c.useState(""),[i,o]=c.useState(!1),d=c.useRef(null);c.useEffect(()=>{const h=k=>{d.current&&!d.current.contains(k.target)&&o(!1)};return document.addEventListener("mousedown",h),()=>document.removeEventListener("mousedown",h)},[]);const m=async()=>{await r(),n("/login")},p=()=>{if(!(s!=null&&s.displayName))return"U";const h=s.displayName.split(" ");return h.length>=2?(h[0][0]+h[1][0]).toUpperCase():s.displayName.substring(0,2).toUpperCase()},g=h=>({admin:"Ynetici",manager:"Mdr",user:"Kullanc"})[h]||h||"Kullanc";return e.jsxs("header",{className:"topbar",children:[e.jsx("div",{className:"topbar-left",children:e.jsx("h1",{className:"topbar-title",children:t})}),e.jsxs("div",{className:"topbar-right",children:[e.jsxs("div",{className:"topbar-search",children:[e.jsx("span",{className:"topbar-search-icon",children:e.jsx(us,{name:"search"})}),e.jsx("input",{type:"search",placeholder:"Ara...",value:a,onChange:h=>l(h.target.value),"aria-label":"Uygulama ii arama"})]}),e.jsxs("div",{className:"topbar-user-wrapper",ref:d,children:[e.jsxs("button",{className:"topbar-user",type:"button",onClick:()=>o(!i),children:[e.jsx("div",{className:"topbar-user-avatar",children:p()}),e.jsxs("div",{className:"topbar-user-info",children:[e.jsx("div",{className:"topbar-user-name",children:(s==null?void 0:s.displayName)||"Kullanc"}),e.jsx("div",{className:"topbar-user-role",children:g(s==null?void 0:s.role)})]}),e.jsx("span",{className:"topbar-user-chevron",children:e.jsx(us,{name:i?"expand_less":"expand_more"})})]}),i&&e.jsxs("div",{className:"topbar-user-menu",children:[e.jsxs("div",{className:"topbar-user-menu-header",children:[e.jsx("span",{className:"topbar-user-menu-icon",children:e.jsx(us,{name:"person"})}),e.jsxs("div",{children:[e.jsx("div",{className:"topbar-user-menu-name",children:s==null?void 0:s.displayName}),e.jsxs("div",{className:"topbar-user-menu-username",children:["@",s==null?void 0:s.username]})]})]}),e.jsx("div",{className:"topbar-user-menu-divider"}),e.jsxs("button",{className:"topbar-user-menu-item",onClick:()=>{n("/aktiviteler"),o(!1)},children:[e.jsx(pp,{name:"monitoring"}),"Aktivite Loglar"]}),e.jsxs("button",{className:"topbar-user-menu-item",onClick:()=>{n("/ayarlar"),o(!1)},children:[e.jsx(pp,{name:"settings"}),"Ayarlar"]}),e.jsx("div",{className:"topbar-user-menu-divider"}),e.jsxs("button",{className:"topbar-user-menu-item danger",onClick:m,children:[e.jsx(us,{name:"logout"}),"k Yap"]})]})]})]})]})},tR=()=>{const t=Ys(),n=X4(t.pathname);return e.jsxs("div",{id:"app",children:[e.jsx(QD,{}),e.jsxs("div",{className:"main-content",children:[e.jsx(eR,{title:n}),e.jsx("main",{className:"page-content",children:e.jsx(Pz,{})})]})]})},kt=({size:t="medium",text:n,fullscreen:s=!1,overlay:r=!1})=>{const a={small:"loader-small",medium:"loader-medium",large:"loader-large"},l=e.jsxs("div",{className:`loader-spinner ${a[t]||a.medium}`,children:[e.jsxs("div",{className:"loader-ring",children:[e.jsx("div",{}),e.jsx("div",{}),e.jsx("div",{}),e.jsx("div",{})]}),n&&e.jsx("div",{className:"loader-text",children:n})]});return s?e.jsx("div",{className:"loader-fullscreen",children:l}):r?e.jsx("div",{className:"loader-overlay",children:l}):e.jsx("div",{className:"loader-container",children:l})},nR=({children:t,requiredRole:n,requiredPermission:s})=>{const{user:r,isAuthenticated:a,loading:l}=Jh(),i=Ys();if(l)return e.jsx("div",{className:"protected-loading",children:e.jsx(kt,{text:"Yetki kontrol ediliyor..."})});if(!a)return e.jsx(Qr,{to:"/login",state:{from:i},replace:!0});if(n){const o=Array.isArray(n)?n:[n];if(!o.includes(r==null?void 0:r.role))return e.jsx("div",{className:"access-denied",children:e.jsxs("div",{className:"access-denied-content",children:[e.jsx("span",{className:"access-denied-icon",children:""}),e.jsx("h2",{children:"Eriim Engellendi"}),e.jsx("p",{children:"Bu sayfay grntleme yetkiniz bulunmamaktadr."}),e.jsxs("p",{className:"access-denied-role",children:["Gerekli rol: ",o.join(" veya ")]})]})})}if(s){const o=(r==null?void 0:r.permissions)||[];if(!(Array.isArray(s)?s.some(m=>o.includes(m)):o.includes(s))&&(r==null?void 0:r.role)!=="admin")return e.jsx("div",{className:"access-denied",children:e.jsxs("div",{className:"access-denied-content",children:[e.jsx("span",{className:"access-denied-icon",children:""}),e.jsx("h2",{children:"Eriim Engellendi"}),e.jsx("p",{children:"Bu ilem iin gerekli izniniz bulunmamaktadr."})]})})}return t},sR=()=>{const t=vs(),n=Ys(),{login:s,isAuthenticated:r,loading:a}=Jh(),[l,i]=c.useState(""),[o,d]=c.useState(""),[m,p]=c.useState(""),[g,h]=c.useState(!1),[k,x]=c.useState(!1);c.useEffect(()=>{var N,f;if(r&&!a){const v=((f=(N=n.state)==null?void 0:N.from)==null?void 0:f.pathname)||"/dashboard";t(v,{replace:!0})}},[r,a,t,n]);const w=async N=>{var f,v;if(N.preventDefault(),p(""),!l.trim()){p("Kullanc ad gerekli");return}if(!o){p("ifre gerekli");return}h(!0);try{const b=await s(l.trim(),o);if(b.success){const y=((v=(f=n.state)==null?void 0:f.from)==null?void 0:v.pathname)||"/dashboard";t(y,{replace:!0})}else p(b.message||"Giri baarsz")}catch(b){p(b.message||"Bir hata olutu")}finally{h(!1)}};return a?e.jsx("div",{className:"login-page",children:e.jsx("div",{className:"login-loading",children:e.jsx(kt,{text:"Oturum kontrol ediliyor..."})})}):e.jsxs("div",{className:"login-page",children:[e.jsxs("div",{className:"login-container",children:[e.jsxs("div",{className:"login-header",children:[e.jsxs("div",{className:"login-logo",children:[e.jsx("span",{className:"login-logo-icon",children:""}),e.jsx("h1",{className:"login-title",children:"PVC Ynetim Sistemi"})]}),e.jsx("p",{className:"login-subtitle",children:" takip ve ynetim paneli"})]}),e.jsxs("form",{className:"login-form",onSubmit:w,children:[m&&e.jsxs("div",{className:"login-error",children:[e.jsx("span",{className:"login-error-icon",children:""}),e.jsx("span",{children:m})]}),e.jsxs("div",{className:"login-field",children:[e.jsxs("label",{htmlFor:"username",className:"login-label",children:[e.jsx("span",{className:"login-label-icon",children:""}),"Kullanc Ad"]}),e.jsx("input",{id:"username",type:"text",className:"login-input","data-testid":"input-username",value:l,onChange:N=>i(N.target.value),placeholder:"Kullanc adnz girin",autoComplete:"username",autoFocus:!0,disabled:g})]}),e.jsxs("div",{className:"login-field",children:[e.jsxs("label",{htmlFor:"password",className:"login-label",children:[e.jsx("span",{className:"login-label-icon",children:""}),"ifre"]}),e.jsxs("div",{className:"login-password-wrapper",children:[e.jsx("input",{id:"password",type:k?"text":"password",className:"login-input","data-testid":"input-password",value:o,onChange:N=>d(N.target.value),placeholder:"ifrenizi girin",autoComplete:"current-password",disabled:g}),e.jsx("button",{type:"button",className:"login-password-toggle",onClick:()=>x(!k),tabIndex:-1,children:k?"":""})]})]}),e.jsx("button",{type:"submit",className:"login-submit",disabled:g,"data-testid":"btn-login",children:g?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"login-spinner"}),"Giri yaplyor..."]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{children:""}),"Giri Yap"]})})]}),e.jsx("div",{className:"login-footer",children:e.jsx("p",{children:"Varsaylan: admin / admin"})})]}),e.jsxs("div",{className:"login-bg-decoration",children:[e.jsx("div",{className:"login-bg-shape login-bg-shape-1"}),e.jsx("div",{className:"login-bg-shape login-bg-shape-2"}),e.jsx("div",{className:"login-bg-shape login-bg-shape-3"})]})]})},gt=({value:t,onChange:n,className:s="form-input",placeholder:r="GG.AA.YYYY",min:a,max:l,disabled:i=!1,id:o,name:d,style:m={},...p})=>{const[g,h]=c.useState(""),k=c.useRef(null);c.useEffect(()=>{if(t)try{const f=new Date(t);if(!isNaN(f.getTime())){const v=String(f.getDate()).padStart(2,"0"),b=String(f.getMonth()+1).padStart(2,"0"),y=f.getFullYear();h(`${v}.${b}.${y}`)}}catch{h("")}else h("")},[t]);const x=f=>{let v=f.target.value.replace(/[^\d.]/g,"");const b=v.replace(/\./g,"");if(b.length>=2&&b.length<4?v=b.substring(0,2)+"."+b.substring(2):b.length>=4&&(v=b.substring(0,2)+"."+b.substring(2,4)+"."+b.substring(4)),v.length>10&&(v=v.substring(0,10)),h(v),v.length===10){const y=v.split(".");if(y.length===3){const S=parseInt(y[0],10),j=parseInt(y[1],10)-1,z=parseInt(y[2],10),P=new Date(z,j,S);if(!isNaN(P.getTime())&&P.getDate()===S&&P.getMonth()===j){const $=P.toISOString().split("T")[0];n($)}}}else v===""&&n("")},w=f=>{const v=f.target.value;v&&n(v)},N=()=>{!i&&k.current&&(k.current.showPicker?k.current.showPicker():(k.current.focus(),k.current.click()))};return e.jsxs("div",{style:{position:"relative",display:"flex",alignItems:"center",...m},children:[e.jsx("input",{type:"text",className:s,placeholder:r,value:g,onChange:x,maxLength:10,disabled:i,id:o,name:d,style:{flex:1,paddingRight:32},...p}),e.jsx("input",{ref:k,type:"date",value:t||"",onChange:w,min:a,max:l,disabled:i,style:{position:"absolute",right:8,width:24,height:24,opacity:0,cursor:i?"not-allowed":"pointer"},title:"Takvimden se"}),e.jsx("span",{onClick:N,style:{position:"absolute",right:8,fontSize:16,cursor:i?"not-allowed":"pointer",opacity:i?.5:.7,pointerEvents:"none"},children:""})]})},qe=({open:t,isOpen:n,title:s,children:r,actions:a,onClose:l,size:i="medium"})=>t||n?e.jsx("div",{className:"modal-backdrop",role:"dialog","aria-modal":"true","aria-label":typeof s=="string"?s:"Dialog",children:e.jsxs("div",{className:`modal modal-${i}`,onClick:d=>d.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h3",{className:"modal-title",children:s}),e.jsx("button",{className:"modal-close",type:"button",onClick:l,"aria-label":"Kapat",children:""})]}),e.jsx("div",{className:"modal-body",children:r}),a?e.jsx("div",{className:"modal-footer",children:a}):null]})}):null,it=({title:t,subtitle:n,actions:s})=>e.jsxs("div",{className:"page-header",children:[e.jsxs("div",{className:"page-header-top",children:[e.jsx("h2",{className:"page-title",children:t}),s?e.jsx("div",{className:"page-actions",children:s}):null]}),n?e.jsx("p",{className:"page-subtitle",children:n}):null]});function yN(t,n){if(t==null)return{};var s={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(n.indexOf(r)!==-1)continue;s[r]=t[r]}return s}function hp(t,n){return hp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,r){return s.__proto__=r,s},hp(t,n)}function xN(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,hp(t,n)}const wj={disabled:!1},Pc=Cs.createContext(null);var rR=function(n){return n.scrollTop},ti="unmounted",Xr="exited",Zr="entering",Oa="entered",fp="exiting",Js=function(t){xN(n,t);function n(r,a){var l;l=t.call(this,r,a)||this;var i=a,o=i&&!i.isMounting?r.enter:r.appear,d;return l.appearStatus=null,r.in?o?(d=Xr,l.appearStatus=Zr):d=Oa:r.unmountOnExit||r.mountOnEnter?d=ti:d=Xr,l.state={status:d},l.nextCallback=null,l}n.getDerivedStateFromProps=function(a,l){var i=a.in;return i&&l.status===ti?{status:Xr}:null};var s=n.prototype;return s.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},s.componentDidUpdate=function(a){var l=null;if(a!==this.props){var i=this.state.status;this.props.in?i!==Zr&&i!==Oa&&(l=Zr):(i===Zr||i===Oa)&&(l=fp)}this.updateStatus(!1,l)},s.componentWillUnmount=function(){this.cancelNextCallback()},s.getTimeouts=function(){var a=this.props.timeout,l,i,o;return l=i=o=a,a!=null&&typeof a!="number"&&(l=a.exit,i=a.enter,o=a.appear!==void 0?a.appear:i),{exit:l,enter:i,appear:o}},s.updateStatus=function(a,l){if(a===void 0&&(a=!1),l!==null)if(this.cancelNextCallback(),l===Zr){if(this.props.unmountOnExit||this.props.mountOnEnter){var i=this.props.nodeRef?this.props.nodeRef.current:jo.findDOMNode(this);i&&rR(i)}this.performEnter(a)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Xr&&this.setState({status:ti})},s.performEnter=function(a){var l=this,i=this.props.enter,o=this.context?this.context.isMounting:a,d=this.props.nodeRef?[o]:[jo.findDOMNode(this),o],m=d[0],p=d[1],g=this.getTimeouts(),h=o?g.appear:g.enter;if(!a&&!i||wj.disabled){this.safeSetState({status:Oa},function(){l.props.onEntered(m)});return}this.props.onEnter(m,p),this.safeSetState({status:Zr},function(){l.props.onEntering(m,p),l.onTransitionEnd(h,function(){l.safeSetState({status:Oa},function(){l.props.onEntered(m,p)})})})},s.performExit=function(){var a=this,l=this.props.exit,i=this.getTimeouts(),o=this.props.nodeRef?void 0:jo.findDOMNode(this);if(!l||wj.disabled){this.safeSetState({status:Xr},function(){a.props.onExited(o)});return}this.props.onExit(o),this.safeSetState({status:fp},function(){a.props.onExiting(o),a.onTransitionEnd(i.exit,function(){a.safeSetState({status:Xr},function(){a.props.onExited(o)})})})},s.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},s.safeSetState=function(a,l){l=this.setNextCallback(l),this.setState(a,l)},s.setNextCallback=function(a){var l=this,i=!0;return this.nextCallback=function(o){i&&(i=!1,l.nextCallback=null,a(o))},this.nextCallback.cancel=function(){i=!1},this.nextCallback},s.onTransitionEnd=function(a,l){this.setNextCallback(l);var i=this.props.nodeRef?this.props.nodeRef.current:jo.findDOMNode(this),o=a==null&&!this.props.addEndListener;if(!i||o){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var d=this.props.nodeRef?[this.nextCallback]:[i,this.nextCallback],m=d[0],p=d[1];this.props.addEndListener(m,p)}a!=null&&setTimeout(this.nextCallback,a)},s.render=function(){var a=this.state.status;if(a===ti)return null;var l=this.props,i=l.children;l.in,l.mountOnEnter,l.unmountOnExit,l.appear,l.enter,l.exit,l.timeout,l.addEndListener,l.onEnter,l.onEntering,l.onEntered,l.onExit,l.onExiting,l.onExited,l.nodeRef;var o=yN(l,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Cs.createElement(Pc.Provider,{value:null},typeof i=="function"?i(a,o):Cs.cloneElement(Cs.Children.only(i),o))},n}(Cs.Component);Js.contextType=Pc;Js.propTypes={};function Ea(){}Js.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ea,onEntering:Ea,onEntered:Ea,onExit:Ea,onExiting:Ea,onExited:Ea};Js.UNMOUNTED=ti;Js.EXITED=Xr;Js.ENTERING=Zr;Js.ENTERED=Oa;Js.EXITING=fp;function aR(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rf(t,n){var s=function(l){return n&&c.isValidElement(l)?n(l):l},r=Object.create(null);return t&&c.Children.map(t,function(a){return a}).forEach(function(a){r[a.key]=s(a)}),r}function lR(t,n){t=t||{},n=n||{};function s(p){return p in n?n[p]:t[p]}var r=Object.create(null),a=[];for(var l in t)l in n?a.length&&(r[l]=a,a=[]):a.push(l);var i,o={};for(var d in n){if(r[d])for(i=0;i<r[d].length;i++){var m=r[d][i];o[r[d][i]]=s(m)}o[d]=s(d)}for(i=0;i<a.length;i++)o[a[i]]=s(a[i]);return o}function ia(t,n,s){return s[n]!=null?s[n]:t.props[n]}function iR(t,n){return rf(t.children,function(s){return c.cloneElement(s,{onExited:n.bind(null,s),in:!0,appear:ia(s,"appear",t),enter:ia(s,"enter",t),exit:ia(s,"exit",t)})})}function oR(t,n,s){var r=rf(t.children),a=lR(n,r);return Object.keys(a).forEach(function(l){var i=a[l];if(c.isValidElement(i)){var o=l in n,d=l in r,m=n[l],p=c.isValidElement(m)&&!m.props.in;d&&(!o||p)?a[l]=c.cloneElement(i,{onExited:s.bind(null,i),in:!0,exit:ia(i,"exit",t),enter:ia(i,"enter",t)}):!d&&o&&!p?a[l]=c.cloneElement(i,{in:!1}):d&&o&&c.isValidElement(m)&&(a[l]=c.cloneElement(i,{onExited:s.bind(null,i),in:m.props.in,exit:ia(i,"exit",t),enter:ia(i,"enter",t)}))}}),a}var cR=Object.values||function(t){return Object.keys(t).map(function(n){return t[n]})},dR={component:"div",childFactory:function(n){return n}},af=function(t){xN(n,t);function n(r,a){var l;l=t.call(this,r,a)||this;var i=l.handleExited.bind(aR(l));return l.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},l}var s=n.prototype;return s.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},s.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(a,l){var i=l.children,o=l.handleExited,d=l.firstRender;return{children:d?iR(a,o):oR(a,i,o),firstRender:!1}},s.handleExited=function(a,l){var i=rf(this.props.children);a.key in i||(a.props.onExited&&a.props.onExited(l),this.mounted&&this.setState(function(o){var d=Dc({},o.children);return delete d[a.key],{children:d}}))},s.render=function(){var a=this.props,l=a.component,i=a.childFactory,o=yN(a,["component","childFactory"]),d=this.state.contextValue,m=cR(this.state.children).map(i);return delete o.appear,delete o.enter,delete o.exit,l===null?Cs.createElement(Pc.Provider,{value:d},m):Cs.createElement(Pc.Provider,{value:d},Cs.createElement(l,o,m))},n}(Cs.Component);af.propTypes={};af.defaultProps=dR;const Tj={};function vN(t,n){const s=c.useRef(Tj);return s.current===Tj&&(s.current=t(n)),s}const uR=[];function mR(t){c.useEffect(t,uR)}class lf{constructor(){Dl(this,"currentId",null);Dl(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});Dl(this,"disposeEffect",()=>this.clear)}static create(){return new lf}start(n,s){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,s()},n)}}function jN(){const t=vN(lf.create).current;return mR(t.disposeEffect),t}const bN=t=>t.scrollTop;function Lc(t,n){const{timeout:s,easing:r,style:a={}}=t;return{duration:a.transitionDuration??(typeof s=="number"?s:s[n.mode]||0),easing:a.transitionTimingFunction??(typeof r=="object"?r[n.mode]:r),delay:a.transitionDelay}}function Bc(t){return typeof t=="string"}function SN(t,n,s){return t===void 0||Bc(t)?n:{...n,ownerState:{...n.ownerState,...s}}}function NN(t,n,s){return typeof t=="function"?t(n,s):t}function kN(t,n=[]){if(t===void 0)return{};const s={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!n.includes(r)).forEach(r=>{s[r]=t[r]}),s}function zj(t){if(t===void 0)return{};const n={};return Object.keys(t).filter(s=>!(s.match(/^on[A-Z]/)&&typeof t[s]=="function")).forEach(s=>{n[s]=t[s]}),n}function CN(t){const{getSlotProps:n,additionalProps:s,externalSlotProps:r,externalForwardedProps:a,className:l}=t;if(!n){const k=ht(s==null?void 0:s.className,l,a==null?void 0:a.className,r==null?void 0:r.className),x={...s==null?void 0:s.style,...a==null?void 0:a.style,...r==null?void 0:r.style},w={...s,...a,...r};return k.length>0&&(w.className=k),Object.keys(x).length>0&&(w.style=x),{props:w,internalRef:void 0}}const i=kN({...a,...r}),o=zj(r),d=zj(a),m=n(i),p=ht(m==null?void 0:m.className,s==null?void 0:s.className,l,a==null?void 0:a.className,r==null?void 0:r.className),g={...m==null?void 0:m.style,...s==null?void 0:s.style,...a==null?void 0:a.style,...r==null?void 0:r.style},h={...m,...s,...d,...o};return p.length>0&&(h.className=p),Object.keys(g).length>0&&(h.style=g),{props:h,internalRef:m.ref}}function Vs(t,n){const{className:s,elementType:r,ownerState:a,externalForwardedProps:l,internalForwardedProps:i,shouldForwardComponentProp:o=!1,...d}=n,{component:m,slots:p={[t]:void 0},slotProps:g={[t]:void 0},...h}=l,k=p[t]||r,x=NN(g[t],a),{props:{component:w,...N},internalRef:f}=CN({className:s,...d,externalForwardedProps:t==="root"?h:void 0,externalSlotProps:x}),v=In(f,x==null?void 0:x.ref,n.ref),b=t==="root"?w||m:w,y=SN(k,{...t==="root"&&!m&&!p[t]&&i,...t!=="root"&&!p[t]&&i,...N,...b&&!o&&{as:b},...b&&o&&{component:b},ref:v},a);return[k,y]}function pR(t){return tn("MuiPaper",t)}Yt("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const hR=t=>{const{square:n,elevation:s,variant:r,classes:a}=t,l={root:["root",r,!n&&"rounded",r==="elevation"&&`elevation${s}`]};return nn(l,pR,a)},fR=at("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,n)=>{const{ownerState:s}=t;return[n.root,n[s.variant],!s.square&&n.rounded,s.variant==="elevation"&&n[`elevation${s.elevation}`]]}})(bn(({theme:t})=>({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow"),variants:[{props:({ownerState:n})=>!n.square,style:{borderRadius:t.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(t.vars||t).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),gR=c.forwardRef(function(n,s){var k;const r=dn({props:n,name:"MuiPaper"}),a=Fh(),{className:l,component:i="div",elevation:o=1,square:d=!1,variant:m="elevation",...p}=r,g={...r,component:i,elevation:o,square:d,variant:m},h=hR(g);return e.jsx(fR,{as:i,ownerState:g,className:ht(h.root,l),ref:s,...p,style:{...m==="elevation"&&{"--Paper-shadow":(a.vars||a).shadows[o],...a.vars&&{"--Paper-overlay":(k=a.vars.overlays)==null?void 0:k[o]},...!a.vars&&a.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${Ec("#fff",ep(o))}, ${Ec("#fff",ep(o))})`}},...p.style}})});function Dj(t){try{return t.matches(":focus-visible")}catch{}return!1}class Oc{constructor(){Dl(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new Oc}static use(){const n=vN(Oc.create).current,[s,r]=c.useState(!1);return n.shouldMount=s,n.setShouldMount=r,c.useEffect(n.mountEffect,[s]),n}mount(){return this.mounted||(this.mounted=xR(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...n){this.mount().then(()=>{var s;return(s=this.ref.current)==null?void 0:s.start(...n)})}stop(...n){this.mount().then(()=>{var s;return(s=this.ref.current)==null?void 0:s.stop(...n)})}pulsate(...n){this.mount().then(()=>{var s;return(s=this.ref.current)==null?void 0:s.pulsate(...n)})}}function yR(){return Oc.use()}function xR(){let t,n;const s=new Promise((r,a)=>{t=r,n=a});return s.resolve=t,s.reject=n,s}function vR(t){const{className:n,classes:s,pulsate:r=!1,rippleX:a,rippleY:l,rippleSize:i,in:o,onExited:d,timeout:m}=t,[p,g]=c.useState(!1),h=ht(n,s.ripple,s.rippleVisible,r&&s.ripplePulsate),k={width:i,height:i,top:-(i/2)+l,left:-(i/2)+a},x=ht(s.child,p&&s.childLeaving,r&&s.childPulsate);return!o&&!p&&g(!0),c.useEffect(()=>{if(!o&&d!=null){const w=setTimeout(d,m);return()=>{clearTimeout(w)}}},[d,o,m]),e.jsx("span",{className:h,style:k,children:e.jsx("span",{className:x})})}const is=Yt("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),gp=550,jR=80,bR=Ch`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,SR=Ch`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,NR=Ch`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,kR=at("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),CR=at(vR,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${is.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${bR};
    animation-duration: ${gp}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  &.${is.ripplePulsate} {
    animation-duration: ${({theme:t})=>t.transitions.duration.shorter}ms;
  }

  & .${is.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${is.childLeaving} {
    opacity: 0;
    animation-name: ${SR};
    animation-duration: ${gp}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  & .${is.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${NR};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,wR=c.forwardRef(function(n,s){const r=dn({props:n,name:"MuiTouchRipple"}),{center:a=!1,classes:l={},className:i,...o}=r,[d,m]=c.useState([]),p=c.useRef(0),g=c.useRef(null);c.useEffect(()=>{g.current&&(g.current(),g.current=null)},[d]);const h=c.useRef(!1),k=jN(),x=c.useRef(null),w=c.useRef(null),N=c.useCallback(y=>{const{pulsate:S,rippleX:j,rippleY:z,rippleSize:P,cb:$}=y;m(B=>[...B,e.jsx(CR,{classes:{ripple:ht(l.ripple,is.ripple),rippleVisible:ht(l.rippleVisible,is.rippleVisible),ripplePulsate:ht(l.ripplePulsate,is.ripplePulsate),child:ht(l.child,is.child),childLeaving:ht(l.childLeaving,is.childLeaving),childPulsate:ht(l.childPulsate,is.childPulsate)},timeout:gp,pulsate:S,rippleX:j,rippleY:z,rippleSize:P},p.current)]),p.current+=1,g.current=$},[l]),f=c.useCallback((y={},S={},j=()=>{})=>{const{pulsate:z=!1,center:P=a||S.pulsate,fakeElement:$=!1}=S;if((y==null?void 0:y.type)==="mousedown"&&h.current){h.current=!1;return}(y==null?void 0:y.type)==="touchstart"&&(h.current=!0);const B=$?null:w.current,q=B?B.getBoundingClientRect():{width:0,height:0,left:0,top:0};let C,Z,A;if(P||y===void 0||y.clientX===0&&y.clientY===0||!y.clientX&&!y.touches)C=Math.round(q.width/2),Z=Math.round(q.height/2);else{const{clientX:O,clientY:_}=y.touches&&y.touches.length>0?y.touches[0]:y;C=Math.round(O-q.left),Z=Math.round(_-q.top)}if(P)A=Math.sqrt((2*q.width**2+q.height**2)/3),A%2===0&&(A+=1);else{const O=Math.max(Math.abs((B?B.clientWidth:0)-C),C)*2+2,_=Math.max(Math.abs((B?B.clientHeight:0)-Z),Z)*2+2;A=Math.sqrt(O**2+_**2)}y!=null&&y.touches?x.current===null&&(x.current=()=>{N({pulsate:z,rippleX:C,rippleY:Z,rippleSize:A,cb:j})},k.start(jR,()=>{x.current&&(x.current(),x.current=null)})):N({pulsate:z,rippleX:C,rippleY:Z,rippleSize:A,cb:j})},[a,N,k]),v=c.useCallback(()=>{f({},{pulsate:!0})},[f]),b=c.useCallback((y,S)=>{if(k.clear(),(y==null?void 0:y.type)==="touchend"&&x.current){x.current(),x.current=null,k.start(0,()=>{b(y,S)});return}x.current=null,m(j=>j.length>0?j.slice(1):j),g.current=S},[k]);return c.useImperativeHandle(s,()=>({pulsate:v,start:f,stop:b}),[v,f,b]),e.jsx(kR,{className:ht(is.root,l.root,i),ref:w,...o,children:e.jsx(af,{component:null,exit:!0,children:d})})});function TR(t){return tn("MuiButtonBase",t)}const zR=Yt("MuiButtonBase",["root","disabled","focusVisible"]),DR=t=>{const{disabled:n,focusVisible:s,focusVisibleClassName:r,classes:a}=t,i=nn({root:["root",n&&"disabled",s&&"focusVisible"]},TR,a);return s&&r&&(i.root+=` ${r}`),i},RR=at("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${zR.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),AR=c.forwardRef(function(n,s){const r=dn({props:n,name:"MuiButtonBase"}),{action:a,centerRipple:l=!1,children:i,className:o,component:d="button",disabled:m=!1,disableRipple:p=!1,disableTouchRipple:g=!1,focusRipple:h=!1,focusVisibleClassName:k,LinkComponent:x="a",onBlur:w,onClick:N,onContextMenu:f,onDragLeave:v,onFocus:b,onFocusVisible:y,onKeyDown:S,onKeyUp:j,onMouseDown:z,onMouseLeave:P,onMouseUp:$,onTouchEnd:B,onTouchMove:q,onTouchStart:C,tabIndex:Z=0,TouchRippleProps:A,touchRippleRef:O,type:_,...fe}=r,Q=c.useRef(null),le=yR(),ye=In(le.ref,O),[E,D]=c.useState(!1);m&&E&&D(!1),c.useImperativeHandle(a,()=>({focusVisible:()=>{D(!0),Q.current.focus()}}),[]);const G=le.shouldMount&&!p&&!m;c.useEffect(()=>{E&&h&&!p&&le.pulsate()},[p,h,E,le]);const U=Xs(le,"start",z,g),H=Xs(le,"stop",f,g),oe=Xs(le,"stop",v,g),te=Xs(le,"stop",$,g),F=Xs(le,"stop",I=>{E&&I.preventDefault(),P&&P(I)},g),J=Xs(le,"start",C,g),xe=Xs(le,"stop",B,g),ie=Xs(le,"stop",q,g),L=Xs(le,"stop",I=>{Dj(I.target)||D(!1),w&&w(I)},!1),ne=da(I=>{Q.current||(Q.current=I.currentTarget),Dj(I.target)&&(D(!0),y&&y(I)),b&&b(I)}),he=()=>{const I=Q.current;return d&&d!=="button"&&!(I.tagName==="A"&&I.href)},M=da(I=>{h&&!I.repeat&&E&&I.key===" "&&le.stop(I,()=>{le.start(I)}),I.target===I.currentTarget&&he()&&I.key===" "&&I.preventDefault(),S&&S(I),I.target===I.currentTarget&&he()&&I.key==="Enter"&&!m&&(I.preventDefault(),N&&N(I))}),re=da(I=>{h&&I.key===" "&&E&&!I.defaultPrevented&&le.stop(I,()=>{le.pulsate(I)}),j&&j(I),N&&I.target===I.currentTarget&&he()&&I.key===" "&&!I.defaultPrevented&&N(I)});let ke=d;ke==="button"&&(fe.href||fe.to)&&(ke=x);const be={};if(ke==="button"){const I=!!fe.formAction;be.type=_===void 0&&!I?"button":_,be.disabled=m}else!fe.href&&!fe.to&&(be.role="button"),m&&(be["aria-disabled"]=m);const we=In(s,Q),W={...r,centerRipple:l,component:d,disabled:m,disableRipple:p,disableTouchRipple:g,focusRipple:h,tabIndex:Z,focusVisible:E},V=DR(W);return e.jsxs(RR,{as:ke,className:ht(V.root,o),ownerState:W,onBlur:L,onClick:N,onContextMenu:H,onFocus:ne,onKeyDown:M,onKeyUp:re,onMouseDown:U,onMouseLeave:F,onMouseUp:te,onDragLeave:oe,onTouchEnd:xe,onTouchMove:ie,onTouchStart:J,ref:we,tabIndex:m?-1:Z,type:_,...be,...fe,children:[i,G?e.jsx(wR,{ref:ye,center:l,...A}):null]})});function Xs(t,n,s,r=!1){return da(a=>(s&&s(a),r||t[n](a),!0))}function ER(t){return typeof t.main=="string"}function IR(t,n=[]){if(!ER(t))return!1;for(const s of n)if(!t.hasOwnProperty(s)||typeof t[s]!="string")return!1;return!0}function Fd(t=[]){return([,n])=>n&&IR(n,t)}function MR(t){var g;const{elementType:n,externalSlotProps:s,ownerState:r,skipResolvingSlotProps:a=!1,...l}=t,i=a?{}:NN(s,r),{props:o,internalRef:d}=CN({...l,externalSlotProps:i}),m=In(d,i==null?void 0:i.ref,(g=t.additionalProps)==null?void 0:g.ref);return SN(n,{...o,ref:m},r)}function Qi(t){var n;return parseInt(c.version,10)>=19?((n=t==null?void 0:t.props)==null?void 0:n.ref)||null:(t==null?void 0:t.ref)||null}function PR(t){return typeof t=="function"?t():t}const LR=c.forwardRef(function(n,s){const{children:r,container:a,disablePortal:l=!1}=n,[i,o]=c.useState(null),d=In(c.isValidElement(r)?Qi(r):null,s);if(qs(()=>{l||o(PR(a)||document.body)},[a,l]),qs(()=>{if(i&&!l)return jj(s,i),()=>{jj(s,null)}},[s,i,l]),l){if(c.isValidElement(r)){const m={ref:d};return c.cloneElement(r,m)}return r}return i&&hh.createPortal(r,i)});function wo(t){return parseInt(t,10)||0}const BR={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function OR(t){for(const n in t)return!1;return!0}function Rj(t){return OR(t)||t.outerHeightStyle===0&&!t.overflowing}const $R=c.forwardRef(function(n,s){const{onChange:r,maxRows:a,minRows:l=1,style:i,value:o,...d}=n,{current:m}=c.useRef(o!=null),p=c.useRef(null),g=In(s,p),h=c.useRef(null),k=c.useRef(null),x=c.useCallback(()=>{const b=p.current,y=k.current;if(!b||!y)return;const j=pr(b).getComputedStyle(b);if(j.width==="0px")return{outerHeightStyle:0,overflowing:!1};y.style.width=j.width,y.value=b.value||n.placeholder||"x",y.value.slice(-1)===`
`&&(y.value+=" ");const z=j.boxSizing,P=wo(j.paddingBottom)+wo(j.paddingTop),$=wo(j.borderBottomWidth)+wo(j.borderTopWidth),B=y.scrollHeight;y.value="x";const q=y.scrollHeight;let C=B;l&&(C=Math.max(Number(l)*q,C)),a&&(C=Math.min(Number(a)*q,C)),C=Math.max(C,q);const Z=C+(z==="border-box"?P+$:0),A=Math.abs(C-B)<=1;return{outerHeightStyle:Z,overflowing:A}},[a,l,n.placeholder]),w=da(()=>{const b=p.current,y=x();if(!b||!y||Rj(y))return!1;const S=y.outerHeightStyle;return h.current!=null&&h.current!==S}),N=c.useCallback(()=>{const b=p.current,y=x();if(!b||!y||Rj(y))return;const S=y.outerHeightStyle;h.current!==S&&(h.current=S,b.style.height=`${S}px`),b.style.overflow=y.overflowing?"hidden":""},[x]),f=c.useRef(-1);qs(()=>{const b=YS(N),y=p==null?void 0:p.current;if(!y)return;const S=pr(y);S.addEventListener("resize",b);let j;return typeof ResizeObserver<"u"&&(j=new ResizeObserver(()=>{w()&&(j.unobserve(y),cancelAnimationFrame(f.current),N(),f.current=requestAnimationFrame(()=>{j.observe(y)}))}),j.observe(y)),()=>{b.clear(),cancelAnimationFrame(f.current),S.removeEventListener("resize",b),j&&j.disconnect()}},[x,N,w]),qs(()=>{N()});const v=b=>{m||N();const y=b.target,S=y.value.length,j=y.value.endsWith(`
`),z=y.selectionStart===S;j&&z&&y.setSelectionRange(S,S),r&&r(b)};return e.jsxs(c.Fragment,{children:[e.jsx("textarea",{value:o,onChange:v,ref:g,rows:l,style:i,...d}),e.jsx("textarea",{"aria-hidden":!0,className:n.className,readOnly:!0,ref:k,tabIndex:-1,style:{...BR.shadow,...i,paddingTop:0,paddingBottom:0}})]})});function Xi({props:t,states:n,muiFormControl:s}){return n.reduce((r,a)=>(r[a]=t[a],s&&typeof t[a]>"u"&&(r[a]=s[a]),r),{})}const of=c.createContext(void 0);function Zi(){return c.useContext(of)}function Aj(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function $c(t,n=!1){return t&&(Aj(t.value)&&t.value!==""||n&&Aj(t.defaultValue)&&t.defaultValue!=="")}function _R(t){return t.startAdornment}function FR(t){return tn("MuiInputBase",t)}const hl=Yt("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var Ej;const Wd=(t,n)=>{const{ownerState:s}=t;return[n.root,s.formControl&&n.formControl,s.startAdornment&&n.adornedStart,s.endAdornment&&n.adornedEnd,s.error&&n.error,s.size==="small"&&n.sizeSmall,s.multiline&&n.multiline,s.color&&n[`color${hn(s.color)}`],s.fullWidth&&n.fullWidth,s.hiddenLabel&&n.hiddenLabel]},Ud=(t,n)=>{const{ownerState:s}=t;return[n.input,s.size==="small"&&n.inputSizeSmall,s.multiline&&n.inputMultiline,s.type==="search"&&n.inputTypeSearch,s.startAdornment&&n.inputAdornedStart,s.endAdornment&&n.inputAdornedEnd,s.hiddenLabel&&n.inputHiddenLabel]},WR=t=>{const{classes:n,color:s,disabled:r,error:a,endAdornment:l,focused:i,formControl:o,fullWidth:d,hiddenLabel:m,multiline:p,readOnly:g,size:h,startAdornment:k,type:x}=t,w={root:["root",`color${hn(s)}`,r&&"disabled",a&&"error",d&&"fullWidth",i&&"focused",o&&"formControl",h&&h!=="medium"&&`size${hn(h)}`,p&&"multiline",k&&"adornedStart",l&&"adornedEnd",m&&"hiddenLabel",g&&"readOnly"],input:["input",r&&"disabled",x==="search"&&"inputTypeSearch",p&&"inputMultiline",h==="small"&&"inputSizeSmall",m&&"inputHiddenLabel",k&&"inputAdornedStart",l&&"inputAdornedEnd",g&&"readOnly"]};return nn(w,FR,n)},Kd=at("div",{name:"MuiInputBase",slot:"Root",overridesResolver:Wd})(bn(({theme:t})=>({...t.typography.body1,color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${hl.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:n})=>n.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:n,size:s})=>n.multiline&&s==="small",style:{paddingTop:1}},{props:({ownerState:n})=>n.fullWidth,style:{width:"100%"}}]}))),Hd=at("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Ud})(bn(({theme:t})=>{const n=t.palette.mode==="light",s={color:"currentColor",...t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})},r={opacity:"0 !important"},a=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":s,"&::-moz-placeholder":s,"&::-ms-input-placeholder":s,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${hl.formControl} &`]:{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":a,"&:focus::-moz-placeholder":a,"&:focus::-ms-input-placeholder":a},[`&.${hl.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},variants:[{props:({ownerState:l})=>!l.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:l})=>l.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),Ij=eD({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),cf=c.forwardRef(function(n,s){const r=dn({props:n,name:"MuiInputBase"}),{"aria-describedby":a,autoComplete:l,autoFocus:i,className:o,color:d,components:m={},componentsProps:p={},defaultValue:g,disabled:h,disableInjectingGlobalStyles:k,endAdornment:x,error:w,fullWidth:N=!1,id:f,inputComponent:v="input",inputProps:b={},inputRef:y,margin:S,maxRows:j,minRows:z,multiline:P=!1,name:$,onBlur:B,onChange:q,onClick:C,onFocus:Z,onKeyDown:A,onKeyUp:O,placeholder:_,readOnly:fe,renderSuffix:Q,rows:le,size:ye,slotProps:E={},slots:D={},startAdornment:G,type:U="text",value:H,...oe}=r,te=b.value!=null?b.value:H,{current:F}=c.useRef(te!=null),J=c.useRef(),xe=c.useCallback(Ue=>{},[]),ie=In(J,y,b.ref,xe),[L,ne]=c.useState(!1),he=Zi(),M=Xi({props:r,muiFormControl:he,states:["color","disabled","error","hiddenLabel","size","required","filled"]});M.focused=he?he.focused:L,c.useEffect(()=>{!he&&h&&L&&(ne(!1),B&&B())},[he,h,L,B]);const re=he&&he.onFilled,ke=he&&he.onEmpty,be=c.useCallback(Ue=>{$c(Ue)?re&&re():ke&&ke()},[re,ke]);qs(()=>{F&&be({value:te})},[te,be,F]);const we=Ue=>{Z&&Z(Ue),b.onFocus&&b.onFocus(Ue),he&&he.onFocus?he.onFocus(Ue):ne(!0)},W=Ue=>{B&&B(Ue),b.onBlur&&b.onBlur(Ue),he&&he.onBlur?he.onBlur(Ue):ne(!1)},V=(Ue,...K)=>{if(!F){const je=Ue.target||J.current;if(je==null)throw new Error(ur(1));be({value:je.value})}b.onChange&&b.onChange(Ue,...K),q&&q(Ue,...K)};c.useEffect(()=>{be(J.current)},[]);const I=Ue=>{J.current&&Ue.currentTarget===Ue.target&&J.current.focus(),C&&C(Ue)};let ce=v,ue=b;P&&ce==="input"&&(le?ue={type:void 0,minRows:le,maxRows:le,...ue}:ue={type:void 0,maxRows:j,minRows:z,...ue},ce=$R);const De=Ue=>{be(Ue.animationName==="mui-auto-fill-cancel"?J.current:{value:"x"})};c.useEffect(()=>{he&&he.setAdornedStart(!!G)},[he,G]);const Re={...r,color:M.color||"primary",disabled:M.disabled,endAdornment:x,error:M.error,focused:M.focused,formControl:he,fullWidth:N,hiddenLabel:M.hiddenLabel,multiline:P,size:M.size,startAdornment:G,type:U},se=WR(Re),Se=D.root||m.Root||Kd,_e=E.root||p.root||{},Qe=D.input||m.Input||Hd;return ue={...ue,...E.input??p.input},e.jsxs(c.Fragment,{children:[!k&&typeof Ij=="function"&&(Ej||(Ej=e.jsx(Ij,{}))),e.jsxs(Se,{..._e,ref:s,onClick:I,...oe,...!Bc(Se)&&{ownerState:{...Re,..._e.ownerState}},className:ht(se.root,_e.className,o,fe&&"MuiInputBase-readOnly"),children:[G,e.jsx(of.Provider,{value:null,children:e.jsx(Qe,{"aria-invalid":M.error,"aria-describedby":a,autoComplete:l,autoFocus:i,defaultValue:g,disabled:M.disabled,id:f,onAnimationStart:De,name:$,placeholder:_,readOnly:fe,required:M.required,rows:le,value:te,onKeyDown:A,onKeyUp:O,type:U,...ue,...!Bc(Qe)&&{as:ce,ownerState:{...Re,...ue.ownerState}},ref:ie,className:ht(se.input,ue.className,fe&&"MuiInputBase-readOnly"),onBlur:W,onChange:V,onFocus:we})}),x,Q?Q({...M,startAdornment:G}):null]})]})});function UR(t){return tn("MuiInput",t)}const Wl={...hl,...Yt("MuiInput",["root","underline","input"])};function KR(t){return tn("MuiOutlinedInput",t)}const Ps={...hl,...Yt("MuiOutlinedInput",["root","notchedOutline","input"])};function HR(t){return tn("MuiFilledInput",t)}const Vr={...hl,...Yt("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},VR=$e(e.jsx("path",{d:"M7 10l5 5 5-5z"})),qR={entering:{opacity:1},entered:{opacity:1}},YR=c.forwardRef(function(n,s){const r=Fh(),a={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:l,appear:i=!0,children:o,easing:d,in:m,onEnter:p,onEntered:g,onEntering:h,onExit:k,onExited:x,onExiting:w,style:N,timeout:f=a,TransitionComponent:v=Js,...b}=n,y=c.useRef(null),S=In(y,Qi(o),s),j=A=>O=>{if(A){const _=y.current;O===void 0?A(_):A(_,O)}},z=j(h),P=j((A,O)=>{bN(A);const _=Lc({style:N,timeout:f,easing:d},{mode:"enter"});A.style.webkitTransition=r.transitions.create("opacity",_),A.style.transition=r.transitions.create("opacity",_),p&&p(A,O)}),$=j(g),B=j(w),q=j(A=>{const O=Lc({style:N,timeout:f,easing:d},{mode:"exit"});A.style.webkitTransition=r.transitions.create("opacity",O),A.style.transition=r.transitions.create("opacity",O),k&&k(A)}),C=j(x),Z=A=>{l&&l(y.current,A)};return e.jsx(v,{appear:i,in:m,nodeRef:y,onEnter:P,onEntered:$,onEntering:z,onExit:q,onExited:C,onExiting:B,addEndListener:Z,timeout:f,...b,children:(A,{ownerState:O,..._})=>c.cloneElement(o,{style:{opacity:0,visibility:A==="exited"&&!m?"hidden":void 0,...qR[A],...N,...o.props.style},ref:S,..._})})});function GR(t){return tn("MuiBackdrop",t)}Yt("MuiBackdrop",["root","invisible"]);const JR=t=>{const{classes:n,invisible:s}=t;return nn({root:["root",s&&"invisible"]},GR,n)},QR=at("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,n)=>{const{ownerState:s}=t;return[n.root,s.invisible&&n.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),XR=c.forwardRef(function(n,s){const r=dn({props:n,name:"MuiBackdrop"}),{children:a,className:l,component:i="div",invisible:o=!1,open:d,components:m={},componentsProps:p={},slotProps:g={},slots:h={},TransitionComponent:k,transitionDuration:x,...w}=r,N={...r,component:i,invisible:o},f=JR(N),v={transition:k,root:m.Root,...h},b={...p,...g},y={component:i,slots:v,slotProps:b},[S,j]=Vs("root",{elementType:QR,externalForwardedProps:y,className:ht(f.root,l),ownerState:N}),[z,P]=Vs("transition",{elementType:YR,externalForwardedProps:y,ownerState:N});return e.jsx(z,{in:d,timeout:x,...w,...P,children:e.jsx(S,{"aria-hidden":!0,...j,ref:s,children:a})})});function wN(t=window){const n=t.document.documentElement.clientWidth;return t.innerWidth-n}function ZR(t){const n=Ds(t);return n.body===t?pr(t).innerWidth>n.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function pi(t,n){n?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function Mj(t){return parseFloat(pr(t).getComputedStyle(t).paddingRight)||0}function eA(t){const s=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(t.tagName),r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return s||r}function Pj(t,n,s,r,a){const l=[n,s,...r];[].forEach.call(t.children,i=>{const o=!l.includes(i),d=!eA(i);o&&d&&pi(i,a)})}function Lu(t,n){let s=-1;return t.some((r,a)=>n(r)?(s=a,!0):!1),s}function tA(t,n){const s=[],r=t.container;if(!n.disableScrollLock){if(ZR(r)){const i=wN(pr(r));s.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${Mj(r)+i}px`;const o=Ds(r).querySelectorAll(".mui-fixed");[].forEach.call(o,d=>{s.push({value:d.style.paddingRight,property:"padding-right",el:d}),d.style.paddingRight=`${Mj(d)+i}px`})}let l;if(r.parentNode instanceof DocumentFragment)l=Ds(r).body;else{const i=r.parentElement,o=pr(r);l=(i==null?void 0:i.nodeName)==="HTML"&&o.getComputedStyle(i).overflowY==="scroll"?i:r}s.push({value:l.style.overflow,property:"overflow",el:l},{value:l.style.overflowX,property:"overflow-x",el:l},{value:l.style.overflowY,property:"overflow-y",el:l}),l.style.overflow="hidden"}return()=>{s.forEach(({value:l,el:i,property:o})=>{l?i.style.setProperty(o,l):i.style.removeProperty(o)})}}function nA(t){const n=[];return[].forEach.call(t.children,s=>{s.getAttribute("aria-hidden")==="true"&&n.push(s)}),n}class sA{constructor(){this.modals=[],this.containers=[]}add(n,s){let r=this.modals.indexOf(n);if(r!==-1)return r;r=this.modals.length,this.modals.push(n),n.modalRef&&pi(n.modalRef,!1);const a=nA(s);Pj(s,n.mount,n.modalRef,a,!0);const l=Lu(this.containers,i=>i.container===s);return l!==-1?(this.containers[l].modals.push(n),r):(this.containers.push({modals:[n],container:s,restore:null,hiddenSiblings:a}),r)}mount(n,s){const r=Lu(this.containers,l=>l.modals.includes(n)),a=this.containers[r];a.restore||(a.restore=tA(a,s))}remove(n,s=!0){const r=this.modals.indexOf(n);if(r===-1)return r;const a=Lu(this.containers,i=>i.modals.includes(n)),l=this.containers[a];if(l.modals.splice(l.modals.indexOf(n),1),this.modals.splice(r,1),l.modals.length===0)l.restore&&l.restore(),n.modalRef&&pi(n.modalRef,s),Pj(l.container,n.mount,n.modalRef,l.hiddenSiblings,!1),this.containers.splice(a,1);else{const i=l.modals[l.modals.length-1];i.modalRef&&pi(i.modalRef,!1)}return r}isTopModal(n){return this.modals.length>0&&this.modals[this.modals.length-1]===n}}function ni(t){var s;let n=t.activeElement;for(;((s=n==null?void 0:n.shadowRoot)==null?void 0:s.activeElement)!=null;)n=n.shadowRoot.activeElement;return n}const rA=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function aA(t){const n=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(n)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:n}function lA(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const n=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let s=n(`[name="${t.name}"]:checked`);return s||(s=n(`[name="${t.name}"]`)),s!==t}function iA(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||lA(t))}function oA(t){const n=[],s=[];return Array.from(t.querySelectorAll(rA)).forEach((r,a)=>{const l=aA(r);l===-1||!iA(r)||(l===0?n.push(r):s.push({documentOrder:a,tabIndex:l,node:r}))}),s.sort((r,a)=>r.tabIndex===a.tabIndex?r.documentOrder-a.documentOrder:r.tabIndex-a.tabIndex).map(r=>r.node).concat(n)}function cA(){return!0}function dA(t){const{children:n,disableAutoFocus:s=!1,disableEnforceFocus:r=!1,disableRestoreFocus:a=!1,getTabbable:l=oA,isEnabled:i=cA,open:o}=t,d=c.useRef(!1),m=c.useRef(null),p=c.useRef(null),g=c.useRef(null),h=c.useRef(null),k=c.useRef(!1),x=c.useRef(null),w=In(Qi(n),x),N=c.useRef(null);c.useEffect(()=>{!o||!x.current||(k.current=!s)},[s,o]),c.useEffect(()=>{if(!o||!x.current)return;const b=Ds(x.current),y=ni(b);return x.current.contains(y)||(x.current.hasAttribute("tabIndex")||x.current.setAttribute("tabIndex","-1"),k.current&&x.current.focus()),()=>{a||(g.current&&g.current.focus&&(d.current=!0,g.current.focus()),g.current=null)}},[o]),c.useEffect(()=>{if(!o||!x.current)return;const b=Ds(x.current),y=z=>{if(N.current=z,r||!i()||z.key!=="Tab")return;ni(b)===x.current&&z.shiftKey&&(d.current=!0,p.current&&p.current.focus())},S=()=>{var B,q;const z=x.current;if(z===null)return;const P=ni(b);if(!b.hasFocus()||!i()||d.current){d.current=!1;return}if(z.contains(P)||r&&P!==m.current&&P!==p.current)return;if(P!==h.current)h.current=null;else if(h.current!==null)return;if(!k.current)return;let $=[];if((P===m.current||P===p.current)&&($=l(x.current)),$.length>0){const C=!!((B=N.current)!=null&&B.shiftKey&&((q=N.current)==null?void 0:q.key)==="Tab"),Z=$[0],A=$[$.length-1];typeof Z!="string"&&typeof A!="string"&&(C?A.focus():Z.focus())}else z.focus()};b.addEventListener("focusin",S),b.addEventListener("keydown",y,!0);const j=setInterval(()=>{const z=ni(b);z&&z.tagName==="BODY"&&S()},50);return()=>{clearInterval(j),b.removeEventListener("focusin",S),b.removeEventListener("keydown",y,!0)}},[s,r,a,i,o,l]);const f=b=>{g.current===null&&(g.current=b.relatedTarget),k.current=!0,h.current=b.target;const y=n.props.onFocus;y&&y(b)},v=b=>{g.current===null&&(g.current=b.relatedTarget),k.current=!0};return e.jsxs(c.Fragment,{children:[e.jsx("div",{tabIndex:o?0:-1,onFocus:v,ref:m,"data-testid":"sentinelStart"}),c.cloneElement(n,{ref:w,onFocus:f}),e.jsx("div",{tabIndex:o?0:-1,onFocus:v,ref:p,"data-testid":"sentinelEnd"})]})}function uA(t){return typeof t=="function"?t():t}function mA(t){return t?t.props.hasOwnProperty("in"):!1}const Lj=()=>{},To=new sA;function pA(t){const{container:n,disableEscapeKeyDown:s=!1,disableScrollLock:r=!1,closeAfterTransition:a=!1,onTransitionEnter:l,onTransitionExited:i,children:o,onClose:d,open:m,rootRef:p}=t,g=c.useRef({}),h=c.useRef(null),k=c.useRef(null),x=In(k,p),[w,N]=c.useState(!m),f=mA(o);let v=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(v=!1);const b=()=>Ds(h.current),y=()=>(g.current.modalRef=k.current,g.current.mount=h.current,g.current),S=()=>{To.mount(y(),{disableScrollLock:r}),k.current&&(k.current.scrollTop=0)},j=da(()=>{const O=uA(n)||b().body;To.add(y(),O),k.current&&S()}),z=()=>To.isTopModal(y()),P=da(O=>{h.current=O,O&&(m&&z()?S():k.current&&pi(k.current,v))}),$=c.useCallback(()=>{To.remove(y(),v)},[v]);c.useEffect(()=>()=>{$()},[$]),c.useEffect(()=>{m?j():(!f||!a)&&$()},[m,$,f,a,j]);const B=O=>_=>{var fe;(fe=O.onKeyDown)==null||fe.call(O,_),!(_.key!=="Escape"||_.which===229||!z())&&(s||(_.stopPropagation(),d&&d(_,"escapeKeyDown")))},q=O=>_=>{var fe;(fe=O.onClick)==null||fe.call(O,_),_.target===_.currentTarget&&d&&d(_,"backdropClick")};return{getRootProps:(O={})=>{const _=kN(t);delete _.onTransitionEnter,delete _.onTransitionExited;const fe={..._,...O};return{role:"presentation",...fe,onKeyDown:B(fe),ref:x}},getBackdropProps:(O={})=>{const _=O;return{"aria-hidden":!0,..._,onClick:q(_),open:m}},getTransitionProps:()=>{const O=()=>{N(!1),l&&l()},_=()=>{N(!0),i&&i(),a&&$()};return{onEnter:vj(O,(o==null?void 0:o.props.onEnter)??Lj),onExited:vj(_,(o==null?void 0:o.props.onExited)??Lj)}},rootRef:x,portalRef:P,isTopModal:z,exited:w,hasTransition:f}}function hA(t){return tn("MuiModal",t)}Yt("MuiModal",["root","hidden","backdrop"]);const fA=t=>{const{open:n,exited:s,classes:r}=t;return nn({root:["root",!n&&s&&"hidden"],backdrop:["backdrop"]},hA,r)},gA=at("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,n)=>{const{ownerState:s}=t;return[n.root,!s.open&&s.exited&&n.hidden]}})(bn(({theme:t})=>({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:n})=>!n.open&&n.exited,style:{visibility:"hidden"}}]}))),yA=at(XR,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),xA=c.forwardRef(function(n,s){const r=dn({name:"MuiModal",props:n}),{BackdropComponent:a=yA,BackdropProps:l,classes:i,className:o,closeAfterTransition:d=!1,children:m,container:p,component:g,components:h={},componentsProps:k={},disableAutoFocus:x=!1,disableEnforceFocus:w=!1,disableEscapeKeyDown:N=!1,disablePortal:f=!1,disableRestoreFocus:v=!1,disableScrollLock:b=!1,hideBackdrop:y=!1,keepMounted:S=!1,onClose:j,onTransitionEnter:z,onTransitionExited:P,open:$,slotProps:B={},slots:q={},theme:C,...Z}=r,A={...r,closeAfterTransition:d,disableAutoFocus:x,disableEnforceFocus:w,disableEscapeKeyDown:N,disablePortal:f,disableRestoreFocus:v,disableScrollLock:b,hideBackdrop:y,keepMounted:S},{getRootProps:O,getBackdropProps:_,getTransitionProps:fe,portalRef:Q,isTopModal:le,exited:ye,hasTransition:E}=pA({...A,rootRef:s}),D={...A,exited:ye},G=fA(D),U={};if(m.props.tabIndex===void 0&&(U.tabIndex="-1"),E){const{onEnter:xe,onExited:ie}=fe();U.onEnter=xe,U.onExited=ie}const H={slots:{root:h.Root,backdrop:h.Backdrop,...q},slotProps:{...k,...B}},[oe,te]=Vs("root",{ref:s,elementType:gA,externalForwardedProps:{...H,...Z,component:g},getSlotProps:O,ownerState:D,className:ht(o,G==null?void 0:G.root,!D.open&&D.exited&&(G==null?void 0:G.hidden))}),[F,J]=Vs("backdrop",{ref:l==null?void 0:l.ref,elementType:a,externalForwardedProps:H,shouldForwardComponentProp:!0,additionalProps:l,getSlotProps:xe=>_({...xe,onClick:ie=>{xe!=null&&xe.onClick&&xe.onClick(ie)}}),className:ht(l==null?void 0:l.className,G==null?void 0:G.backdrop),ownerState:D});return!S&&!$&&(!E||ye)?null:e.jsx(LR,{ref:Q,container:p,disablePortal:f,children:e.jsxs(oe,{...te,children:[!y&&a?e.jsx(F,{...J}):null,e.jsx(dA,{disableEnforceFocus:w,disableAutoFocus:x,disableRestoreFocus:v,isEnabled:le,open:$,children:c.cloneElement(m,U)})]})})}),Bj=Yt("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),vA=t=>{const{classes:n,disableUnderline:s,startAdornment:r,endAdornment:a,size:l,hiddenLabel:i,multiline:o}=t,d={root:["root",!s&&"underline",r&&"adornedStart",a&&"adornedEnd",l==="small"&&`size${hn(l)}`,i&&"hiddenLabel",o&&"multiline"],input:["input"]},m=nn(d,HR,n);return{...n,...m}},jA=at(Kd,{shouldForwardProp:t=>Rs(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,n)=>{const{ownerState:s}=t;return[...Wd(t,n),!s.disableUnderline&&n.underline]}})(bn(({theme:t})=>{const n=t.palette.mode==="light",s=n?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=n?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",a=n?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",l=n?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:a,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r}},[`&.${Vr.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r},[`&.${Vr.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:l},variants:[{props:({ownerState:i})=>!i.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Vr.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Vr.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?t.alpha(t.vars.palette.common.onBackground,t.vars.opacity.inputUnderline):s}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Vr.disabled}, .${Vr.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${Vr.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(Fd()).map(([i])=>{var o;return{props:{disableUnderline:!1,color:i},style:{"&::after":{borderBottom:`2px solid ${(o=(t.vars||t).palette[i])==null?void 0:o.main}`}}}}),{props:({ownerState:i})=>i.startAdornment,style:{paddingLeft:12}},{props:({ownerState:i})=>i.endAdornment,style:{paddingRight:12}},{props:({ownerState:i})=>i.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:i,size:o})=>i.multiline&&o==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:i})=>i.multiline&&i.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:i})=>i.multiline&&i.hiddenLabel&&i.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),bA=at(Hd,{name:"MuiFilledInput",slot:"Input",overridesResolver:Ud})(bn(({theme:t})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:n})=>n.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:n})=>n.startAdornment,style:{paddingLeft:0}},{props:({ownerState:n})=>n.endAdornment,style:{paddingRight:0}},{props:({ownerState:n})=>n.hiddenLabel&&n.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:n})=>n.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),TN=c.forwardRef(function(n,s){const r=dn({props:n,name:"MuiFilledInput"}),{disableUnderline:a=!1,components:l={},componentsProps:i,fullWidth:o=!1,hiddenLabel:d,inputComponent:m="input",multiline:p=!1,slotProps:g,slots:h={},type:k="text",...x}=r,w={...r,disableUnderline:a,fullWidth:o,inputComponent:m,multiline:p,type:k},N=vA(r),f={root:{ownerState:w},input:{ownerState:w}},v=g??i?wn(f,g??i):f,b=h.root??l.Root??jA,y=h.input??l.Input??bA;return e.jsx(cf,{slots:{root:b,input:y},slotProps:v,fullWidth:o,inputComponent:m,multiline:p,ref:s,type:k,...x,classes:N})});TN.muiName="Input";function SA(t){return tn("MuiFormControl",t)}Yt("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const NA=t=>{const{classes:n,margin:s,fullWidth:r}=t,a={root:["root",s!=="none"&&`margin${hn(s)}`,r&&"fullWidth"]};return nn(a,SA,n)},kA=at("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(t,n)=>{const{ownerState:s}=t;return[n.root,n[`margin${hn(s.margin)}`],s.fullWidth&&n.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),Bu=c.forwardRef(function(n,s){const r=dn({props:n,name:"MuiFormControl"}),{children:a,className:l,color:i="primary",component:o="div",disabled:d=!1,error:m=!1,focused:p,fullWidth:g=!1,hiddenLabel:h=!1,margin:k="none",required:x=!1,size:w="medium",variant:N="outlined",...f}=r,v={...r,color:i,component:o,disabled:d,error:m,fullWidth:g,hiddenLabel:h,margin:k,required:x,size:w,variant:N},b=NA(v),[y,S]=c.useState(()=>{let O=!1;return a&&c.Children.forEach(a,_=>{if(!Tu(_,["Input","Select"]))return;const fe=Tu(_,["Select"])?_.props.input:_;fe&&_R(fe.props)&&(O=!0)}),O}),[j,z]=c.useState(()=>{let O=!1;return a&&c.Children.forEach(a,_=>{Tu(_,["Input","Select"])&&($c(_.props,!0)||$c(_.props.inputProps,!0))&&(O=!0)}),O}),[P,$]=c.useState(!1);d&&P&&$(!1);const B=p!==void 0&&!d?p:P;let q;c.useRef(!1);const C=c.useCallback(()=>{z(!0)},[]),Z=c.useCallback(()=>{z(!1)},[]),A=c.useMemo(()=>({adornedStart:y,setAdornedStart:S,color:i,disabled:d,error:m,filled:j,focused:B,fullWidth:g,hiddenLabel:h,size:w,onBlur:()=>{$(!1)},onFocus:()=>{$(!0)},onEmpty:Z,onFilled:C,registerEffect:q,required:x,variant:N}),[y,i,d,m,j,B,g,h,q,Z,C,x,w,N]);return e.jsx(of.Provider,{value:A,children:e.jsx(kA,{as:o,ownerState:v,className:ht(b.root,l),ref:s,...f,children:a})})});function CA(t){return tn("MuiFormLabel",t)}const hi=Yt("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),wA=t=>{const{classes:n,color:s,focused:r,disabled:a,error:l,filled:i,required:o}=t,d={root:["root",`color${hn(s)}`,a&&"disabled",l&&"error",i&&"filled",r&&"focused",o&&"required"],asterisk:["asterisk",l&&"error"]};return nn(d,CA,n)},TA=at("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(t,n)=>{const{ownerState:s}=t;return[n.root,s.color==="secondary"&&n.colorSecondary,s.filled&&n.filled]}})(bn(({theme:t})=>({color:(t.vars||t).palette.text.secondary,...t.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(t.palette).filter(Fd()).map(([n])=>({props:{color:n},style:{[`&.${hi.focused}`]:{color:(t.vars||t).palette[n].main}}})),{props:{},style:{[`&.${hi.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${hi.error}`]:{color:(t.vars||t).palette.error.main}}}]}))),zA=at("span",{name:"MuiFormLabel",slot:"Asterisk"})(bn(({theme:t})=>({[`&.${hi.error}`]:{color:(t.vars||t).palette.error.main}}))),DA=c.forwardRef(function(n,s){const r=dn({props:n,name:"MuiFormLabel"}),{children:a,className:l,color:i,component:o="label",disabled:d,error:m,filled:p,focused:g,required:h,...k}=r,x=Zi(),w=Xi({props:r,muiFormControl:x,states:["color","required","focused","disabled","error","filled"]}),N={...r,color:w.color||"primary",component:o,disabled:w.disabled,error:w.error,filled:w.filled,focused:w.focused,required:w.required},f=wA(N);return e.jsxs(TA,{as:o,ownerState:N,className:ht(f.root,l),ref:s,...k,children:[a,w.required&&e.jsxs(zA,{ownerState:N,"aria-hidden":!0,className:f.asterisk,children:["","*"]})]})});function yp(t){return`scale(${t}, ${t**2})`}const RA={entering:{opacity:1,transform:yp(1)},entered:{opacity:1,transform:"none"}},Ou=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),xp=c.forwardRef(function(n,s){const{addEndListener:r,appear:a=!0,children:l,easing:i,in:o,onEnter:d,onEntered:m,onEntering:p,onExit:g,onExited:h,onExiting:k,style:x,timeout:w="auto",TransitionComponent:N=Js,...f}=n,v=jN(),b=c.useRef(),y=Fh(),S=c.useRef(null),j=In(S,Qi(l),s),z=O=>_=>{if(O){const fe=S.current;_===void 0?O(fe):O(fe,_)}},P=z(p),$=z((O,_)=>{bN(O);const{duration:fe,delay:Q,easing:le}=Lc({style:x,timeout:w,easing:i},{mode:"enter"});let ye;w==="auto"?(ye=y.transitions.getAutoHeightDuration(O.clientHeight),b.current=ye):ye=fe,O.style.transition=[y.transitions.create("opacity",{duration:ye,delay:Q}),y.transitions.create("transform",{duration:Ou?ye:ye*.666,delay:Q,easing:le})].join(","),d&&d(O,_)}),B=z(m),q=z(k),C=z(O=>{const{duration:_,delay:fe,easing:Q}=Lc({style:x,timeout:w,easing:i},{mode:"exit"});let le;w==="auto"?(le=y.transitions.getAutoHeightDuration(O.clientHeight),b.current=le):le=_,O.style.transition=[y.transitions.create("opacity",{duration:le,delay:fe}),y.transitions.create("transform",{duration:Ou?le:le*.666,delay:Ou?fe:fe||le*.333,easing:Q})].join(","),O.style.opacity=0,O.style.transform=yp(.75),g&&g(O)}),Z=z(h),A=O=>{w==="auto"&&v.start(b.current||0,O),r&&r(S.current,O)};return e.jsx(N,{appear:a,in:o,nodeRef:S,onEnter:$,onEntered:B,onEntering:P,onExit:C,onExited:Z,onExiting:q,addEndListener:A,timeout:w==="auto"?null:w,...f,children:(O,{ownerState:_,...fe})=>c.cloneElement(l,{style:{opacity:0,transform:yp(.75),visibility:O==="exited"&&!o?"hidden":void 0,...RA[O],...x,...l.props.style},ref:j,...fe})})});xp&&(xp.muiSupportAuto=!0);const AA=t=>{const{classes:n,disableUnderline:s}=t,a=nn({root:["root",!s&&"underline"],input:["input"]},UR,n);return{...n,...a}},EA=at(Kd,{shouldForwardProp:t=>Rs(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,n)=>{const{ownerState:s}=t;return[...Wd(t,n),!s.disableUnderline&&n.underline]}})(bn(({theme:t})=>{let s=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(s=t.alpha(t.vars.palette.common.onBackground,t.vars.opacity.inputUnderline)),{position:"relative",variants:[{props:({ownerState:r})=>r.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:r})=>!r.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Wl.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Wl.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${s}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Wl.disabled}, .${Wl.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${s}`}},[`&.${Wl.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(Fd()).map(([r])=>({props:{color:r,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[r].main}`}}}))]}})),IA=at(Hd,{name:"MuiInput",slot:"Input",overridesResolver:Ud})({}),zN=c.forwardRef(function(n,s){const r=dn({props:n,name:"MuiInput"}),{disableUnderline:a=!1,components:l={},componentsProps:i,fullWidth:o=!1,inputComponent:d="input",multiline:m=!1,slotProps:p,slots:g={},type:h="text",...k}=r,x=AA(r),N={root:{ownerState:{disableUnderline:a}}},f=p??i?wn(p??i,N):N,v=g.root??l.Root??EA,b=g.input??l.Input??IA;return e.jsx(cf,{slots:{root:v,input:b},slotProps:f,fullWidth:o,inputComponent:d,multiline:m,ref:s,type:h,...k,classes:x})});zN.muiName="Input";function MA(t){return tn("MuiInputLabel",t)}Yt("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const PA=t=>{const{classes:n,formControl:s,size:r,shrink:a,disableAnimation:l,variant:i,required:o}=t,d={root:["root",s&&"formControl",!l&&"animated",a&&"shrink",r&&r!=="medium"&&`size${hn(r)}`,i],asterisk:[o&&"asterisk"]},m=nn(d,MA,n);return{...n,...m}},LA=at(DA,{shouldForwardProp:t=>Rs(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,n)=>{const{ownerState:s}=t;return[{[`& .${hi.asterisk}`]:n.asterisk},n.root,s.formControl&&n.formControl,s.size==="small"&&n.sizeSmall,s.shrink&&n.shrink,!s.disableAnimation&&n.animated,s.focused&&n.focused,n[s.variant]]}})(bn(({theme:t})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:n})=>n.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:n})=>n.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:n})=>!n.disableAnimation,style:{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:n,ownerState:s})=>n==="filled"&&s.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:n,ownerState:s,size:r})=>n==="filled"&&s.shrink&&r==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:n,ownerState:s})=>n==="outlined"&&s.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),$u=c.forwardRef(function(n,s){const r=dn({name:"MuiInputLabel",props:n}),{disableAnimation:a=!1,margin:l,shrink:i,variant:o,className:d,...m}=r,p=Zi();let g=i;typeof g>"u"&&p&&(g=p.filled||p.focused||p.adornedStart);const h=Xi({props:r,muiFormControl:p,states:["size","variant","required","focused"]}),k={...r,disableAnimation:a,formControl:p,shrink:g,size:h.size,variant:h.variant,required:h.required,focused:h.focused},x=PA(k);return e.jsx(LA,{"data-shrink":g,ref:s,className:ht(x.root,d),...m,ownerState:k,classes:x})}),_c=c.createContext({});function BA(t){return tn("MuiList",t)}Yt("MuiList",["root","padding","dense","subheader"]);const OA=t=>{const{classes:n,disablePadding:s,dense:r,subheader:a}=t;return nn({root:["root",!s&&"padding",r&&"dense",a&&"subheader"]},BA,n)},$A=at("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,n)=>{const{ownerState:s}=t;return[n.root,!s.disablePadding&&n.padding,s.dense&&n.dense,s.subheader&&n.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:t})=>!t.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:t})=>t.subheader,style:{paddingTop:0}}]}),_A=c.forwardRef(function(n,s){const r=dn({props:n,name:"MuiList"}),{children:a,className:l,component:i="ul",dense:o=!1,disablePadding:d=!1,subheader:m,...p}=r,g=c.useMemo(()=>({dense:o}),[o]),h={...r,component:i,dense:o,disablePadding:d},k=OA(h);return e.jsx(_c.Provider,{value:g,children:e.jsxs($A,{as:i,className:ht(k.root,l),ref:s,ownerState:h,...p,children:[m,a]})})});function FA(t){return tn("MuiListItemIcon",t)}const Oj=Yt("MuiListItemIcon",["root","alignItemsFlexStart"]),WA=t=>{const{alignItems:n,classes:s}=t;return nn({root:["root",n==="flex-start"&&"alignItemsFlexStart"]},FA,s)},UA=at("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(t,n)=>{const{ownerState:s}=t;return[n.root,s.alignItems==="flex-start"&&n.alignItemsFlexStart]}})(bn(({theme:t})=>({minWidth:56,color:(t.vars||t).palette.action.active,flexShrink:0,display:"inline-flex",variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}))),as=c.forwardRef(function(n,s){const r=dn({props:n,name:"MuiListItemIcon"}),{className:a,...l}=r,i=c.useContext(_c),o={...r,alignItems:i.alignItems},d=WA(o);return e.jsx(UA,{className:ht(d.root,a),ownerState:o,ref:s,...l})}),$j=Yt("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);function _u(t,n,s){return t===n?t.firstChild:n&&n.nextElementSibling?n.nextElementSibling:s?null:t.firstChild}function _j(t,n,s){return t===n?s?t.firstChild:t.lastChild:n&&n.previousElementSibling?n.previousElementSibling:s?null:t.lastChild}function DN(t,n){if(n===void 0)return!0;let s=t.innerText;return s===void 0&&(s=t.textContent),s=s.trim().toLowerCase(),s.length===0?!1:n.repeating?s[0]===n.keys[0]:s.startsWith(n.keys.join(""))}function Ul(t,n,s,r,a,l){let i=!1,o=a(t,n,n?s:!1);for(;o;){if(o===t.firstChild){if(i)return!1;i=!0}const d=r?!1:o.disabled||o.getAttribute("aria-disabled")==="true";if(!o.hasAttribute("tabindex")||!DN(o,l)||d)o=a(t,o,s);else return o.focus(),!0}return!1}const KA=c.forwardRef(function(n,s){const{actions:r,autoFocus:a=!1,autoFocusItem:l=!1,children:i,className:o,disabledItemsFocusable:d=!1,disableListWrap:m=!1,onKeyDown:p,variant:g="selectedMenu",...h}=n,k=c.useRef(null),x=c.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});qs(()=>{a&&k.current.focus()},[a]),c.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(b,{direction:y})=>{const S=!k.current.style.width;if(b.clientHeight<k.current.clientHeight&&S){const j=`${wN(pr(b))}px`;k.current.style[y==="rtl"?"paddingLeft":"paddingRight"]=j,k.current.style.width=`calc(100% + ${j})`}return k.current}}),[]);const w=b=>{const y=k.current,S=b.key;if(b.ctrlKey||b.metaKey||b.altKey){p&&p(b);return}const z=ni(Ds(y));if(S==="ArrowDown")b.preventDefault(),Ul(y,z,m,d,_u);else if(S==="ArrowUp")b.preventDefault(),Ul(y,z,m,d,_j);else if(S==="Home")b.preventDefault(),Ul(y,null,m,d,_u);else if(S==="End")b.preventDefault(),Ul(y,null,m,d,_j);else if(S.length===1){const P=x.current,$=S.toLowerCase(),B=performance.now();P.keys.length>0&&(B-P.lastTime>500?(P.keys=[],P.repeating=!0,P.previousKeyMatched=!0):P.repeating&&$!==P.keys[0]&&(P.repeating=!1)),P.lastTime=B,P.keys.push($);const q=z&&!P.repeating&&DN(z,P);P.previousKeyMatched&&(q||Ul(y,z,!1,d,_u,P))?b.preventDefault():P.previousKeyMatched=!1}p&&p(b)},N=In(k,s);let f=-1;c.Children.forEach(i,(b,y)=>{if(!c.isValidElement(b)){f===y&&(f+=1,f>=i.length&&(f=-1));return}b.props.disabled||(g==="selectedMenu"&&b.props.selected||f===-1)&&(f=y),f===y&&(b.props.disabled||b.props.muiSkipListHighlight||b.type.muiSkipListHighlight)&&(f+=1,f>=i.length&&(f=-1))});const v=c.Children.map(i,(b,y)=>{if(y===f){const S={};return l&&(S.autoFocus=!0),b.props.tabIndex===void 0&&g==="selectedMenu"&&(S.tabIndex=0),c.cloneElement(b,S)}return b});return e.jsx(_A,{role:"menu",ref:N,className:o,onKeyDown:w,tabIndex:a?0:-1,...h,children:v})});function HA(t){return tn("MuiPopover",t)}Yt("MuiPopover",["root","paper"]);function Fj(t,n){let s=0;return typeof n=="number"?s=n:n==="center"?s=t.height/2:n==="bottom"&&(s=t.height),s}function Wj(t,n){let s=0;return typeof n=="number"?s=n:n==="center"?s=t.width/2:n==="right"&&(s=t.width),s}function Uj(t){return[t.horizontal,t.vertical].map(n=>typeof n=="number"?`${n}px`:n).join(" ")}function zo(t){return typeof t=="function"?t():t}const VA=t=>{const{classes:n}=t;return nn({root:["root"],paper:["paper"]},HA,n)},qA=at(xA,{name:"MuiPopover",slot:"Root"})({}),RN=at(gR,{name:"MuiPopover",slot:"Paper"})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),YA=c.forwardRef(function(n,s){const r=dn({props:n,name:"MuiPopover"}),{action:a,anchorEl:l,anchorOrigin:i={vertical:"top",horizontal:"left"},anchorPosition:o,anchorReference:d="anchorEl",children:m,className:p,container:g,elevation:h=8,marginThreshold:k=16,open:x,PaperProps:w={},slots:N={},slotProps:f={},transformOrigin:v={vertical:"top",horizontal:"left"},TransitionComponent:b,transitionDuration:y="auto",TransitionProps:S={},disableScrollLock:j=!1,...z}=r,P=c.useRef(),$={...r,anchorOrigin:i,anchorReference:d,elevation:h,marginThreshold:k,transformOrigin:v,TransitionComponent:b,transitionDuration:y,TransitionProps:S},B=VA($),q=c.useCallback(()=>{if(d==="anchorPosition")return o;const xe=zo(l),L=(xe&&xe.nodeType===1?xe:Ds(P.current).body).getBoundingClientRect();return{top:L.top+Fj(L,i.vertical),left:L.left+Wj(L,i.horizontal)}},[l,i.horizontal,i.vertical,o,d]),C=c.useCallback(xe=>({vertical:Fj(xe,v.vertical),horizontal:Wj(xe,v.horizontal)}),[v.horizontal,v.vertical]),Z=c.useCallback(xe=>{const ie={width:xe.offsetWidth,height:xe.offsetHeight},L=C(ie);if(d==="none")return{top:null,left:null,transformOrigin:Uj(L)};const ne=q();let he=ne.top-L.vertical,M=ne.left-L.horizontal;const re=he+ie.height,ke=M+ie.width,be=pr(zo(l)),we=be.innerHeight-k,W=be.innerWidth-k;if(k!==null&&he<k){const V=he-k;he-=V,L.vertical+=V}else if(k!==null&&re>we){const V=re-we;he-=V,L.vertical+=V}if(k!==null&&M<k){const V=M-k;M-=V,L.horizontal+=V}else if(ke>W){const V=ke-W;M-=V,L.horizontal+=V}return{top:`${Math.round(he)}px`,left:`${Math.round(M)}px`,transformOrigin:Uj(L)}},[l,d,q,C,k]),[A,O]=c.useState(x),_=c.useCallback(()=>{const xe=P.current;if(!xe)return;const ie=Z(xe);ie.top!==null&&xe.style.setProperty("top",ie.top),ie.left!==null&&(xe.style.left=ie.left),xe.style.transformOrigin=ie.transformOrigin,O(!0)},[Z]);c.useEffect(()=>(j&&window.addEventListener("scroll",_),()=>window.removeEventListener("scroll",_)),[l,j,_]);const fe=()=>{_()},Q=()=>{O(!1)};c.useEffect(()=>{x&&_()}),c.useImperativeHandle(a,()=>x?{updatePosition:()=>{_()}}:null,[x,_]),c.useEffect(()=>{if(!x)return;const xe=YS(()=>{_()}),ie=pr(zo(l));return ie.addEventListener("resize",xe),()=>{xe.clear(),ie.removeEventListener("resize",xe)}},[l,x,_]);let le=y;const ye={slots:{transition:b,...N},slotProps:{transition:S,paper:w,...f}},[E,D]=Vs("transition",{elementType:xp,externalForwardedProps:ye,ownerState:$,getSlotProps:xe=>({...xe,onEntering:(ie,L)=>{var ne;(ne=xe.onEntering)==null||ne.call(xe,ie,L),fe()},onExited:ie=>{var L;(L=xe.onExited)==null||L.call(xe,ie),Q()}}),additionalProps:{appear:!0,in:x}});y==="auto"&&!E.muiSupportAuto&&(le=void 0);const G=g||(l?Ds(zo(l)).body:void 0),[U,{slots:H,slotProps:oe,...te}]=Vs("root",{ref:s,elementType:qA,externalForwardedProps:{...ye,...z},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:N.backdrop},slotProps:{backdrop:aD(typeof f.backdrop=="function"?f.backdrop($):f.backdrop,{invisible:!0})},container:G,open:x},ownerState:$,className:ht(B.root,p)}),[F,J]=Vs("paper",{ref:P,className:B.paper,elementType:RN,externalForwardedProps:ye,shouldForwardComponentProp:!0,additionalProps:{elevation:h,style:A?void 0:{opacity:0}},ownerState:$});return e.jsx(U,{...te,...!Bc(U)&&{slots:H,slotProps:oe,disableScrollLock:j},children:e.jsx(E,{...D,timeout:le,children:e.jsx(F,{...J,children:m})})})});function GA(t){return tn("MuiMenu",t)}Yt("MuiMenu",["root","paper","list"]);const JA={vertical:"top",horizontal:"right"},QA={vertical:"top",horizontal:"left"},XA=t=>{const{classes:n}=t;return nn({root:["root"],paper:["paper"],list:["list"]},GA,n)},ZA=at(YA,{shouldForwardProp:t=>Rs(t)||t==="classes",name:"MuiMenu",slot:"Root"})({}),eE=at(RN,{name:"MuiMenu",slot:"Paper"})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),tE=at(KA,{name:"MuiMenu",slot:"List"})({outline:0}),nE=c.forwardRef(function(n,s){const r=dn({props:n,name:"MuiMenu"}),{autoFocus:a=!0,children:l,className:i,disableAutoFocusItem:o=!1,MenuListProps:d={},onClose:m,open:p,PaperProps:g={},PopoverClasses:h,transitionDuration:k="auto",TransitionProps:{onEntering:x,...w}={},variant:N="selectedMenu",slots:f={},slotProps:v={},...b}=r,y=_T(),S={...r,autoFocus:a,disableAutoFocusItem:o,MenuListProps:d,onEntering:x,PaperProps:g,transitionDuration:k,TransitionProps:w,variant:N},j=XA(S),z=a&&!o&&p,P=c.useRef(null),$=(le,ye)=>{P.current&&P.current.adjustStyleForScrollbar(le,{direction:y?"rtl":"ltr"}),x&&x(le,ye)},B=le=>{le.key==="Tab"&&(le.preventDefault(),m&&m(le,"tabKeyDown"))};let q=-1;c.Children.map(l,(le,ye)=>{c.isValidElement(le)&&(le.props.disabled||(N==="selectedMenu"&&le.props.selected||q===-1)&&(q=ye))});const C={slots:f,slotProps:{list:d,transition:w,paper:g,...v}},Z=MR({elementType:f.root,externalSlotProps:v.root,ownerState:S,className:[j.root,i]}),[A,O]=Vs("paper",{className:j.paper,elementType:eE,externalForwardedProps:C,shouldForwardComponentProp:!0,ownerState:S}),[_,fe]=Vs("list",{className:ht(j.list,d.className),elementType:tE,shouldForwardComponentProp:!0,externalForwardedProps:C,getSlotProps:le=>({...le,onKeyDown:ye=>{var E;B(ye),(E=le.onKeyDown)==null||E.call(le,ye)}}),ownerState:S}),Q=typeof C.slotProps.transition=="function"?C.slotProps.transition(S):C.slotProps.transition;return e.jsx(ZA,{onClose:m,anchorOrigin:{vertical:"bottom",horizontal:y?"right":"left"},transformOrigin:y?JA:QA,slots:{root:f.root,paper:A,backdrop:f.backdrop,...f.transition&&{transition:f.transition}},slotProps:{root:Z,paper:O,backdrop:typeof v.backdrop=="function"?v.backdrop(S):v.backdrop,transition:{...Q,onEntering:(...le)=>{var ye;$(...le),(ye=Q==null?void 0:Q.onEntering)==null||ye.call(Q,...le)}}},open:p,ref:s,transitionDuration:k,ownerState:S,...b,classes:h,children:e.jsx(_,{actions:P,autoFocus:a&&(q===-1||o),autoFocusItem:z,variant:N,...fe,children:l})})});function sE(t){return tn("MuiMenuItem",t)}const Kl=Yt("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),rE=(t,n)=>{const{ownerState:s}=t;return[n.root,s.dense&&n.dense,s.divider&&n.divider,!s.disableGutters&&n.gutters]},aE=t=>{const{disabled:n,dense:s,divider:r,disableGutters:a,selected:l,classes:i}=t,d=nn({root:["root",s&&"dense",n&&"disabled",!a&&"gutters",r&&"divider",l&&"selected"]},sE,i);return{...i,...d}},lE=at(AR,{shouldForwardProp:t=>Rs(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:rE})(bn(({theme:t})=>({...t.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Kl.selected}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity),[`&.${Kl.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)}},[`&.${Kl.selected}:hover`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity)}},[`&.${Kl.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Kl.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${Bj.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${Bj.inset}`]:{marginLeft:52},[`& .${$j.root}`]:{marginTop:0,marginBottom:0},[`& .${$j.inset}`]:{paddingLeft:36},[`& .${Oj.root}`]:{minWidth:36},variants:[{props:({ownerState:n})=>!n.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:n})=>n.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:n})=>!n.dense,style:{[t.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:n})=>n.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...t.typography.body2,[`& .${Oj.root} svg`]:{fontSize:"1.25rem"}}}]}))),Vn=c.forwardRef(function(n,s){const r=dn({props:n,name:"MuiMenuItem"}),{autoFocus:a=!1,component:l="li",dense:i=!1,divider:o=!1,disableGutters:d=!1,focusVisibleClassName:m,role:p="menuitem",tabIndex:g,className:h,...k}=r,x=c.useContext(_c),w=c.useMemo(()=>({dense:i||x.dense||!1,disableGutters:d}),[x.dense,i,d]),N=c.useRef(null);qs(()=>{a&&N.current&&N.current.focus()},[a]);const f={...r,dense:w.dense,divider:o,disableGutters:d},v=aE(r),b=In(N,s);let y;return r.disabled||(y=g!==void 0?g:-1),e.jsx(_c.Provider,{value:w,children:e.jsx(lE,{ref:b,role:p,tabIndex:y,component:l,focusVisibleClassName:ht(v.focusVisible,m),className:ht(v.root,h),...k,ownerState:f,classes:v})})});function iE(t){return tn("MuiNativeSelect",t)}const df=Yt("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),oE=t=>{const{classes:n,variant:s,disabled:r,multiple:a,open:l,error:i}=t,o={select:["select",s,r&&"disabled",a&&"multiple",i&&"error"],icon:["icon",`icon${hn(s)}`,l&&"iconOpen",r&&"disabled"]};return nn(o,iE,n)},AN=at("select",{name:"MuiNativeSelect"})(({theme:t})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${df.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},variants:[{props:({ownerState:n})=>n.variant!=="filled"&&n.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}}]})),cE=at(AN,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Rs,overridesResolver:(t,n)=>{const{ownerState:s}=t;return[n.select,n[s.variant],s.error&&n.error,{[`&.${df.multiple}`]:n.multiple}]}})({}),EN=at("svg",{name:"MuiNativeSelect"})(({theme:t})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${df.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:({ownerState:n})=>n.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),dE=at(EN,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,n)=>{const{ownerState:s}=t;return[n.icon,s.variant&&n[`icon${hn(s.variant)}`],s.open&&n.iconOpen]}})({}),uE=c.forwardRef(function(n,s){const{className:r,disabled:a,error:l,IconComponent:i,inputRef:o,variant:d="standard",...m}=n,p={...n,disabled:a,variant:d,error:l},g=oE(p);return e.jsxs(c.Fragment,{children:[e.jsx(cE,{ownerState:p,className:ht(g.select,r),disabled:a,ref:o||s,...m}),n.multiple?null:e.jsx(dE,{as:i,ownerState:p,className:g.icon})]})});var Kj;const mE=at("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:Rs})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),pE=at("legend",{name:"MuiNotchedOutlined",shouldForwardProp:Rs})(bn(({theme:t})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:n})=>!n.withLabel,style:{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})}},{props:({ownerState:n})=>n.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:n})=>n.withLabel&&n.notched,style:{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})}}]})));function hE(t){const{children:n,classes:s,className:r,label:a,notched:l,...i}=t,o=a!=null&&a!=="",d={...t,notched:l,withLabel:o};return e.jsx(mE,{"aria-hidden":!0,className:r,ownerState:d,...i,children:e.jsx(pE,{ownerState:d,children:o?e.jsx("span",{children:a}):Kj||(Kj=e.jsx("span",{className:"notranslate","aria-hidden":!0,children:""}))})})}const fE=t=>{const{classes:n}=t,r=nn({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},KR,n);return{...n,...r}},gE=at(Kd,{shouldForwardProp:t=>Rs(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:Wd})(bn(({theme:t})=>{const n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${Ps.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${Ps.notchedOutline}`]:{borderColor:t.vars?t.alpha(t.vars.palette.common.onBackground,.23):n}},[`&.${Ps.focused} .${Ps.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(t.palette).filter(Fd()).map(([s])=>({props:{color:s},style:{[`&.${Ps.focused} .${Ps.notchedOutline}`]:{borderColor:(t.vars||t).palette[s].main}}})),{props:{},style:{[`&.${Ps.error} .${Ps.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${Ps.disabled} .${Ps.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}}},{props:({ownerState:s})=>s.startAdornment,style:{paddingLeft:14}},{props:({ownerState:s})=>s.endAdornment,style:{paddingRight:14}},{props:({ownerState:s})=>s.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:s,size:r})=>s.multiline&&r==="small",style:{padding:"8.5px 14px"}}]}})),yE=at(hE,{name:"MuiOutlinedInput",slot:"NotchedOutline"})(bn(({theme:t})=>{const n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?t.alpha(t.vars.palette.common.onBackground,.23):n}})),xE=at(Hd,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:Ud})(bn(({theme:t})=>({padding:"16.5px 14px",...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:n})=>n.multiline,style:{padding:0}},{props:({ownerState:n})=>n.startAdornment,style:{paddingLeft:0}},{props:({ownerState:n})=>n.endAdornment,style:{paddingRight:0}}]}))),IN=c.forwardRef(function(n,s){const r=dn({props:n,name:"MuiOutlinedInput"}),{components:a={},fullWidth:l=!1,inputComponent:i="input",label:o,multiline:d=!1,notched:m,slots:p={},slotProps:g={},type:h="text",...k}=r,x=fE(r),w=Zi(),N=Xi({props:r,muiFormControl:w,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),f={...r,color:N.color||"primary",disabled:N.disabled,error:N.error,focused:N.focused,formControl:w,fullWidth:l,hiddenLabel:N.hiddenLabel,multiline:d,size:N.size,type:h},v=p.root??a.Root??gE,b=p.input??a.Input??xE,[y,S]=Vs("notchedOutline",{elementType:yE,className:x.notchedOutline,shouldForwardComponentProp:!0,ownerState:f,externalForwardedProps:{slots:p,slotProps:g},additionalProps:{label:o!=null&&o!==""&&N.required?e.jsxs(c.Fragment,{children:[o,"","*"]}):o}});return e.jsx(cf,{slots:{root:v,input:b},slotProps:g,renderSuffix:j=>e.jsx(y,{...S,notched:typeof m<"u"?m:!!(j.startAdornment||j.filled||j.focused)}),fullWidth:l,inputComponent:i,multiline:d,ref:s,type:h,...k,classes:{...x,notchedOutline:null}})});IN.muiName="Input";function MN(t){return tn("MuiSelect",t)}const Hl=Yt("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var Hj;const vE=at(AN,{name:"MuiSelect",slot:"Select",overridesResolver:(t,n)=>{const{ownerState:s}=t;return[{[`&.${Hl.select}`]:n.select},{[`&.${Hl.select}`]:n[s.variant]},{[`&.${Hl.error}`]:n.error},{[`&.${Hl.multiple}`]:n.multiple}]}})({[`&.${Hl.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),jE=at(EN,{name:"MuiSelect",slot:"Icon",overridesResolver:(t,n)=>{const{ownerState:s}=t;return[n.icon,s.variant&&n[`icon${hn(s.variant)}`],s.open&&n.iconOpen]}})({}),bE=at("input",{shouldForwardProp:t=>hS(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput"})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function Vj(t,n){return typeof n=="object"&&n!==null?t===n:String(t)===String(n)}function SE(t){return t==null||typeof t=="string"&&!t.trim()}const NE=t=>{const{classes:n,variant:s,disabled:r,multiple:a,open:l,error:i}=t,o={select:["select",s,r&&"disabled",a&&"multiple",i&&"error"],icon:["icon",`icon${hn(s)}`,l&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return nn(o,MN,n)},kE=c.forwardRef(function(n,s){var Pe,Be,Ye,dt;const{"aria-describedby":r,"aria-label":a,autoFocus:l,autoWidth:i,children:o,className:d,defaultOpen:m,defaultValue:p,disabled:g,displayEmpty:h,error:k=!1,IconComponent:x,inputRef:w,labelId:N,MenuProps:f={},multiple:v,name:b,onBlur:y,onChange:S,onClose:j,onFocus:z,onKeyDown:P,onMouseDown:$,onOpen:B,open:q,readOnly:C,renderValue:Z,required:A,SelectDisplayProps:O={},tabIndex:_,type:fe,value:Q,variant:le="standard",...ye}=n,[E,D]=bj({controlled:Q,default:p,name:"Select"}),[G,U]=bj({controlled:q,default:m,name:"Select"}),H=c.useRef(null),oe=c.useRef(null),[te,F]=c.useState(null),{current:J}=c.useRef(q!=null),[xe,ie]=c.useState(),L=In(s,w),ne=c.useCallback(Ke=>{oe.current=Ke,Ke&&F(Ke)},[]),he=te==null?void 0:te.parentNode;c.useImperativeHandle(L,()=>({focus:()=>{oe.current.focus()},node:H.current,value:E}),[E]);const M=te!==null&&G;c.useEffect(()=>{if(!M||!he||i||typeof ResizeObserver>"u")return;const Ke=new ResizeObserver(()=>{ie(he.clientWidth)});return Ke.observe(he),()=>{Ke.disconnect()}},[M,he,i]),c.useEffect(()=>{m&&G&&te&&!J&&(ie(i?null:he.clientWidth),oe.current.focus())},[te,i]),c.useEffect(()=>{l&&oe.current.focus()},[l]),c.useEffect(()=>{if(!N)return;const Ke=Ds(oe.current).getElementById(N);if(Ke){const ot=()=>{getSelection().isCollapsed&&oe.current.focus()};return Ke.addEventListener("click",ot),()=>{Ke.removeEventListener("click",ot)}}},[N]);const re=(Ke,ot)=>{Ke?B&&B(ot):j&&j(ot),J||(ie(i?null:he.clientWidth),U(Ke))},ke=Ke=>{$==null||$(Ke),Ke.button===0&&(Ke.preventDefault(),oe.current.focus(),re(!0,Ke))},be=Ke=>{re(!1,Ke)},we=c.Children.toArray(o),W=Ke=>{const ot=we.find(Dt=>Dt.props.value===Ke.target.value);ot!==void 0&&(D(ot.props.value),S&&S(Ke,ot))},V=Ke=>ot=>{let Dt;if(ot.currentTarget.hasAttribute("tabindex")){if(v){Dt=Array.isArray(E)?E.slice():[];const bt=E.indexOf(Ke.props.value);bt===-1?Dt.push(Ke.props.value):Dt.splice(bt,1)}else Dt=Ke.props.value;if(Ke.props.onClick&&Ke.props.onClick(ot),E!==Dt&&(D(Dt),S)){const bt=ot.nativeEvent||ot,Un=new bt.constructor(bt.type,bt);Object.defineProperty(Un,"target",{writable:!0,value:{value:Dt,name:b}}),S(Un,Ke)}v||re(!1,ot)}},I=Ke=>{C||([" ","ArrowUp","ArrowDown","Enter"].includes(Ke.key)&&(Ke.preventDefault(),re(!0,Ke)),P==null||P(Ke))},ce=Ke=>{!M&&y&&(Object.defineProperty(Ke,"target",{writable:!0,value:{value:E,name:b}}),y(Ke))};delete ye["aria-invalid"];let ue,De;const Re=[];let se=!1;($c({value:E})||h)&&(Z?ue=Z(E):se=!0);const Se=we.map(Ke=>{if(!c.isValidElement(Ke))return null;let ot;if(v){if(!Array.isArray(E))throw new Error(ur(2));ot=E.some(Dt=>Vj(Dt,Ke.props.value)),ot&&se&&Re.push(Ke.props.children)}else ot=Vj(E,Ke.props.value),ot&&se&&(De=Ke.props.children);return c.cloneElement(Ke,{"aria-selected":ot?"true":"false",onClick:V(Ke),onKeyUp:Dt=>{Dt.key===" "&&Dt.preventDefault(),Ke.props.onKeyUp&&Ke.props.onKeyUp(Dt)},role:"option",selected:ot,value:void 0,"data-value":Ke.props.value})});se&&(v?Re.length===0?ue=null:ue=Re.reduce((Ke,ot,Dt)=>(Ke.push(ot),Dt<Re.length-1&&Ke.push(", "),Ke),[]):ue=De);let _e=xe;!i&&J&&te&&(_e=he.clientWidth);let Qe;typeof _<"u"?Qe=_:Qe=g?null:0;const Ue=O.id||(b?`mui-component-select-${b}`:void 0),K={...n,variant:le,value:E,open:M,error:k},je=NE(K),Ae={...f.PaperProps,...typeof((Pe=f.slotProps)==null?void 0:Pe.paper)=="function"?f.slotProps.paper(K):(Be=f.slotProps)==null?void 0:Be.paper},X={...f.MenuListProps,...typeof((Ye=f.slotProps)==null?void 0:Ye.list)=="function"?f.slotProps.list(K):(dt=f.slotProps)==null?void 0:dt.list},pe=rS();return e.jsxs(c.Fragment,{children:[e.jsx(vE,{as:"div",ref:ne,tabIndex:Qe,role:"combobox","aria-controls":M?pe:void 0,"aria-disabled":g?"true":void 0,"aria-expanded":M?"true":"false","aria-haspopup":"listbox","aria-label":a,"aria-labelledby":[N,Ue].filter(Boolean).join(" ")||void 0,"aria-describedby":r,"aria-required":A?"true":void 0,"aria-invalid":k?"true":void 0,onKeyDown:I,onMouseDown:g||C?null:ke,onBlur:ce,onFocus:z,...O,ownerState:K,className:ht(O.className,je.select,d),id:Ue,children:SE(ue)?Hj||(Hj=e.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):ue}),e.jsx(bE,{"aria-invalid":k,value:Array.isArray(E)?E.join(","):E,name:b,ref:H,"aria-hidden":!0,onChange:W,tabIndex:-1,disabled:g,className:je.nativeInput,autoFocus:l,required:A,...ye,ownerState:K}),e.jsx(jE,{as:x,className:je.icon,ownerState:K}),e.jsx(nE,{id:`menu-${b||""}`,anchorEl:he,open:M,onClose:be,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...f,slotProps:{...f.slotProps,list:{"aria-labelledby":N,role:"listbox","aria-multiselectable":v?"true":void 0,disableListWrap:!0,id:pe,...X},paper:{...Ae,style:{minWidth:_e,...Ae!=null?Ae.style:null}}},children:Se})]})}),CE=t=>{const{classes:n}=t,r=nn({root:["root"]},MN,n);return{...n,...r}},uf={name:"MuiSelect",slot:"Root",shouldForwardProp:t=>Rs(t)&&t!=="variant"},wE=at(zN,uf)(""),TE=at(IN,uf)(""),zE=at(TN,uf)(""),sc=c.forwardRef(function(n,s){const r=dn({name:"MuiSelect",props:n}),{autoWidth:a=!1,children:l,classes:i={},className:o,defaultOpen:d=!1,displayEmpty:m=!1,IconComponent:p=VR,id:g,input:h,inputProps:k,label:x,labelId:w,MenuProps:N,multiple:f=!1,native:v=!1,onClose:b,onOpen:y,open:S,renderValue:j,SelectDisplayProps:z,variant:P="outlined",...$}=r,B=v?uE:kE,q=Zi(),C=Xi({props:r,muiFormControl:q,states:["variant","error"]}),Z=C.variant||P,A={...r,variant:Z,classes:i},O=CE(A),{root:_,...fe}=O,Q=h||{standard:e.jsx(wE,{ownerState:A}),outlined:e.jsx(TE,{label:x,ownerState:A}),filled:e.jsx(zE,{ownerState:A})}[Z],le=In(s,Qi(Q));return e.jsx(c.Fragment,{children:c.cloneElement(Q,{inputComponent:B,inputProps:{children:l,error:C.error,IconComponent:p,variant:Z,type:void 0,multiple:f,...v?{id:g}:{autoWidth:a,defaultOpen:d,displayEmpty:m,labelId:w,MenuProps:N,onClose:b,onOpen:y,open:S,renderValue:j,SelectDisplayProps:{id:g,...z}},...k,classes:k?wn(fe,k.classes):fe,...h?h.props.inputProps:{}},...(f&&v||m)&&Z==="outlined"?{notched:!0}:{},ref:le,className:ht(Q.props.className,o,O.root),...!h&&{variant:Z},...$})})});sc.muiName="Select";const ea={olcu:{label:"l Tasla",icon:"rule",color:"#3b82f6"},teknik:{label:"Teknik izim",icon:"straighten",color:"#8b5cf6"},sozlesme:{label:"Szleme",icon:"assignment",color:"#10b981"},teklif:{label:"Teklif",icon:"attach_money",color:"#f59e0b"},montaj:{label:"Montaj",icon:"apartment",color:"#ec4899"},irsaliye:{label:"rsaliye",icon:"inventory_2",color:"#14b8a6"},servis_oncesi:{label:"Servis ncesi",icon:"build",color:"#f97316"},servis_sonrasi:{label:"Servis Sonras",icon:"check_circle",color:"#10b981"},arac:{label:"Ara Belgesi",icon:"drive_eta",color:"#f59e0b"},makine:{label:"Makine Belgesi",icon:"precision_manufacturing",color:"#8b5cf6"},ofis:{label:"Ofis Belgesi",icon:"store",color:"#ec4899"},genel:{label:"Genel Belge",icon:"folder",color:"#6b7280"},fiyat_listesi:{label:"Fiyat Listesi",icon:"attach_money",color:"#10b981"},kalite:{label:"Kalite Belgesi",icon:"check_circle",color:"#3b82f6"},tedarikci_sozlesme:{label:"Tedariki Szleme",icon:"assignment",color:"#f97316"},diger:{label:"Dier",icon:"description",color:"#6b7280"}},Fu=t=>t?t.startsWith("measure_")?"olcu":t.startsWith("technical_")?"teknik":t.startsWith("servis")||ea[t]?t:"diger":"diger",DE=[{id:"jobs",label:" Belgeleri",icon:"assignment",color:"#3b82f6"},{id:"company",label:"irket Belgeleri",icon:"business",color:"#10b981"},{id:"suppliers",label:"Tedariki Belgeleri",icon:"groups",color:"#f97316"}],qj=t=>{if(!t)return"-";try{return new Date(t).toLocaleDateString("tr-TR",{day:"2-digit",month:"2-digit",year:"numeric"})}catch{return t}},Wu=t=>{if(!t)return"-";const n=["B","KB","MB","GB"],s=Math.floor(Math.log(t)/Math.log(1024));return`${(t/Math.pow(1024,s)).toFixed(1)} ${n[s]}`},RE=()=>{var xe,ie;const[t,n]=c.useState([]),[s,r]=c.useState([]),[a,l]=c.useState([]),[i,o]=c.useState([]),[d,m]=c.useState(!0),[p,g]=c.useState(""),[h,k]=c.useState("jobs"),[x,w]=c.useState(null),[N,f]=c.useState(""),[v,b]=c.useState("all"),[y,S]=c.useState(null),[j,z]=c.useState(!1),[P,$]=c.useState(!1),[B,q]=c.useState(!1),[C,Z]=c.useState(!1),[A,O]=c.useState({file:null,docType:"genel",description:"",jobId:"",supplierId:"",folderId:""}),[_,fe]=c.useState({name:"",icon:"folder",color:"#6b7280"});c.useEffect(()=>{Q()},[]);const Q=async()=>{try{m(!0),g("");const[L,ne,he,M]=await Promise.all([ES().catch(()=>[]),ja().catch(()=>[]),Gs().catch(()=>[]),gj().catch(()=>[])]);n(L),r(ne),l(he),o(M)}catch(L){g(L.message||"Ariv alnamad")}finally{m(!1)}},le=L=>{var he;const ne=s.find(M=>M.id===L);return ne?{title:ne.title,customer:((he=ne.customer)==null?void 0:he.name)||ne.customerName}:null},ye=L=>{const ne=a.find(he=>he.id===L);return ne?ne.name:null},E=c.useMemo(()=>{let L=t;if(h==="jobs"?(L=L.filter(ne=>ne.jobId&&!ne.supplierId&&!ne.folderId),v!=="all"&&(L=L.filter(ne=>Fu(ne.type)===v))):h==="company"?(L=L.filter(ne=>ne.folderId&&!ne.jobId&&!ne.supplierId),x&&(L=L.filter(ne=>ne.folderId===x))):h==="suppliers"&&(L=L.filter(ne=>ne.supplierId)),N){const ne=N.toLowerCase();L=L.filter(he=>{var ke,be,we,W;const M=le(he.jobId),re=ye(he.supplierId);return((ke=he.originalName)==null?void 0:ke.toLowerCase().includes(ne))||((be=he.description)==null?void 0:be.toLowerCase().includes(ne))||((we=M==null?void 0:M.title)==null?void 0:we.toLowerCase().includes(ne))||((W=M==null?void 0:M.customer)==null?void 0:W.toLowerCase().includes(ne))||(re==null?void 0:re.toLowerCase().includes(ne))})}return L},[t,h,x,N,s,a,v]),D=c.useMemo(()=>{const L=i.find(ne=>ne.id==="FOLDER-SIRKET");return(L==null?void 0:L.subfolders)||[]},[i]),G=c.useMemo(()=>{const L=t.filter(M=>M.jobId&&!M.supplierId&&!M.folderId).length,ne=t.filter(M=>M.folderId&&!M.jobId&&!M.supplierId).length,he=t.filter(M=>M.supplierId).length;return{total:t.length,jobDocs:L,companyDocs:ne,supplierDocs:he}},[t]),U=async L=>{if(window.confirm("Bu dkman silmek istediinize emin misiniz?"))try{q(!0),await IS(L),n(ne=>ne.filter(he=>he.id!==L)),S(null)}catch(ne){alert(ne.message||"Silinemedi")}finally{q(!1)}},H=async()=>{if(!A.file){alert("Ltfen bir dosya sein");return}if(!A.jobId&&!A.folderId&&!A.supplierId){alert("Ltfen bir i, klasr veya tedariki sein");return}try{Z(!0);const L=await kl(A.file,A.jobId||null,A.docType,A.description,A.folderId||null,A.supplierId||null);n(ne=>[L,...ne]),z(!1),O({file:null,docType:"genel",description:"",jobId:"",supplierId:"",folderId:""})}catch(L){alert(L.message||"Ykleme baarsz")}finally{Z(!1)}},oe=async()=>{if(!_.name.trim()){alert("Ltfen klasr ad girin");return}try{const L=await s4({name:_.name,icon:_.icon,color:_.color,category:"company",parentId:"FOLDER-SIRKET"}),ne=await gj();o(ne),$(!1),fe({name:"",icon:"folder",color:"#6b7280"})}catch(L){alert(L.message||"Klasr oluturulamad")}},te=L=>L==null?void 0:L.startsWith("image/"),F=L=>L==="application/pdf",J=c.useMemo(()=>h==="jobs"?["olcu","teknik","sozlesme","teklif","montaj","irsaliye","servis_oncesi","servis_sonrasi","diger"]:h==="company"?["arac","makine","ofis","genel"]:["fiyat_listesi","kalite","tedarikci_sozlesme","diger"],[h]);return e.jsxs("div",{className:"container",children:[e.jsx(it,{title:"Dijital Ariv",subtitle:"Tm irket belgelerini tek yerden ynetin",actions:e.jsxs("button",{className:"btn btn-primary",onClick:()=>{O({file:null,docType:h==="jobs"||h==="company"?"genel":"fiyat_listesi",description:"",jobId:"",supplierId:"",folderId:h==="company"&&x?x:""}),z(!0)},children:[e.jsx(pt,{icon:"upload_file",sx:{mr:.5,verticalAlign:"middle",fontSize:18}}),"Belge Ykle"]})}),e.jsx("div",{className:"card",style:{marginBottom:16,padding:0},children:e.jsx("div",{style:{display:"flex",borderBottom:"1px solid var(--color-border)"},children:DE.map(L=>e.jsxs("button",{onClick:()=>{k(L.id),w(null),f("")},style:{flex:1,padding:"16px 20px",background:h===L.id?`${L.color}10`:"transparent",border:"none",borderBottom:h===L.id?`3px solid ${L.color}`:"3px solid transparent",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:8,fontWeight:h===L.id?600:400,color:h===L.id?L.color:"var(--color-text-secondary)",transition:"all 0.2s"},children:[e.jsx(pt,{icon:L.icon,sx:{fontSize:20}}),e.jsx("span",{children:L.label}),e.jsx("span",{className:"badge",style:{background:h===L.id?L.color:"var(--color-bg-secondary)",color:h===L.id?"white":"var(--color-text-muted)",fontSize:11},children:L.id==="jobs"?G.jobDocs:L.id==="company"?G.companyDocs:G.supplierDocs})]},L.id))})}),e.jsxs("div",{style:{display:"flex",gap:16},children:[h==="company"&&e.jsx("div",{style:{width:250,flexShrink:0},children:e.jsxs("div",{className:"card",style:{padding:12},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[e.jsxs("h4",{style:{margin:0,fontSize:14,display:"flex",alignItems:"center",gap:6},children:[e.jsx(pt,{icon:"folder",sx:{fontSize:18}}),"Klasrler"]}),e.jsx("button",{className:"btn btn-sm btn-secondary",onClick:()=>$(!0),title:"Yeni Klasr",style:{padding:"4px 8px",fontSize:12},children:"+ Ekle"})]}),e.jsxs("div",{onClick:()=>w(null),style:{padding:"10px 12px",borderRadius:8,cursor:"pointer",background:x?"transparent":"var(--color-primary-light)",marginBottom:4,display:"flex",alignItems:"center",gap:8,transition:"background 0.2s"},children:[e.jsx(pt,{icon:"folder_open",sx:{fontSize:18}}),e.jsx("span",{style:{fontWeight:x?400:600},children:"Tm Belgeler"})]}),D.map(L=>e.jsxs("div",{onClick:()=>w(L.id),style:{padding:"10px 12px",borderRadius:8,cursor:"pointer",background:x===L.id?`${L.color}15`:"transparent",marginBottom:4,display:"flex",alignItems:"center",gap:8,borderLeft:x===L.id?`3px solid ${L.color}`:"3px solid transparent",transition:"all 0.2s"},children:[e.jsx(pt,{icon:L.icon||"folder",sx:{fontSize:18}}),e.jsx("span",{style:{fontWeight:x===L.id?600:400},children:L.name})]},L.id))]})}),e.jsxs("div",{style:{flex:1},children:[e.jsx("div",{className:"card",style:{marginBottom:16,padding:12},children:e.jsxs("div",{style:{display:"flex",gap:12,alignItems:"center",flexWrap:"wrap"},children:[e.jsx("div",{className:"form-group",style:{flex:1,margin:0,minWidth:200},children:e.jsx("input",{className:"form-input",type:"text",placeholder:"Dosya ad, mteri, tedariki ara...",value:N,onChange:L=>f(L.target.value)})}),h==="jobs"&&e.jsxs(Bu,{size:"small",sx:{minWidth:180},children:[e.jsx($u,{children:"Kategori"}),e.jsxs(sc,{value:v,onChange:L=>b(L.target.value),label:"Kategori",sx:{height:40},children:[e.jsxs(Vn,{value:"all",children:[e.jsx(as,{children:e.jsx(pt,{icon:"folder",sx:{fontSize:20}})}),"Tm Kategoriler"]}),e.jsxs(Vn,{value:"olcu",children:[e.jsx(as,{children:e.jsx(pt,{icon:"rule",sx:{fontSize:20}})}),"l Tasla"]}),e.jsxs(Vn,{value:"teknik",children:[e.jsx(as,{children:e.jsx(pt,{icon:"straighten",sx:{fontSize:20}})}),"Teknik izim"]}),e.jsxs(Vn,{value:"sozlesme",children:[e.jsx(as,{children:e.jsx(pt,{icon:"assignment",sx:{fontSize:20}})}),"Szleme"]}),e.jsxs(Vn,{value:"teklif",children:[e.jsx(as,{children:e.jsx(pt,{icon:"attach_money",sx:{fontSize:20}})}),"Teklif"]}),e.jsxs(Vn,{value:"montaj",children:[e.jsx(as,{children:e.jsx(pt,{icon:"apartment",sx:{fontSize:20}})}),"Montaj"]}),e.jsxs(Vn,{value:"irsaliye",children:[e.jsx(as,{children:e.jsx(pt,{icon:"inventory_2",sx:{fontSize:20}})}),"rsaliye"]}),e.jsxs(Vn,{value:"servis_oncesi",children:[e.jsx(as,{children:e.jsx(pt,{icon:"build",sx:{fontSize:20}})}),"Servis ncesi"]}),e.jsxs(Vn,{value:"servis_sonrasi",children:[e.jsx(as,{children:e.jsx(pt,{icon:"check_circle",sx:{fontSize:20}})}),"Servis Sonras"]}),e.jsxs(Vn,{value:"diger",children:[e.jsx(as,{children:e.jsx(pt,{icon:"description",sx:{fontSize:20}})}),"Dier"]})]})]}),(N||v!=="all")&&e.jsxs("button",{className:"btn btn-secondary btn-small",onClick:()=>{f(""),b("all")},children:[e.jsx(pt,{icon:"close",sx:{fontSize:16,mr:.5,verticalAlign:"middle"}}),"Temizle"]})]})}),d?e.jsx(kt,{text:"Belgeler ykleniyor..."}):p?e.jsxs("div",{className:"card error-card",children:[e.jsx("div",{className:"error-title",children:"Hata"}),e.jsx("div",{className:"error-message",children:p})]}):E.length===0?e.jsx("div",{className:"card",children:e.jsxs("div",{className:"card-body",style:{textAlign:"center",padding:48},children:[e.jsx(pt,{icon:"mail_outline",sx:{fontSize:48,marginBottom:16,display:"block",color:"var(--color-text-muted)"}}),e.jsx("h3",{style:{margin:"0 0 8px 0"},children:"Belge Bulunamad"}),e.jsxs("p",{className:"text-muted",children:[h==="jobs"&&"Henz i belgesi yklenmemi.",h==="company"&&"Bu klasrde belge yok.",h==="suppliers"&&"Henz tedariki belgesi yklenmemi."]}),e.jsxs("button",{className:"btn btn-primary",style:{marginTop:16},onClick:()=>z(!0),children:[e.jsx(pt,{icon:"upload_file",sx:{fontSize:18,mr:.5,verticalAlign:"middle"}}),"lk Belgeyi Ykle"]})]})}):e.jsx("div",{className:"card",children:e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{width:40}}),e.jsx("th",{children:"Dosya Ad"}),e.jsx("th",{children:"Kategori"}),h==="jobs"&&e.jsx("th",{children:" / Mteri"}),h==="suppliers"&&e.jsx("th",{children:"Tedariki"}),h==="company"&&e.jsx("th",{children:"Klasr"}),e.jsx("th",{children:"Boyut"}),e.jsx("th",{children:"Tarih"}),e.jsx("th",{style:{width:120},children:"lemler"})]})}),e.jsx("tbody",{children:E.map(L=>{const ne=Fu(L.type),he=ea[ne]||ea.diger,M=le(L.jobId),re=ye(L.supplierId),ke=D.find(be=>be.id===L.folderId);return e.jsxs("tr",{style:{cursor:"pointer"},onClick:()=>S(L),children:[e.jsx("td",{children:e.jsx(pt,{icon:he.icon,sx:{fontSize:20}})}),e.jsxs("td",{children:[e.jsx("strong",{children:L.originalName}),L.description&&e.jsx("div",{className:"text-muted",style:{fontSize:12},children:L.description})]}),e.jsx("td",{children:e.jsx("span",{className:"badge",style:{background:`${he.color}20`,color:he.color},children:he.label})}),h==="jobs"&&e.jsx("td",{children:M?e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{fontWeight:500},children:M.title}),e.jsx("div",{className:"text-muted",style:{fontSize:12},children:M.customer})]}):"-"}),h==="suppliers"&&e.jsx("td",{children:re||"-"}),h==="company"&&e.jsx("td",{children:ke?e.jsxs("span",{style:{display:"flex",alignItems:"center",gap:4},children:[e.jsx(pt,{icon:ke.icon||"folder",sx:{fontSize:18}}),ke.name]}):"-"}),e.jsx("td",{className:"text-muted",children:Wu(L.size)}),e.jsx("td",{children:qj(L.uploadedAt)}),e.jsx("td",{onClick:be=>be.stopPropagation(),children:e.jsxs("div",{style:{display:"flex",gap:4},children:[e.jsx("a",{href:ls(L.id),target:"_blank",rel:"noopener noreferrer",className:"btn btn-primary btn-small",title:"ndir",children:e.jsx(pt,{icon:"download",sx:{fontSize:18}})}),e.jsx("button",{className:"btn btn-secondary btn-small",onClick:()=>S(L),title:"nizle",children:e.jsx(pt,{icon:"visibility",sx:{fontSize:18}})}),e.jsx("button",{className:"btn btn-danger btn-small",onClick:()=>U(L.id),title:"Sil",children:e.jsx(pt,{icon:"delete",sx:{fontSize:18}})})]})})]},L.id)})})]})})}),!d&&E.length>0&&e.jsx("div",{style:{marginTop:12,textAlign:"right"},children:e.jsxs("span",{className:"text-muted",style:{fontSize:12},children:[E.length," belge gsteriliyor"]})})]})]}),e.jsx(qe,{isOpen:!!y,onClose:()=>S(null),title:(y==null?void 0:y.originalName)||"Belge nizleme",size:"lg",children:y&&e.jsxs("div",{children:[e.jsxs("div",{className:"grid grid-4",style:{gap:16,marginBottom:16},children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-muted",style:{fontSize:12},children:"Kategori"}),e.jsx("div",{style:{fontWeight:600,display:"flex",alignItems:"center",gap:6},children:(()=>{const L=Fu(y.type),ne=ea[L]||ea.diger;return e.jsxs(e.Fragment,{children:[e.jsx(pt,{icon:ne.icon,sx:{fontSize:20}}),ne.label]})})()})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-muted",style:{fontSize:12},children:"Boyut"}),e.jsx("div",{style:{fontWeight:600},children:Wu(y.size)})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-muted",style:{fontSize:12},children:"Yklenme Tarihi"}),e.jsx("div",{style:{fontWeight:600},children:qj(y.uploadedAt)})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-muted",style:{fontSize:12},children:"Referans"}),e.jsxs("div",{style:{fontWeight:600},children:[y.jobId&&((xe=le(y.jobId))==null?void 0:xe.title),y.supplierId&&ye(y.supplierId),y.folderId&&((ie=D.find(L=>L.id===y.folderId))==null?void 0:ie.name)]})]})]}),y.description&&e.jsxs("div",{style:{marginBottom:16,padding:12,background:"var(--color-bg-secondary)",borderRadius:8},children:[e.jsx("div",{className:"text-muted",style:{fontSize:12,marginBottom:4},children:"Aklama"}),e.jsx("div",{children:y.description})]}),e.jsx("div",{style:{border:"1px solid var(--color-border)",borderRadius:8,overflow:"hidden",minHeight:300},children:te(y.mimeType)?e.jsx("img",{src:ls(y.id),alt:y.originalName,style:{width:"100%",height:"auto",display:"block"}}):F(y.mimeType)?e.jsx("iframe",{src:ls(y.id),title:y.originalName,style:{width:"100%",height:500,border:"none"}}):e.jsxs("div",{style:{padding:48,textAlign:"center"},children:[e.jsx(pt,{icon:"description",sx:{fontSize:64,marginBottom:16,display:"block",margin:"0 auto",color:"var(--color-text-muted)"}}),e.jsx("h3",{style:{margin:"0 0 8px 0"},children:"nizleme Mevcut Deil"}),e.jsx("p",{className:"text-muted",children:"Bu dosya tr iin nizleme desteklenmiyor."})]})}),e.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:8,marginTop:16,paddingTop:16,borderTop:"1px solid var(--color-border)"},children:[e.jsx("button",{className:"btn btn-secondary",onClick:()=>S(null),children:"Kapat"}),e.jsxs("a",{href:ls(y.id),target:"_blank",rel:"noopener noreferrer",className:"btn btn-primary",children:[e.jsx(pt,{icon:"download",sx:{fontSize:18,mr:.5,verticalAlign:"middle"}}),"ndir"]}),e.jsxs("button",{className:"btn btn-danger",onClick:()=>U(y.id),disabled:B,children:[e.jsx(pt,{icon:"delete",sx:{fontSize:18,mr:.5,verticalAlign:"middle"}}),"Sil"]})]})]})}),e.jsx(qe,{isOpen:j,onClose:()=>z(!1),title:e.jsxs("span",{style:{display:"flex",alignItems:"center",gap:8},children:[e.jsx(pt,{icon:"upload_file",sx:{fontSize:24}}),"Belge Ykle"]}),size:"md",children:e.jsxs("div",{style:{padding:8},children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Dosya *"}),e.jsx("input",{type:"file",className:"form-input",accept:".pdf,.png,.jpg,.jpeg,.doc,.docx,.xls,.xlsx,.dwg,.dxf,.zip,.rar",onChange:L=>O(ne=>{var he;return{...ne,file:((he=L.target.files)==null?void 0:he[0])||null}})}),A.file&&e.jsxs("div",{className:"text-muted",style:{fontSize:12,marginTop:4},children:[A.file.name," (",Wu(A.file.size),")"]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Belge Tr *"}),e.jsxs(Bu,{fullWidth:!0,size:"small",children:[e.jsx($u,{children:"Belge Tr"}),e.jsx(sc,{value:A.docType,onChange:L=>O(ne=>({...ne,docType:L.target.value})),label:"Belge Tr",children:J.map(L=>{const ne=ea[L]||ea.diger;return e.jsxs(Vn,{value:L,children:[e.jsx(as,{children:e.jsx(pt,{icon:ne.icon,sx:{fontSize:20}})}),ne.label]},L)})})]})]}),h==="jobs"&&e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:" *"}),e.jsxs("select",{className:"form-select",value:A.jobId,onChange:L=>O(ne=>({...ne,jobId:L.target.value})),children:[e.jsx("option",{value:"",children:"--  Sein --"}),s.map(L=>{var ne;return e.jsxs("option",{value:L.id,children:[L.title," - ",((ne=L.customer)==null?void 0:ne.name)||L.customerName]},L.id)})]})]}),h==="company"&&e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Klasr *"}),e.jsxs(Bu,{fullWidth:!0,size:"small",children:[e.jsx($u,{children:"Klasr"}),e.jsxs(sc,{value:A.folderId,onChange:L=>O(ne=>({...ne,folderId:L.target.value})),label:"Klasr",children:[e.jsx(Vn,{value:"",children:"-- Klasr Sein --"}),D.map(L=>e.jsxs(Vn,{value:L.id,children:[e.jsx(as,{children:e.jsx(pt,{icon:L.icon||"folder",sx:{fontSize:20}})}),L.name]},L.id))]})]})]}),h==="suppliers"&&e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Tedariki *"}),e.jsxs("select",{className:"form-select",value:A.supplierId,onChange:L=>O(ne=>({...ne,supplierId:L.target.value})),children:[e.jsx("option",{value:"",children:"-- Tedariki Sein --"}),a.map(L=>e.jsx("option",{value:L.id,children:L.name},L.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Aklama (Opsiyonel)"}),e.jsx("textarea",{className:"form-input",placeholder:"Belge hakknda ksa aklama...",value:A.description,onChange:L=>O(ne=>({...ne,description:L.target.value})),rows:2})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:8,marginTop:20,paddingTop:16,borderTop:"1px solid var(--color-border)"},children:[e.jsx("button",{className:"btn btn-secondary",onClick:()=>z(!1),disabled:C,children:"ptal"}),e.jsx("button",{className:"btn btn-primary",onClick:H,disabled:C||!A.file,children:C?"Ykleniyor...":e.jsxs(e.Fragment,{children:[e.jsx(pt,{icon:"upload_file",sx:{fontSize:18,mr:.5,verticalAlign:"middle"}}),"Ykle"]})})]})]})}),e.jsx(qe,{isOpen:P,onClose:()=>$(!1),title:e.jsxs("span",{style:{display:"flex",alignItems:"center",gap:8},children:[e.jsx(pt,{icon:"folder",sx:{fontSize:24}}),"Yeni Klasr Olutur"]}),size:"sm",children:e.jsxs("div",{style:{padding:8},children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Klasr Ad *"}),e.jsx("input",{type:"text",className:"form-input",placeholder:"rn: Szlemeler",value:_.name,onChange:L=>fe(ne=>({...ne,name:L.target.value}))})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"kon"}),e.jsx("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:["folder","folder_open","folder_special","assignment","description","drive_eta","precision_manufacturing","store","receipt","bar_chart"].map(L=>e.jsx("button",{type:"button",onClick:()=>fe(ne=>({...ne,icon:L})),style:{padding:"8px 12px",border:_.icon===L?"2px solid var(--color-primary)":"1px solid var(--color-border)",borderRadius:8,background:_.icon===L?"var(--color-primary-light)":"transparent",cursor:"pointer"},children:e.jsx(pt,{icon:L,sx:{fontSize:20}})},L))})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Renk"}),e.jsx("div",{style:{display:"flex",gap:8},children:["#3b82f6","#10b981","#f59e0b","#8b5cf6","#ec4899","#f97316","#6b7280"].map(L=>e.jsx("button",{type:"button",onClick:()=>fe(ne=>({...ne,color:L})),style:{width:32,height:32,borderRadius:"50%",background:L,border:_.color===L?"3px solid #1f2937":"none",cursor:"pointer"}},L))})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:8,marginTop:20,paddingTop:16,borderTop:"1px solid var(--color-border)"},children:[e.jsx("button",{className:"btn btn-secondary",onClick:()=>$(!1),children:"ptal"}),e.jsxs("button",{className:"btn btn-primary",onClick:oe,disabled:!_.name.trim(),children:[e.jsx(pt,{icon:"check_circle",sx:{fontSize:18,mr:.5,verticalAlign:"middle"}}),"Olutur"]})]})]})})]})},ua=({value:t="",onChange:n,onSelect:s,options:r=[],onSearch:a,placeholder:l="Ara...",displayKey:i="name",valueKey:o="id",renderOption:d,allowCreate:m=!1,createLabel:p="Yeni ekle",onCreate:g,disabled:h=!1,required:k=!1,error:x="",label:w="",className:N="",inputClassName:f="",debounceMs:v=200,minChars:b=1,maxResults:y=10,autoFocus:S=!1,tabIndex:j=0})=>{const[z,P]=c.useState(t),[$,B]=c.useState(!1),[q,C]=c.useState(-1),[Z,A]=c.useState([]),[O,_]=c.useState(!1),fe=c.useRef(null),Q=c.useRef(null),le=c.useRef(null);c.useEffect(()=>{P(t)},[t]);const ye=c.useCallback(async oe=>{if(!oe||oe.length<b){A([]),B(!1);return}_(!0);try{let te;if(a)te=await a(oe);else{const F=oe.toLowerCase();te=r.filter(J=>{const xe=typeof J=="string"?J:J[i]||"",ie=typeof J=="string"?J:String(J[o]||"");return xe.toLowerCase().includes(F)||ie.toLowerCase().includes(F)})}A(te.slice(0,y)),B(te.length>0||m&&oe.length>0),C(-1)}catch(te){console.error("Autocomplete search error:",te),A([])}finally{_(!1)}},[r,a,i,o,b,y,m]),E=oe=>{const te=oe.target.value;P(te),n==null||n(te),le.current&&clearTimeout(le.current),le.current=setTimeout(()=>{ye(te)},v)},D=(oe,te=!1)=>{const F=typeof oe=="string"?oe:oe[i]||"",J=typeof oe=="string"?oe:oe[o]||"";if(P(J||F),B(!1),C(-1),n==null||n(J||F),s==null||s(oe,J),te&&fe.current){const xe=fe.current.closest("form");if(xe){const ie=Array.from(xe.querySelectorAll("input, select, textarea, button")),L=ie.indexOf(fe.current);L>=0&&L<ie.length-1&&setTimeout(()=>{var ne;return(ne=ie[L+1])==null?void 0:ne.focus()},10)}}},G=()=>{g&&z&&(g(z),B(!1))},U=oe=>{if(!(!$&&oe.key!=="ArrowDown"&&oe.key!=="Enter"))switch(oe.key){case"ArrowDown":if(oe.preventDefault(),!$&&z.length>=b)ye(z);else{const te=m?Z.length:Z.length-1;C(F=>Math.min(F+1,te))}break;case"ArrowUp":oe.preventDefault(),C(te=>Math.max(te-1,-1));break;case"Enter":oe.preventDefault(),q>=0&&q<Z.length?D(Z[q]):q===Z.length&&m?G():Z.length===1&&D(Z[0]);break;case"Tab":$&&Z.length>0?q>=0&&q<Z.length?D(Z[q],!0):Z.length===1?D(Z[0],!0):q===Z.length&&m&&G():B(!1);break;case"Escape":B(!1),C(-1);break}};c.useEffect(()=>{const oe=te=>{fe.current&&!fe.current.contains(te.target)&&Q.current&&!Q.current.contains(te.target)&&B(!1)};return document.addEventListener("mousedown",oe),()=>document.removeEventListener("mousedown",oe)},[]),c.useEffect(()=>{if(Q.current&&q>=0){const oe=Q.current.querySelectorAll(".autocomplete-item");oe[q]&&oe[q].scrollIntoView({block:"nearest"})}},[q]),c.useEffect(()=>()=>{le.current&&clearTimeout(le.current)},[]);const H=(oe,te)=>{if(d)return d(oe,te);const F=typeof oe=="string"?oe:oe[i]||"",J=typeof oe=="string"?"":oe[o]||"";return e.jsxs("div",{className:"autocomplete-option-content",children:[e.jsx("span",{className:"autocomplete-option-value",children:J}),e.jsx("span",{className:"autocomplete-option-label",children:F})]})};return e.jsxs("div",{className:`autocomplete-container ${N}`,children:[w&&e.jsxs("label",{className:"form-label",children:[w,k&&e.jsx("span",{style:{color:"var(--color-danger)"},children:" *"})]}),e.jsxs("div",{className:"autocomplete-input-wrapper",ref:fe,children:[e.jsx("input",{type:"text",className:`form-input ${f} ${x?"input-error":""}`,value:z,onChange:E,onKeyDown:U,onFocus:()=>{z.length>=b&&ye(z)},placeholder:l,disabled:h,required:k,autoFocus:S,tabIndex:j,autoComplete:"off"}),O&&e.jsx("div",{className:"autocomplete-loading",children:e.jsx("span",{className:"spinner-small"})})]}),$&&e.jsxs("div",{className:"autocomplete-dropdown",ref:Q,children:[Z.length>0?e.jsx(e.Fragment,{children:Z.map((oe,te)=>e.jsx("div",{className:`autocomplete-item ${te===q?"highlighted":""}`,onClick:()=>D(oe),onMouseEnter:()=>C(te),children:H(oe,te)},typeof oe=="string"?oe:oe[o]||te))}):null,m&&z&&e.jsxs("div",{className:`autocomplete-item autocomplete-create ${q===Z.length?"highlighted":""}`,onClick:G,onMouseEnter:()=>C(Z.length),children:[e.jsx("span",{className:"autocomplete-create-icon",children:""}),e.jsxs("span",{children:[p,': "',z,'"']})]})]}),x&&e.jsx("div",{className:"form-error",children:x})]})},AE=[{id:"company",label:"irket Bilgileri",icon:""},{id:"general",label:"Genel Ayarlar",icon:""},{id:"jobRoles",label:" Kollar",icon:""},{id:"glassTypes",label:"Cam Tipleri",icon:""},{id:"issueTypes",label:"Sorun Tipleri",icon:""},{id:"faultSources",label:"Hata Kaynaklar",icon:""},{id:"cancelReasons",label:"ptal Nedenleri",icon:""},{id:"delayReasons",label:"Gecikme Nedenleri",icon:""}],Yj=[{value:"internal",label:" retim",color:"var(--success)"},{value:"external",label:"D Sipari",color:"var(--warning)"}],EE=()=>{const[t,n]=c.useState("company"),[s,r]=c.useState(!0),[a,l]=c.useState(""),[i,o]=c.useState({}),[d,m]=c.useState([]),[p,g]=c.useState([]),[h,k]=c.useState([]),[x,w]=c.useState({name:"",logo:null,logoUrl:"",address:"",city:"",phone:"",phone2:"",email:"",website:"",taxOffice:"",taxNumber:"",iban:""}),[N,f]=c.useState(!1),[v,b]=c.useState(!1),[y,S]=c.useState(null),[j,z]=c.useState({name:"",description:"",productionType:"internal",requiresGlass:!1,defaultGlassSupplier:null,defaultSupplier:null,estimatedDays:5,active:!0,assemblyStages:[]}),[P,$]=c.useState(!1),[B,q]=c.useState({name:"",code:""}),[C,Z]=c.useState([]),[A,O]=c.useState([]),[_,fe]=c.useState([]),[Q,le]=c.useState([]),[ye,E]=c.useState(!1),[D,G]=c.useState(""),[U,H]=c.useState(null),[oe,te]=c.useState({name:"",icon:""}),[F,J]=c.useState(!1);c.useEffect(()=>{xe()},[]);const xe=async()=>{try{r(!0),l("");const[W,V,I,ce,ue,De,Re,se]=await Promise.all([Ji(),ba(),Yh(),Gs(),_S(),FS(),WS(),E4()]);o(W),m(V||[]),g(I||[]),k(ce||[]),Z(ue||[]),O(De||[]),fe(Re||[]),le(se||[]),W.company&&w(Se=>({...Se,...W.company}))}catch(W){l(W.message||"Ayarlar alnamad")}finally{r(!1)}},ie=(W=null)=>{W?(S(W),z({name:W.name||"",description:W.description||"",productionType:W.productionType||"internal",requiresGlass:W.requiresGlass||!1,defaultGlassSupplier:W.defaultGlassSupplier||null,defaultSupplier:W.defaultSupplier||null,estimatedDays:W.estimatedDays||5,active:W.active!==!1,assemblyStages:W.assemblyStages||[]})):(S(null),z({name:"",description:"",productionType:"internal",requiresGlass:!1,defaultGlassSupplier:null,defaultSupplier:null,estimatedDays:5,active:!0,assemblyStages:[]})),b(!0)},L=async()=>{if(!j.name.trim()){alert(" kolu ad gerekli");return}try{J(!0),y?await v4(y.id,j):await x4(j),await xe(),b(!1)}catch(W){alert(W.message)}finally{J(!1)}},ne=async W=>{if(confirm("Bu i kolunu pasif yapmak istediinize emin misiniz?"))try{J(!0),await j4(W),await xe()}catch(V){alert(V.message)}finally{J(!1)}},he=async()=>{if(!B.name.trim()||!B.code.trim()){alert("Cam ad ve kodu gerekli");return}try{J(!0),await b4(B),await xe(),$(!1),q({name:"",code:""})}catch(W){alert(W.message)}finally{J(!1)}},M=async W=>{if(confirm("Bu cam tipini silmek istediinize emin misiniz?"))try{J(!0),await S4(W),await xe()}catch(V){alert(V.message)}finally{J(!1)}},re=(W,V=null)=>{G(W),H(V),te({name:(V==null?void 0:V.name)||"",icon:(V==null?void 0:V.icon)||""}),E(!0)},ke=W=>{switch(W){case"issueTypes":return"Sorun Tipi";case"faultSources":return"Hata Kayna";case"cancelReasons":return"ptal Nedeni";case"delayReasons":return"Gecikme Nedeni";default:return"Ayar"}},be=async()=>{if(!oe.name.trim()){alert("sim gerekli");return}try{J(!0);const W={name:oe.name,icon:oe.icon||null};if(U)switch(D){case"issueTypes":await k4(U.id,W);break;case"faultSources":await T4(U.id,W);break;case"cancelReasons":await R4(U.id,W);break;case"delayReasons":await M4(U.id,W);break}else switch(D){case"issueTypes":await N4(W);break;case"faultSources":await w4(W);break;case"cancelReasons":await D4(W);break;case"delayReasons":await I4(W);break}await xe(),E(!1)}catch(W){alert(W.message)}finally{J(!1)}},we=async(W,V)=>{if(confirm("Bu kayd silmek istediinize emin misiniz?"))try{switch(J(!0),W){case"issueTypes":await C4(V);break;case"faultSources":await z4(V);break;case"cancelReasons":await A4(V);break;case"delayReasons":await P4(V);break}await xe()}catch(I){alert(I.message)}finally{J(!1)}};return s?e.jsxs("div",{children:[e.jsx(it,{title:"Ayarlar",subtitle:"Sistem ve i kolu yaplandrmas"}),e.jsx("div",{className:"card subtle-card",children:"Ayarlar ykleniyor..."})]}):a?e.jsxs("div",{children:[e.jsx(it,{title:"Ayarlar",subtitle:"Sistem ve i kolu yaplandrmas"}),e.jsxs("div",{className:"card error-card",children:[e.jsx("div",{className:"error-title",children:"Ayarlar alnamad"}),e.jsx("div",{className:"error-message",children:a})]})]}):e.jsxs("div",{children:[e.jsx(it,{title:"Ayarlar",subtitle:"Sistem ve i kolu yaplandrmas"}),e.jsx("div",{className:"card",style:{marginBottom:"1.5rem"},children:e.jsx("div",{style:{display:"flex",gap:"0.5rem",padding:"0.5rem"},children:AE.map(W=>e.jsxs("button",{className:`btn ${t===W.id?"btn-primary":"btn-ghost"}`,onClick:()=>n(W.id),style:{flex:1},children:[e.jsx("span",{style:{marginRight:"0.5rem"},children:W.icon}),W.label]},W.id))})}),t==="company"&&e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsx("h3",{className:"card-title",children:" irket Bilgileri"}),e.jsx("p",{className:"text-muted",style:{margin:0,fontSize:12},children:"PDF ve belgelerde kullanlacak irket bilgileri"})]}),e.jsx("button",{className:"btn btn-primary",onClick:async()=>{try{f(!0),await y4(x),alert("irket bilgileri kaydedildi!")}catch(W){alert("Hata: "+(W.message||"Kaydedilemedi"))}finally{f(!1)}},disabled:N,children:N?"Kaydediliyor...":" Kaydet"})]}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1.5rem"},children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[e.jsxs("div",{className:"form-group",style:{margin:0},children:[e.jsx("label",{className:"form-label",children:"irket Ad *"}),e.jsx("input",{type:"text",className:"form-input",value:x.name||"",onChange:W=>w(V=>({...V,name:W.target.value})),placeholder:"ABC PVC Sistemleri Ltd. ti."})]}),e.jsxs("div",{className:"form-group",style:{margin:0},children:[e.jsx("label",{className:"form-label",children:"Adres"}),e.jsx("textarea",{className:"form-input",value:x.address||"",onChange:W=>w(V=>({...V,address:W.target.value})),placeholder:"Sanayi Mahallesi, 123. Sokak No:45",rows:2})]}),e.jsxs("div",{className:"form-group",style:{margin:0},children:[e.jsx("label",{className:"form-label",children:"ehir / le"}),e.jsx("input",{type:"text",className:"form-input",value:x.city||"",onChange:W=>w(V=>({...V,city:W.target.value})),placeholder:"stanbul / mraniye"})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[e.jsxs("div",{className:"form-group",style:{margin:0},children:[e.jsx("label",{className:"form-label",children:"Telefon"}),e.jsx("input",{type:"text",className:"form-input",value:x.phone||"",onChange:W=>w(V=>({...V,phone:W.target.value})),placeholder:"+90 212 555 00 00"})]}),e.jsxs("div",{className:"form-group",style:{margin:0},children:[e.jsx("label",{className:"form-label",children:"Telefon 2"}),e.jsx("input",{type:"text",className:"form-input",value:x.phone2||"",onChange:W=>w(V=>({...V,phone2:W.target.value})),placeholder:"+90 532 555 00 00"})]})]})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[e.jsxs("div",{className:"form-group",style:{margin:0},children:[e.jsx("label",{className:"form-label",children:"E-posta"}),e.jsx("input",{type:"email",className:"form-input",value:x.email||"",onChange:W=>w(V=>({...V,email:W.target.value})),placeholder:"info@abcpvc.com"})]}),e.jsxs("div",{className:"form-group",style:{margin:0},children:[e.jsx("label",{className:"form-label",children:"Web Sitesi"}),e.jsx("input",{type:"text",className:"form-input",value:x.website||"",onChange:W=>w(V=>({...V,website:W.target.value})),placeholder:"www.abcpvc.com"})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[e.jsxs("div",{className:"form-group",style:{margin:0},children:[e.jsx("label",{className:"form-label",children:"Vergi Dairesi"}),e.jsx("input",{type:"text",className:"form-input",value:x.taxOffice||"",onChange:W=>w(V=>({...V,taxOffice:W.target.value})),placeholder:"mraniye"})]}),e.jsxs("div",{className:"form-group",style:{margin:0},children:[e.jsx("label",{className:"form-label",children:"Vergi No"}),e.jsx("input",{type:"text",className:"form-input",value:x.taxNumber||"",onChange:W=>w(V=>({...V,taxNumber:W.target.value})),placeholder:"1234567890"})]})]}),e.jsxs("div",{className:"form-group",style:{margin:0},children:[e.jsx("label",{className:"form-label",children:"IBAN"}),e.jsx("input",{type:"text",className:"form-input",value:x.iban||"",onChange:W=>w(V=>({...V,iban:W.target.value})),placeholder:"TR00 0000 0000 0000 0000 0000 00"})]}),e.jsxs("div",{className:"form-group",style:{margin:0},children:[e.jsx("label",{className:"form-label",children:"Logo"}),e.jsx("div",{style:{border:"2px dashed var(--color-border)",borderRadius:8,padding:16,textAlign:"center",background:"var(--color-bg-secondary)"},children:x.logoUrl?e.jsxs("div",{children:[e.jsx("img",{src:x.logoUrl,alt:"Logo",style:{maxWidth:150,maxHeight:80,marginBottom:8}}),e.jsx("br",{}),e.jsx("button",{className:"btn btn-danger btn-small",onClick:()=>w(W=>({...W,logoUrl:"",logo:null})),children:"Logoyu Kaldr"})]}):e.jsxs("div",{className:"text-muted",children:[e.jsx("div",{style:{fontSize:32,marginBottom:8},children:""}),e.jsx("div",{style:{fontSize:12},children:"Logo ykleme (yaknda)"})]})})]})]})]})})]}),t==="general"&&e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Genel Ayarlar"})}),e.jsx("div",{className:"card-body",children:e.jsx("div",{className:"metric-list",children:(i.general||[]).map(W=>e.jsxs("div",{className:"metric-row",children:[e.jsxs("div",{children:[e.jsx("div",{className:"metric-label",children:W.label}),e.jsx("div",{className:"page-subtitle",children:W.description})]}),e.jsx("span",{className:`badge badge-${W.value?"success":"secondary"}`,children:W.value?"Ak":"Kapal"})]},W.id))})})]}),t==="jobRoles"&&e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsx("h3",{className:"card-title",children:" Kollar Yaplandrmas"}),e.jsx("p",{className:"page-subtitle",children:"Her i kolunun retim tipini ve bamllklarn belirleyin"})]}),e.jsx("button",{className:"btn btn-primary",onClick:()=>ie(),children:"+ Yeni  Kolu"})]}),e.jsx("div",{className:"card-body",children:e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:" Kolu"}),e.jsx("th",{children:"retim Tipi"}),e.jsx("th",{children:"Cam Gerekli"}),e.jsx("th",{children:"Varsaylan Tedariki"}),e.jsx("th",{children:"Tahmini Sre"}),e.jsx("th",{children:"Durum"}),e.jsx("th",{style:{width:"100px"},children:"lem"})]})}),e.jsxs("tbody",{children:[d.map(W=>{const V=Yj.find(ce=>ce.value===W.productionType),I=h.find(ce=>ce.id===(W.defaultSupplier||W.defaultGlassSupplier));return e.jsxs("tr",{style:{opacity:W.active===!1?.5:1},children:[e.jsxs("td",{children:[e.jsx("div",{style:{fontWeight:600},children:W.name}),e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)"},children:W.description})]}),e.jsx("td",{children:e.jsx("span",{className:"badge",style:{background:(V==null?void 0:V.color)||"var(--bg-tertiary)",color:"#fff"},children:(V==null?void 0:V.label)||W.productionType})}),e.jsx("td",{children:W.requiresGlass?e.jsx("span",{className:"badge badge-info",children:" Evet"}):e.jsx("span",{className:"badge badge-secondary",children:"Hayr"})}),e.jsx("td",{children:I?I.name:e.jsx("span",{style:{color:"var(--text-muted)"},children:""})}),e.jsxs("td",{children:[W.estimatedDays," gn"]}),e.jsx("td",{children:e.jsx("span",{className:`badge badge-${W.active!==!1?"success":"secondary"}`,children:W.active!==!1?"Aktif":"Pasif"})}),e.jsx("td",{children:e.jsxs("div",{style:{display:"flex",gap:"0.25rem"},children:[e.jsx("button",{className:"btn btn-sm btn-ghost",onClick:()=>ie(W),title:"Dzenle",children:""}),W.active!==!1&&e.jsx("button",{className:"btn btn-sm btn-ghost",onClick:()=>ne(W.id),title:"Pasif Yap",style:{color:"var(--danger)"},children:""})]})})]},W.id)}),d.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:7,style:{textAlign:"center",padding:"2rem",color:"var(--text-muted)"},children:"Henz i kolu tanmlanmam"})})]})]})})]}),t==="glassTypes"&&e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsx("h3",{className:"card-title",children:"Cam Tipleri"}),e.jsx("p",{className:"page-subtitle",children:"Cam siparilerinde kullanlacak cam tiplerini tanmlayn"})]}),e.jsx("button",{className:"btn btn-primary",onClick:()=>$(!0),children:"+ Yeni Cam Tipi"})]}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(250px, 1fr))",gap:"1rem"},children:[p.map(W=>e.jsx("div",{className:"card",style:{margin:0,background:"var(--bg-secondary)",border:"1px solid var(--border-color)"},children:e.jsx("div",{className:"card-body",style:{padding:"1rem"},children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[e.jsxs("div",{children:[e.jsxs("div",{style:{fontWeight:600,marginBottom:"0.25rem"},children:[" ",W.name]}),e.jsx("div",{className:"badge badge-secondary",children:W.code})]}),e.jsx("button",{className:"btn btn-sm btn-ghost",onClick:()=>M(W.id),style:{color:"var(--danger)"},children:""})]})})},W.id)),p.length===0&&e.jsx("div",{style:{gridColumn:"1 / -1",textAlign:"center",padding:"2rem",color:"var(--text-muted)"},children:"Henz cam tipi tanmlanmam"})]})})]}),t==="issueTypes"&&e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsx("h3",{className:"card-title",children:" Sorun Tipleri"}),e.jsx("p",{className:"page-subtitle",children:"Montaj ve retim sorunlarn kategorize etmek iin kullanlr"})]}),e.jsx("button",{className:"btn btn-primary",onClick:()=>re("issueTypes"),children:"+ Yeni Sorun Tipi"})]}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"0.75rem"},children:[C.map(W=>e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0.75rem 1rem",background:"var(--bg-secondary)",borderRadius:8,border:"1px solid var(--border-color)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("span",{style:{fontSize:"1.25rem"},children:W.icon||""}),e.jsx("span",{style:{fontWeight:500},children:W.name})]}),e.jsxs("div",{style:{display:"flex",gap:"0.25rem"},children:[e.jsx("button",{className:"btn btn-sm btn-ghost",onClick:()=>re("issueTypes",W),title:"Dzenle",children:""}),e.jsx("button",{className:"btn btn-sm btn-ghost",onClick:()=>we("issueTypes",W.id),style:{color:"var(--danger)"},title:"Sil",children:""})]})]},W.id)),C.length===0&&e.jsx("div",{style:{gridColumn:"1 / -1",textAlign:"center",padding:"2rem",color:"var(--text-muted)"},children:"Henz sorun tipi tanmlanmam"})]})})]}),t==="faultSources"&&e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsx("h3",{className:"card-title",children:" Hata Kaynaklar"}),e.jsx("p",{className:"page-subtitle",children:"Sorunlarn kaynan belirlemek iin kullanlr (retim, Tedariki, Ekip vb.)"})]}),e.jsx("button",{className:"btn btn-primary",onClick:()=>re("faultSources"),children:"+ Yeni Hata Kayna"})]}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"0.75rem"},children:[A.map(W=>e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0.75rem 1rem",background:"var(--bg-secondary)",borderRadius:8,border:"1px solid var(--border-color)"},children:[e.jsx("span",{style:{fontWeight:500},children:W.name}),e.jsxs("div",{style:{display:"flex",gap:"0.25rem"},children:[e.jsx("button",{className:"btn btn-sm btn-ghost",onClick:()=>re("faultSources",W),title:"Dzenle",children:""}),e.jsx("button",{className:"btn btn-sm btn-ghost",onClick:()=>we("faultSources",W.id),style:{color:"var(--danger)"},title:"Sil",children:""})]})]},W.id)),A.length===0&&e.jsx("div",{style:{gridColumn:"1 / -1",textAlign:"center",padding:"2rem",color:"var(--text-muted)"},children:"Henz hata kayna tanmlanmam"})]})})]}),t==="cancelReasons"&&e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsx("h3",{className:"card-title",children:" ptal Nedenleri"}),e.jsx("p",{className:"page-subtitle",children:" iptal edildiinde neden seimi iin kullanlr"})]}),e.jsx("button",{className:"btn btn-primary",onClick:()=>re("cancelReasons"),children:"+ Yeni ptal Nedeni"})]}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"0.75rem"},children:[_.map(W=>e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0.75rem 1rem",background:"var(--bg-secondary)",borderRadius:8,border:"1px solid var(--border-color)"},children:[e.jsx("span",{style:{fontWeight:500},children:W.name}),e.jsxs("div",{style:{display:"flex",gap:"0.25rem"},children:[e.jsx("button",{className:"btn btn-sm btn-ghost",onClick:()=>re("cancelReasons",W),title:"Dzenle",children:""}),e.jsx("button",{className:"btn btn-sm btn-ghost",onClick:()=>we("cancelReasons",W.id),style:{color:"var(--danger)"},title:"Sil",children:""})]})]},W.id)),_.length===0&&e.jsx("div",{style:{gridColumn:"1 / -1",textAlign:"center",padding:"2rem",color:"var(--text-muted)"},children:"Henz iptal nedeni tanmlanmam"})]})})]}),t==="delayReasons"&&e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsx("h3",{className:"card-title",children:" Gecikme Nedenleri"}),e.jsx("p",{className:"page-subtitle",children:"retim veya montaj geciktiinde neden seimi iin kullanlr"})]}),e.jsx("button",{className:"btn btn-primary",onClick:()=>re("delayReasons"),children:"+ Yeni Gecikme Nedeni"})]}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"0.75rem"},children:[Q.map(W=>e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0.75rem 1rem",background:"var(--bg-secondary)",borderRadius:8,border:"1px solid var(--border-color)"},children:[e.jsx("span",{style:{fontWeight:500},children:W.name}),e.jsxs("div",{style:{display:"flex",gap:"0.25rem"},children:[e.jsx("button",{className:"btn btn-sm btn-ghost",onClick:()=>re("delayReasons",W),title:"Dzenle",children:""}),e.jsx("button",{className:"btn btn-sm btn-ghost",onClick:()=>we("delayReasons",W.id),style:{color:"var(--danger)"},title:"Sil",children:""})]})]},W.id)),Q.length===0&&e.jsx("div",{style:{gridColumn:"1 / -1",textAlign:"center",padding:"2rem",color:"var(--text-muted)"},children:"Henz gecikme nedeni tanmlanmam"})]})})]}),e.jsxs(qe,{isOpen:v,onClose:()=>b(!1),title:y?" Kolu Dzenle":"Yeni  Kolu",size:"medium",children:[e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",style:{gridColumn:"1 / -1"},children:[e.jsx("label",{className:"form-label",children:" Kolu Ad *"}),e.jsx("input",{type:"text",className:"form-input",value:j.name,onChange:W=>z({...j,name:W.target.value}),placeholder:"rn: PVC Dorama"})]}),e.jsxs("div",{className:"form-group",style:{gridColumn:"1 / -1"},children:[e.jsx("label",{className:"form-label",children:"Aklama"}),e.jsx("input",{type:"text",className:"form-input",value:j.description,onChange:W=>z({...j,description:W.target.value}),placeholder:"Ksa aklama"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"retim Tipi *"}),e.jsx("select",{className:"form-select",value:j.productionType,onChange:W=>z({...j,productionType:W.target.value}),children:Yj.map(W=>e.jsx("option",{value:W.value,children:W.label},W.value))})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Tahmini retim Sresi (gn)"}),e.jsx("input",{type:"number",className:"form-input",value:j.estimatedDays,onChange:W=>z({...j,estimatedDays:parseInt(W.target.value)||5}),min:1})]}),j.productionType==="internal"&&e.jsx("div",{className:"form-group",style:{gridColumn:"1 / -1"},children:e.jsxs("label",{className:"form-label",style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("input",{type:"checkbox",checked:j.requiresGlass,onChange:W=>z({...j,requiresGlass:W.target.checked})}),"Cam bamll var (Dardan cam siparii gerekir)"]})}),j.productionType==="internal"&&j.requiresGlass&&e.jsxs("div",{className:"form-group",style:{gridColumn:"1 / -1"},children:[e.jsx("label",{className:"form-label",children:"Varsaylan Cam Tedarikisi"}),e.jsx(ua,{value:j.defaultGlassSupplier||"",onChange:W=>z({...j,defaultGlassSupplier:W}),options:h,displayKey:"name",valueKey:"id",placeholder:"Tedariki ara...",onSelect:W=>z({...j,defaultGlassSupplier:(W==null?void 0:W.id)||null})})]}),j.productionType==="external"&&e.jsxs("div",{className:"form-group",style:{gridColumn:"1 / -1"},children:[e.jsx("label",{className:"form-label",children:"Varsaylan Tedariki"}),e.jsx(ua,{value:j.defaultSupplier||"",onChange:W=>z({...j,defaultSupplier:W}),options:h,displayKey:"name",valueKey:"id",placeholder:"Tedariki ara...",onSelect:W=>z({...j,defaultSupplier:(W==null?void 0:W.id)||null})})]}),e.jsx("div",{className:"form-group",style:{gridColumn:"1 / -1"},children:e.jsxs("label",{className:"form-label",style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("input",{type:"checkbox",checked:j.active,onChange:W=>z({...j,active:W.target.checked})}),"Aktif ( olutururken seilebilir)"]})}),e.jsxs("div",{className:"form-group",style:{gridColumn:"1 / -1",marginTop:"1rem"},children:[e.jsxs("label",{className:"form-label",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("span",{children:" Montaj Aamalar"}),e.jsx("button",{type:"button",className:"btn btn-sm btn-secondary",onClick:()=>z({...j,assemblyStages:[...j.assemblyStages,{id:null,name:"",order:j.assemblyStages.length+1}]}),children:"+ Aama Ekle"})]}),j.assemblyStages.length===0?e.jsx("div",{style:{padding:"1rem",background:"var(--bg-secondary)",borderRadius:8,textAlign:"center",color:"var(--text-muted)",fontSize:"0.85rem"},children:"Henz montaj aamas eklenmedi. Montaj takibi iin aamalar ekleyin."}):e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:j.assemblyStages.map((W,V)=>e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem",background:"var(--bg-secondary)",borderRadius:6},children:[e.jsx("span",{style:{width:24,height:24,display:"flex",alignItems:"center",justifyContent:"center",background:"var(--primary)",color:"#fff",borderRadius:"50%",fontSize:"0.75rem",fontWeight:600},children:V+1}),e.jsx("input",{type:"text",className:"form-input",value:W.name,onChange:I=>{const ce=[...j.assemblyStages];ce[V]={...ce[V],name:I.target.value},z({...j,assemblyStages:ce})},placeholder:"Aama ad (rn: PVC Montaj)",style:{flex:1}}),e.jsx("button",{type:"button",className:"btn btn-sm btn-ghost",disabled:V===0,onClick:()=>{const I=[...j.assemblyStages];[I[V-1],I[V]]=[I[V],I[V-1]],I.forEach((ce,ue)=>ce.order=ue+1),z({...j,assemblyStages:I})},title:"Yukar Ta",children:""}),e.jsx("button",{type:"button",className:"btn btn-sm btn-ghost",disabled:V===j.assemblyStages.length-1,onClick:()=>{const I=[...j.assemblyStages];[I[V],I[V+1]]=[I[V+1],I[V]],I.forEach((ce,ue)=>ce.order=ue+1),z({...j,assemblyStages:I})},title:"Aa Ta",children:""}),e.jsx("button",{type:"button",className:"btn btn-sm btn-ghost",style:{color:"var(--danger)"},onClick:()=>{const I=j.assemblyStages.filter((ce,ue)=>ue!==V);I.forEach((ce,ue)=>ce.order=ue+1),z({...j,assemblyStages:I})},title:"Sil",children:""})]},W.id||V))}),e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)",marginTop:"0.5rem"},children:"Montaj aamalar, i montaja getiinde otomatik olarak grev olarak oluturulur."})]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"0.5rem",marginTop:"1.5rem"},children:[e.jsx("button",{className:"btn btn-ghost",onClick:()=>b(!1),children:"ptal"}),e.jsx("button",{className:"btn btn-primary",onClick:L,disabled:F,children:F?"Kaydediliyor...":"Kaydet"})]})]}),e.jsxs(qe,{isOpen:P,onClose:()=>$(!1),title:"Yeni Cam Tipi",size:"small",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Cam Ad *"}),e.jsx("input",{type:"text",className:"form-input",value:B.name,onChange:W=>q({...B,name:W.target.value}),placeholder:"rn: 4+16+4 Iscam"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Cam Kodu *"}),e.jsx("input",{type:"text",className:"form-input",value:B.code,onChange:W=>q({...B,code:W.target.value}),placeholder:"rn: 4-16-4"})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"0.5rem",marginTop:"1.5rem"},children:[e.jsx("button",{className:"btn btn-ghost",onClick:()=>$(!1),children:"ptal"}),e.jsx("button",{className:"btn btn-primary",onClick:he,disabled:F,children:F?"Kaydediliyor...":"Kaydet"})]})]}),e.jsxs(qe,{isOpen:ye,onClose:()=>E(!1),title:U?`${ke(D)} Dzenle`:`Yeni ${ke(D)}`,size:"small",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"sim *"}),e.jsx("input",{type:"text",className:"form-input",value:oe.name,onChange:W=>te({...oe,name:W.target.value}),placeholder:`${ke(D)} ad`})]}),D==="issueTypes"&&e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"kon (Emoji)"}),e.jsx("input",{type:"text",className:"form-input",value:oe.icon,onChange:W=>te({...oe,icon:W.target.value}),placeholder:"rn:   ",style:{fontSize:"1.25rem"}}),e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)",marginTop:"0.25rem"},children:"Sorun tipini temsil edecek bir emoji sein"})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"0.5rem",marginTop:"1.5rem"},children:[e.jsx("button",{className:"btn btn-ghost",onClick:()=>E(!1),children:"ptal"}),e.jsx("button",{className:"btn btn-primary",onClick:be,disabled:F,children:F?"Kaydediliyor...":"Kaydet"})]})]})]})},sn=({columns:t,rows:n,data:s,getKey:r=i=>i.id||i.key||i.name,onRowClick:a,emptyMessage:l="Kayt bulunamad"})=>{const i=s||n||[];return e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"table",children:[e.jsx("thead",{children:e.jsx("tr",{children:t.map(o=>e.jsx("th",{children:o.label},o.accessor))})}),e.jsx("tbody",{children:i.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:t.length,children:e.jsxs("div",{className:"empty-state",children:[e.jsx("div",{className:"empty-state-icon",children:""}),e.jsx("div",{className:"empty-state-title",children:l}),e.jsx("div",{className:"empty-state-description",children:"Filtreleri deitirerek tekrar deneyin."})]})})}):i.map(o=>e.jsx("tr",{onClick:a?()=>a(o):void 0,style:a?{cursor:"pointer"}:void 0,children:t.map(d=>e.jsx("td",{children:d.render?d.render(o[d.accessor],o):o[d.accessor]},d.accessor))},r(o)))})]})})},IE={KAPALI:{label:"Kapand",tone:"success",icon:""},URETIME_HAZIR:{label:"retime Hazr",tone:"success",icon:""},URETIMDE:{label:"retimde",tone:"primary",icon:""},SONRA_URETILECEK:{label:"Sonra retilecek",tone:"info",icon:""},MONTAJA_HAZIR:{label:"Montaja Hazr",tone:"success",icon:""},MONTAJ_TERMIN:{label:"Montaj Terminli",tone:"primary",icon:""},ANLASMA_TAMAMLANDI:{label:"Anlama Tamam",tone:"success",icon:""},ANLASMA_YAPILIYOR:{label:"Anlama Yaplyor",tone:"primary",icon:""},FIYAT_VERILDI:{label:"Fiyat Verildi",tone:"warning",icon:""},OLCU_ALINDI:{label:"l Alnd",tone:"success",icon:""}},Gj=t=>{const n=IE[t];return n?e.jsxs("span",{className:`badge badge-${n.tone}`,children:[n.icon," ",n.label]}):e.jsx("span",{className:"badge badge-secondary",children:t||"Bilinmiyor"})},ME=()=>{var ye;const[t,n]=c.useState([]),[s,r]=c.useState([]),[a,l]=c.useState([]),[i,o]=c.useState(!0),[d,m]=c.useState(""),[p,g]=c.useState(""),[h,k]=c.useState(!1),[x,w]=c.useState(null),[N,f]=c.useState(null),[v,b]=c.useState(null),[y,S]=c.useState(!1),[j,z]=c.useState(null),[P,$]=c.useState({name:"",segment:"B2C",location:"",contact:"",phone:"",phone2:"",address:""});c.useEffect(()=>{(async()=>{try{o(!0),m("");const[D,G,U]=await Promise.all([_d(),ja(),ES()]);n(D),r(G),l(U)}catch(D){m(D.message||"Veriler alnamad")}finally{o(!1)}})()},[]);const B=E=>s.filter(D=>D.customerId===E&&!D.deleted),q=E=>a.filter(D=>D.jobId===E),C=E=>{var D,G,U;return((D=E==null?void 0:E.offer)==null?void 0:D.total)||((U=(G=E==null?void 0:E.approval)==null?void 0:G.paymentPlan)==null?void 0:U.total)||0},Z=E=>{const D=B(E),G=D.filter(oe=>oe.status==="KAPALI").length,U=D.length-G,H=D.reduce((oe,te)=>oe+C(te),0);return{total:D.length,closed:G,active:U,totalAmount:H}},A=async E=>{E.preventDefault();try{if(S(!0),m(""),j){const D=await A6(j.id,P);n(G=>G.map(U=>U.id===D.id?D:U)),z(null)}else{const D=await qh(P);n(G=>[D,...G])}$({name:"",segment:"B2C",location:"",contact:"",phone:"",phone2:"",address:""}),k(!1)}catch(D){m(D.message||"Mteri kayd baarsz")}finally{S(!1)}},O=E=>{z(E),$({name:E.name||"",segment:E.segment||"B2C",location:E.location||"",contact:E.contact||"",phone:E.phone||"",phone2:E.phone2||"",address:E.address||""}),k(!0)},_=async E=>{try{await E6(E.id),n(D=>D.map(G=>G.id===E.id?{...G,deleted:!0}:G)),b(null),k(!1),z(null)}catch(D){m(D.message||"Silme ilemi baarsz")}},fe=c.useMemo(()=>t.filter(E=>!E.deleted),[t]),Q=c.useMemo(()=>{const E=p.toLowerCase().trim();return E?fe.filter(D=>(D.name||"").toLowerCase().includes(E)||(D.phone||"").includes(E)||(D.location||"").toLowerCase().includes(E)||(D.accountCode||"").toLowerCase().includes(E)):fe},[fe,p]),le=[{label:"Mteri",accessor:"name",render:(E,D)=>e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:600},children:D.name}),D.accountCode&&e.jsxs("div",{className:"text-muted",style:{fontSize:11},children:[" ",D.accountCode]})]})},{label:"Segment",accessor:"segment",render:E=>e.jsx("span",{className:`badge badge-${E==="B2B"?"primary":"secondary"}`,children:E})},{label:"Lokasyon",accessor:"location"},{label:"letiim",accessor:"phone",render:(E,D)=>e.jsxs("div",{style:{fontSize:12},children:[D.phone&&e.jsxs("div",{children:[" ",D.phone]}),D.contact&&e.jsxs("div",{children:[" ",D.contact]})]})},{label:"ler",accessor:"jobs",render:(E,D)=>{const G=Z(D.id);return e.jsxs("div",{style:{fontSize:12},children:[e.jsx("span",{style:{fontWeight:600},children:G.total})," i",G.active>0&&e.jsxs("span",{className:"text-muted",children:[" (",G.active," aktif)"]})]})}}];return e.jsxs("div",{children:[e.jsx(it,{title:"Mteriler",subtitle:"Mteri listesi ve i gemii",actions:e.jsx("button",{className:"btn btn-primary",type:"button",onClick:()=>{z(null),$({name:"",segment:"B2C",location:"",contact:"",phone:"",phone2:"",address:""}),k(!0)},children:"+ Yeni Mteri"})}),e.jsx("div",{className:"card subtle-card",style:{marginBottom:16},children:e.jsxs("div",{style:{display:"flex",gap:12,alignItems:"center"},children:[e.jsx("span",{style:{fontSize:18},children:""}),e.jsx("input",{className:"form-input",placeholder:"Mteri ad, telefon, lokasyon veya cari kod ara...",value:p,onChange:E=>g(E.target.value),style:{flex:1,maxWidth:400}}),p&&e.jsx("button",{className:"btn btn-secondary btn-small",onClick:()=>g(""),children:"Temizle"}),e.jsxs("span",{className:"text-muted",style:{fontSize:12},children:[Q.length," mteri"]})]})}),e.jsx(qe,{open:h,title:j?"Mteri Gncelle":"Yeni Mteri Ekle",size:"medium",onClose:()=>{k(!1),z(null),$({name:"",segment:"B2C",location:"",contact:"",phone:"",phone2:"",address:""})},actions:e.jsxs(e.Fragment,{children:[j&&e.jsx("button",{className:"btn btn-danger",type:"button",onClick:()=>b(j),disabled:y,children:"Sil"}),e.jsx("button",{className:"btn btn-secondary",type:"button",onClick:()=>k(!1),disabled:y,children:"Vazge"}),e.jsx("button",{className:"btn btn-primary",type:"submit",form:"customer-form",disabled:y,children:y?"Kaydediliyor...":j?"Gncelle":"Kaydet"})]}),children:e.jsxs("form",{id:"customer-form",onSubmit:A,children:[e.jsxs("div",{style:{marginBottom:20},children:[e.jsx("h4",{style:{margin:"0 0 12px 0",fontSize:14,color:"var(--color-primary)"},children:" Temel Bilgiler"}),e.jsxs("div",{className:"grid grid-2",style:{gap:12},children:[e.jsxs("div",{className:"form-group",style:{margin:0},children:[e.jsx("label",{className:"form-label",children:"Ad Soyad / Firma Ad *"}),e.jsx("input",{className:"form-input",value:P.name,onChange:E=>$(D=>({...D,name:E.target.value})),required:!0,placeholder:"rn: Ahmet Kaya veya ABC Yap Ltd."})]}),e.jsxs("div",{className:"form-group",style:{margin:0},children:[e.jsx("label",{className:"form-label",children:"Segment"}),e.jsxs("select",{className:"form-select",value:P.segment,onChange:E=>$(D=>({...D,segment:E.target.value})),children:[e.jsx("option",{value:"B2C",children:"B2C (Bireysel)"}),e.jsx("option",{value:"B2B",children:"B2B (Kurumsal)"})]})]})]})]}),e.jsxs("div",{style:{marginBottom:20},children:[e.jsx("h4",{style:{margin:"0 0 12px 0",fontSize:14,color:"var(--color-primary)"},children:" Adres Bilgileri"}),e.jsxs("div",{className:"grid grid-2",style:{gap:12},children:[e.jsxs("div",{className:"form-group",style:{margin:0},children:[e.jsx("label",{className:"form-label",children:"l / le"}),e.jsx("input",{className:"form-input",value:P.location,onChange:E=>$(D=>({...D,location:E.target.value})),placeholder:"rn: Nevehir / Merkez"})]}),e.jsxs("div",{className:"form-group",style:{margin:0,gridColumn:"span 2"},children:[e.jsx("label",{className:"form-label",children:"Ak Adres"}),e.jsx("textarea",{className:"form-input",value:P.address,onChange:E=>$(D=>({...D,address:E.target.value})),placeholder:"Mahalle, sokak, bina no...",rows:2,style:{resize:"vertical"}})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{style:{margin:"0 0 12px 0",fontSize:14,color:"var(--color-primary)"},children:" letiim"}),e.jsxs("div",{className:"grid grid-2",style:{gap:12},children:[e.jsxs("div",{className:"form-group",style:{margin:0},children:[e.jsx("label",{className:"form-label",children:"Telefon 1 (Birincil)"}),e.jsx("input",{className:"form-input",value:P.phone,onChange:E=>$(D=>({...D,phone:E.target.value})),placeholder:"+90 5XX XXX XX XX"})]}),e.jsxs("div",{className:"form-group",style:{margin:0},children:[e.jsx("label",{className:"form-label",children:"Telefon 2 (Yedek)"}),e.jsx("input",{className:"form-input",value:P.phone2,onChange:E=>$(D=>({...D,phone2:E.target.value})),placeholder:"+90 5XX XXX XX XX"})]}),e.jsxs("div",{className:"form-group",style:{margin:0,gridColumn:"span 2"},children:[e.jsx("label",{className:"form-label",children:"E-posta"}),e.jsx("input",{className:"form-input",type:"email",value:P.contact,onChange:E=>$(D=>({...D,contact:E.target.value})),placeholder:"ornek@email.com"})]})]})]})]})}),e.jsx(qe,{open:!!v,title:"Silme Onay",size:"small",onClose:()=>b(null),actions:e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"btn btn-secondary",type:"button",onClick:()=>b(null),children:"Vazge"}),e.jsx("button",{className:"btn btn-danger",type:"button",onClick:()=>v&&_(v),children:"Sil"})]}),children:e.jsxs("p",{children:[e.jsx("strong",{children:v==null?void 0:v.name})," mterisini silmek zeresiniz. Bu ilem geri alnabilir."]})}),e.jsx(qe,{open:!!x,title:x?` ${x.name}`:"",size:"large",onClose:()=>w(null),actions:e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"btn btn-secondary",type:"button",onClick:()=>O(x),children:" Dzenle"}),e.jsx("button",{className:"btn btn-primary",type:"button",onClick:()=>w(null),children:"Kapat"})]}),children:x&&e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:20},children:[e.jsxs("div",{style:{background:"linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%)",padding:16,borderRadius:12,border:"1px solid var(--color-border)"},children:[e.jsxs("div",{className:"grid grid-3",style:{gap:16},children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-muted",style:{fontSize:11,marginBottom:4},children:"Segment"}),e.jsx("span",{className:`badge badge-${x.segment==="B2B"?"primary":"secondary"}`,children:x.segment})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-muted",style:{fontSize:11,marginBottom:4},children:"Cari Kod"}),e.jsxs("div",{style:{fontWeight:600},children:[" ",x.accountCode||"-"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-muted",style:{fontSize:11,marginBottom:4},children:"Lokasyon"}),e.jsxs("div",{style:{fontWeight:600},children:[" ",x.location||"-"]})]})]}),e.jsxs("div",{className:"grid grid-2",style:{gap:16,marginTop:16},children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-muted",style:{fontSize:11,marginBottom:4},children:"Telefon"}),e.jsxs("div",{children:[x.phone&&e.jsxs("div",{children:[" ",x.phone]}),x.phone2&&e.jsxs("div",{style:{fontSize:12,color:"var(--color-text-secondary)"},children:[" ",x.phone2]}),!x.phone&&!x.phone2&&e.jsx("span",{className:"text-muted",children:"-"})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-muted",style:{fontSize:11,marginBottom:4},children:"E-posta"}),e.jsx("div",{children:x.contact?` ${x.contact}`:e.jsx("span",{className:"text-muted",children:"-"})})]})]}),x.address&&e.jsxs("div",{style:{marginTop:16},children:[e.jsx("div",{className:"text-muted",style:{fontSize:11,marginBottom:4},children:"Adres"}),e.jsxs("div",{style:{fontSize:13},children:[" ",x.address]})]})]}),(()=>{const E=Z(x.id);return e.jsxs("div",{className:"grid grid-4",style:{gap:12},children:[e.jsxs("div",{className:"card subtle-card",style:{padding:12,textAlign:"center"},children:[e.jsx("div",{style:{fontSize:24,fontWeight:700,color:"var(--color-primary)"},children:E.total}),e.jsx("div",{className:"text-muted",style:{fontSize:11},children:"Toplam "})]}),e.jsxs("div",{className:"card subtle-card",style:{padding:12,textAlign:"center"},children:[e.jsx("div",{style:{fontSize:24,fontWeight:700,color:"var(--color-warning)"},children:E.active}),e.jsx("div",{className:"text-muted",style:{fontSize:11},children:"Aktif"})]}),e.jsxs("div",{className:"card subtle-card",style:{padding:12,textAlign:"center"},children:[e.jsx("div",{style:{fontSize:24,fontWeight:700,color:"var(--color-success)"},children:E.closed}),e.jsx("div",{className:"text-muted",style:{fontSize:11},children:"Tamamlanan"})]}),e.jsxs("div",{className:"card subtle-card",style:{padding:12,textAlign:"center"},children:[e.jsxs("div",{style:{fontSize:18,fontWeight:700},children:["",E.totalAmount.toLocaleString("tr-TR")]}),e.jsx("div",{className:"text-muted",style:{fontSize:11},children:"Toplam Tutar"})]})]})})(),e.jsxs("div",{children:[e.jsxs("h4",{style:{margin:"0 0 12px 0",fontSize:14,display:"flex",alignItems:"center",gap:8},children:[" ler",e.jsx("span",{className:"badge badge-secondary",children:B(x.id).length})]}),B(x.id).length===0?e.jsxs("div",{className:"card subtle-card",style:{padding:30,textAlign:"center"},children:[e.jsx("div",{style:{fontSize:32,marginBottom:8},children:""}),e.jsx("div",{style:{fontWeight:600,marginBottom:4},children:"Henz i kayd yok"}),e.jsx("div",{className:"text-muted",style:{fontSize:13},children:"Bu mteriye ait i bulunmuyor"})]}):e.jsx("div",{style:{border:"1px solid var(--color-border)",borderRadius:8,overflow:"hidden"},children:e.jsx("div",{style:{maxHeight:300,overflow:"auto"},children:e.jsxs("table",{className:"table",style:{fontSize:13,marginBottom:0},children:[e.jsx("thead",{style:{position:"sticky",top:0,background:"var(--color-bg)"},children:e.jsxs("tr",{children:[e.jsx("th",{children:" Kodu"}),e.jsx("th",{children:"Balk"}),e.jsx("th",{children:"Tarih"}),e.jsx("th",{children:"Tutar"}),e.jsx("th",{children:"Durum"}),e.jsx("th",{})]})}),e.jsx("tbody",{children:B(x.id).map(E=>e.jsxs("tr",{style:{cursor:"pointer"},onClick:()=>f(E),children:[e.jsx("td",{children:e.jsx("code",{style:{fontSize:11},children:E.id})}),e.jsx("td",{style:{fontWeight:600},children:E.title||"-"}),e.jsx("td",{className:"text-muted",style:{fontSize:12},children:E.createdAt?new Date(E.createdAt).toLocaleDateString("tr-TR"):"-"}),e.jsx("td",{children:C(E)>0?`${C(E).toLocaleString("tr-TR")}`:e.jsx("span",{className:"text-muted",children:"-"})}),e.jsx("td",{children:Gj(E.status)}),e.jsx("td",{children:e.jsx("button",{className:"btn btn-secondary btn-small",onClick:D=>{D.stopPropagation(),f(E)},children:"Detay"})})]},E.id))})]})})})]})]})}),e.jsx(qe,{open:!!N,title:N?` ${N.title||N.id}`:"",size:"medium",onClose:()=>f(null),actions:e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"btn btn-secondary",type:"button",onClick:()=>window.open(`/isler/list?job=${N==null?void 0:N.id}`,"_blank"),children:" e Git (Tam Detay)"}),e.jsx("button",{className:"btn btn-primary",type:"button",onClick:()=>f(null),children:"Kapat"})]}),children:N&&e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:16},children:[e.jsx("div",{style:{background:"var(--color-bg-secondary)",padding:16,borderRadius:12},children:e.jsxs("div",{className:"grid grid-2",style:{gap:12},children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-muted",style:{fontSize:11},children:" Kodu"}),e.jsx("code",{style:{fontSize:12},children:N.id})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-muted",style:{fontSize:11},children:"Durum"}),Gj(N.status)]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-muted",style:{fontSize:11},children:"Oluturma"}),e.jsx("div",{children:N.createdAt?new Date(N.createdAt).toLocaleDateString("tr-TR"):"-"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-muted",style:{fontSize:11},children:"Balang Tipi"}),e.jsx("div",{children:N.startType||"-"})]})]})}),N.roles&&N.roles.length>0&&e.jsxs("div",{children:[e.jsx("h4",{style:{margin:"0 0 8px 0",fontSize:13},children:"  Kollar"}),e.jsx("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:N.roles.map((E,D)=>e.jsx("span",{className:"badge badge-primary",children:E.name||E.label||E.id},D))})]}),e.jsxs("div",{children:[e.jsx("h4",{style:{margin:"0 0 8px 0",fontSize:13},children:" Finansal"}),e.jsxs("div",{className:"grid grid-2",style:{gap:8},children:[e.jsxs("div",{className:"card subtle-card",style:{padding:12},children:[e.jsx("div",{className:"text-muted",style:{fontSize:11},children:"Toplam Tutar"}),e.jsxs("div",{style:{fontSize:18,fontWeight:700},children:["",C(N).toLocaleString("tr-TR")]})]}),e.jsxs("div",{className:"card subtle-card",style:{padding:12},children:[e.jsx("div",{className:"text-muted",style:{fontSize:11},children:"Anlama Tarihi"}),e.jsx("div",{style:{fontSize:14,fontWeight:600},children:(ye=N.offer)!=null&&ye.agreedDate?new Date(N.offer.agreedDate).toLocaleDateString("tr-TR"):"-"})]})]})]}),(()=>{const E=q(N.id);return E.length===0?null:e.jsxs("div",{children:[e.jsxs("h4",{style:{margin:"0 0 8px 0",fontSize:13},children:[" Dkmanlar (",E.length,")"]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:8},children:E.map(D=>e.jsxs("div",{className:"card subtle-card",style:{padding:"10px 14px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsxs("div",{style:{fontWeight:600,fontSize:13},children:[D.type==="olcu"&&" ",D.type==="teknik"&&" ",D.type==="sozlesme"&&" ",D.description||D.originalName]}),e.jsx("div",{className:"text-muted",style:{fontSize:11},children:new Date(D.uploadedAt).toLocaleDateString("tr-TR")})]}),e.jsx("a",{href:`http://localhost:8000/documents/file/${D.filename}`,target:"_blank",rel:"noopener noreferrer",className:"btn btn-secondary btn-small",children:"Grntle"})]},D.id))})]})})(),N.notes&&e.jsxs("div",{children:[e.jsx("h4",{style:{margin:"0 0 8px 0",fontSize:13},children:" Not"}),e.jsx("div",{className:"card subtle-card",style:{padding:12,fontSize:13},children:N.notes})]})]})}),i?e.jsx(kt,{text:"Mteriler ykleniyor..."}):d?e.jsxs("div",{className:"card error-card",children:[e.jsx("div",{className:"error-title",children:"Liste yklenemedi"}),e.jsx("div",{className:"error-message",children:d})]}):Q.length===0?e.jsxs("div",{className:"card subtle-card",style:{padding:40,textAlign:"center"},children:[e.jsx("div",{style:{fontSize:48,marginBottom:12},children:""}),e.jsx("div",{style:{fontWeight:600,marginBottom:8},children:p?"Sonu bulunamad":"Henz mteri yok"}),e.jsx("div",{className:"text-muted",children:p?"Farkl bir arama kriteri deneyin":"Yeni mteri eklemek iin butona tklayn"})]}):e.jsx(sn,{columns:le,rows:Q,getKey:E=>E.id,onRowClick:E=>w(E)})]})},PE=({id:t,title:n,icon:s,size:r="medium",color:a="default",children:l,onRemove:i,onResize:o,loading:d=!1,error:m=null,actions:p=null,footer:g=null,className:h="",draggable:k=!1,onDragStart:x,onDragEnd:w,onDragOver:N,onDrop:f})=>{const[v,b]=c.useState(!1),[y,S]=c.useState(!1),j=c.useRef(null),z={small:"widget-small",medium:"widget-medium",large:"widget-large",wide:"widget-wide",tall:"widget-tall",full:"widget-full"},P={default:"",primary:"widget-primary",success:"widget-success",warning:"widget-warning",danger:"widget-danger",info:"widget-info"},$=A=>{var O;k&&(A.dataTransfer.setData("widget-id",t),A.dataTransfer.effectAllowed="move",(O=j.current)==null||O.classList.add("widget-dragging"),x==null||x(t))},B=A=>{var O;(O=j.current)==null||O.classList.remove("widget-dragging"),w==null||w(t)},q=A=>{k&&(A.preventDefault(),A.dataTransfer.dropEffect="move",N==null||N(t))},C=A=>{if(!k)return;A.preventDefault();const O=A.dataTransfer.getData("widget-id");O&&O!==t&&(f==null||f(O,t))},Z=[{value:"small",label:"Kk",icon:"crop_square"},{value:"medium",label:"Orta",icon:"check_box_outline_blank"},{value:"large",label:"Byk",icon:"fullscreen"},{value:"wide",label:"Geni",icon:"view_week"},{value:"tall",label:"Uzun",icon:"view_agenda"}];return e.jsxs("div",{ref:j,className:`dashboard-widget ${z[r]} ${P[a]} ${h} ${k?"widget-draggable":""}`,draggable:k,onDragStart:$,onDragEnd:B,onDragOver:q,onDrop:C,onMouseEnter:()=>b(!0),onMouseLeave:()=>{b(!1),S(!1)},children:[e.jsxs("div",{className:"widget-header",children:[e.jsxs("div",{className:"widget-title-area",children:[s&&e.jsx("span",{className:"widget-icon",children:typeof s=="string"?e.jsx(me,{icon:s}):s}),e.jsx("h3",{className:"widget-title",children:n})]}),e.jsxs("div",{className:"widget-actions",children:[p,(i||o)&&e.jsxs("div",{className:"widget-menu-container",children:[e.jsx("button",{type:"button",className:`widget-menu-btn ${v||y?"visible":""}`,onClick:()=>S(!y),children:e.jsx(us,{name:"more_vert"})}),y&&e.jsxs("div",{className:"widget-dropdown",children:[o&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"widget-dropdown-label",children:"Boyut"}),e.jsx("div",{className:"widget-size-options",children:Z.map(A=>e.jsx("button",{type:"button",className:`widget-size-btn ${r===A.value?"active":""}`,onClick:()=>{o(t,A.value),S(!1)},title:A.label,children:e.jsx(us,{name:A.icon})},A.value))})]}),i&&e.jsxs("button",{type:"button",className:"widget-dropdown-item danger",onClick:()=>{i(t),S(!1)},children:[e.jsx(us,{name:"delete"}),"Kaldr"]})]})]})]})]}),e.jsx("div",{className:"widget-body",children:d?e.jsxs("div",{className:"widget-loading",children:[e.jsx("div",{className:"widget-spinner"}),e.jsx("span",{children:"Ykleniyor..."})]}):m?e.jsxs("div",{className:"widget-error",children:[e.jsx("span",{className:"widget-error-icon",children:e.jsx(us,{name:"warning"})}),e.jsx("span",{children:m})]}):l}),g&&e.jsx("div",{className:"widget-footer",children:g}),k&&v&&e.jsx("div",{className:"widget-drag-handle",title:"Srkleyerek ta",children:e.jsx(us,{name:"drag_indicator"})})]})},Uu={overview:{id:"overview",title:"Genel Bakis",icon:"",category:"yonetici",defaultSize:"wide",color:"primary",description:"Aktif isler, musteriler ve randevular"},measureStatus:{id:"measureStatus",title:"Olcu Durumu",icon:"",category:"organizator",defaultSize:"small",color:"info",description:"Olcu asamasindaki islerin durumu"},productionStatus:{id:"productionStatus",title:"Uretim Durumu",icon:"",category:"organizator",defaultSize:"small",color:"warning",description:"Uretim siparislerinin durumu"},assemblyStatus:{id:"assemblyStatus",title:"Montaj Durumu",icon:"",category:"organizator",defaultSize:"small",color:"success",description:"Montaj gorevlerinin durumu"},stockAlerts:{id:"stockAlerts",title:"Stok Uyarilari",icon:"",category:"stok",defaultSize:"medium",color:"danger",description:"Kritik ve dusuk stok uyarilari"},weeklySummary:{id:"weeklySummary",title:"Haftalik Ozet",icon:"",category:"yonetici",defaultSize:"medium",color:"success",description:"Bu hafta yapilan isler"},financialSummary:{id:"financialSummary",title:"Finansal Ozet",icon:"",category:"muhasebe",defaultSize:"medium",color:"primary",description:"Gelir ve tahsilat durumu"},tasksSummary:{id:"tasksSummary",title:"Gorev Durumu",icon:"",category:"yonetici",defaultSize:"small",color:"info",description:"Genel gorev istatistikleri"},recentActivities:{id:"recentActivities",title:"Son Aktiviteler",icon:"",category:"yonetici",defaultSize:"large",color:"default",description:"Son is hareketleri"}},LE=[{id:"all",name:"Tumu"},{id:"yonetici",name:"Yonetici"},{id:"organizator",name:"Organizator"},{id:"muhasebe",name:"Muhasebe"},{id:"stok",name:"Stok"}],Ku=[{id:"overview",size:"wide"},{id:"measureStatus",size:"small"},{id:"productionStatus",size:"small"},{id:"assemblyStatus",size:"small"},{id:"tasksSummary",size:"small"},{id:"stockAlerts",size:"medium"},{id:"weeklySummary",size:"medium"},{id:"financialSummary",size:"medium"},{id:"recentActivities",size:"large"}],Jj="dashboard_layout",Hu=t=>(Number(t)||0).toLocaleString("tr-TR",{style:"currency",currency:"TRY",minimumFractionDigits:0}),BE=t=>{if(!t)return"";const n=new Date(t),r=new Date-n,a=Math.floor(r/6e4),l=Math.floor(r/36e5),i=Math.floor(r/864e5);return a<60?`${a} dk once`:l<24?`${l} saat once`:i===0?"Bugun":i===1?"Dun":`${i} gun once`},OE=()=>{const[t,n]=c.useState(()=>{try{const S=localStorage.getItem(Jj);return S?JSON.parse(S):Ku}catch{return Ku}}),[s,r]=c.useState({}),[a,l]=c.useState({}),[i,o]=c.useState(!1),[d,m]=c.useState("all"),[p,g]=c.useState(!1);c.useEffect(()=>{localStorage.setItem(Jj,JSON.stringify(t))},[t]);const h=c.useCallback(async S=>{l(j=>({...j,[S]:!0}));try{let j=null;switch(S){case"overview":j=await W4();break;case"measureStatus":j=await U4();break;case"productionStatus":j=await K4();break;case"assemblyStatus":j=await H4();break;case"stockAlerts":j=await V4();break;case"weeklySummary":j=await q4();break;case"financialSummary":j=await Y4();break;case"tasksSummary":j=await G4();break;case"recentActivities":j=await J4();break;default:j={}}r(z=>({...z,[S]:j}))}catch(j){console.error(`Widget ${S} yukleme hatasi:`,j),r(z=>({...z,[S]:{error:j.message}}))}finally{l(j=>({...j,[S]:!1}))}},[]);c.useEffect(()=>{[...new Set(t.map(j=>j.id))].forEach(j=>h(j))},[t,h]);const k=S=>{const j=Uu[S];if(j){if(t.some(z=>z.id===S)){alert("Bu widget zaten ekli!");return}n(z=>[...z,{id:S,size:j.defaultSize}]),o(!1)}},x=S=>{n(j=>j.filter(z=>z.id!==S))},w=(S,j)=>{n(z=>z.map(P=>P.id===S?{...P,size:j}:P))},N=(S,j)=>{const z=t.findIndex(q=>q.id===S),P=t.findIndex(q=>q.id===j);if(z<0||P<0)return;const $=[...t],[B]=$.splice(z,1);$.splice(P,0,B),n($)},f=()=>{window.confirm("Layout varsayilana sifirlanacak. Emin misiniz?")&&n(Ku)},v=c.useMemo(()=>new Set(t.map(S=>S.id)),[t]),b=c.useMemo(()=>Object.values(Uu).filter(S=>!(d!=="all"&&S.category!==d)),[d]),y=S=>{const j=s[S];if(a[S])return null;if(!j)return e.jsx("div",{className:"widget-empty",children:e.jsx("div",{className:"widget-empty-text",children:"Veri bekleniyor..."})});if(j.error)return null;switch(S){case"overview":return e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:16},children:[e.jsxs("div",{className:"widget-stat",children:[e.jsx("div",{className:"widget-stat-icon primary",children:e.jsx(me,{icon:""})}),e.jsxs("div",{className:"widget-stat-content",children:[e.jsx("div",{className:"widget-stat-value",children:j.activeJobs||0}),e.jsx("div",{className:"widget-stat-label",children:"Aktif Is"})]})]}),e.jsxs("div",{className:"widget-stat",children:[e.jsx("div",{className:"widget-stat-icon success",children:e.jsx(me,{icon:""})}),e.jsxs("div",{className:"widget-stat-content",children:[e.jsx("div",{className:"widget-stat-value",children:j.monthJobs||0}),e.jsx("div",{className:"widget-stat-label",children:"Bu Ay Yeni"})]})]}),e.jsxs("div",{className:"widget-stat",children:[e.jsx("div",{className:"widget-stat-icon info",children:e.jsx(me,{icon:""})}),e.jsxs("div",{className:"widget-stat-content",children:[e.jsx("div",{className:"widget-stat-value",children:j.totalCustomers||0}),e.jsx("div",{className:"widget-stat-label",children:"Toplam Musteri"})]})]}),e.jsxs("div",{className:"widget-stat",children:[e.jsx("div",{className:"widget-stat-icon warning",children:e.jsx(me,{icon:""})}),e.jsxs("div",{className:"widget-stat-content",children:[e.jsx("div",{className:"widget-stat-value",children:j.todayAppointments||0}),e.jsx("div",{className:"widget-stat-label",children:"Bugun Randevu"})]})]})]});case"measureStatus":const P=j.counts||{};return e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:12},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("span",{children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Randevu Bekliyor"]}),e.jsx("span",{className:"badge badge-warning",children:P.randevu_bekliyor||0})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("span",{children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Randevu Alindi"]}),e.jsx("span",{className:"badge badge-info",children:P.randevu_alindi||0})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("span",{children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Olcu Alindi"]}),e.jsx("span",{className:"badge badge-success",children:P.olcu_alindi||0})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("span",{children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Teknik Cizim"]}),e.jsx("span",{className:"badge badge-primary",children:P.teknik_cizim||0})]}),e.jsxs("div",{style:{borderTop:"1px solid var(--color-border)",paddingTop:12,marginTop:4,display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{style:{fontWeight:600},children:"Toplam"}),e.jsx("span",{style:{fontWeight:700},children:j.total||0})]})]});case"productionStatus":const $=j.counts||{};return e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:12},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("span",{children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Bekleyen"]}),e.jsx("span",{className:"badge badge-secondary",children:$.pending||0})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("span",{children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Siparis Verildi"]}),e.jsx("span",{className:"badge badge-info",children:$.ordered||0})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("span",{children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Uretimde"]}),e.jsx("span",{className:"badge badge-primary",children:$.in_production||0})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("span",{children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Teslim Edildi"]}),e.jsx("span",{className:"badge badge-success",children:$.delivered||0})]}),($.overdue||0)>0&&e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",color:"var(--color-danger)"},children:[e.jsxs("span",{children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Geciken"]}),e.jsx("span",{className:"badge badge-danger",children:$.overdue})]}),e.jsxs("div",{style:{borderTop:"1px solid var(--color-border)",paddingTop:12,marginTop:4,display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{style:{fontWeight:600},children:"Toplam"}),e.jsx("span",{style:{fontWeight:700},children:j.total||0})]})]});case"assemblyStatus":const B=j.counts||{};return e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:12},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("span",{children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Bekleyen"]}),e.jsx("span",{className:"badge badge-secondary",children:B.pending||0})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("span",{children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Planlandi"]}),e.jsx("span",{className:"badge badge-info",children:B.scheduled||0})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("span",{children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Devam Ediyor"]}),e.jsx("span",{className:"badge badge-primary",children:B.in_progress||0})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("span",{children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Tamamlandi"]}),e.jsx("span",{className:"badge badge-success",children:B.completed||0})]}),(B.delayed||0)>0&&e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",color:"var(--color-danger)"},children:[e.jsxs("span",{children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Geciken"]}),e.jsx("span",{className:"badge badge-danger",children:B.delayed})]}),e.jsxs("div",{style:{borderTop:"1px solid var(--color-border)",paddingTop:12,marginTop:4,display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{style:{fontWeight:600},children:"Toplam"}),e.jsx("span",{style:{fontWeight:700},children:j.total||0})]})]});case"stockAlerts":const q=j.critical||[];return q.length===0?e.jsxs("div",{className:"widget-empty",children:[e.jsx("div",{className:"widget-empty-icon",children:e.jsx(me,{icon:""})}),e.jsx("div",{className:"widget-empty-text",children:"Kritik stok yok"})]}):e.jsxs("div",{className:"widget-list",children:[q.slice(0,5).map((A,O)=>e.jsxs(al,{to:"/stok/kritik",className:"widget-list-item",children:[e.jsxs("div",{className:"widget-list-item-left",children:[e.jsx("div",{className:"widget-list-item-icon",style:{background:"var(--color-danger-bg)",color:"var(--color-danger)"},children:e.jsx(me,{icon:""})}),e.jsxs("div",{className:"widget-list-item-content",children:[e.jsx("div",{className:"widget-list-item-title",children:A.name}),e.jsxs("div",{className:"widget-list-item-subtitle",children:["Mevcut: ",A.current]})]})]}),e.jsx("div",{className:"widget-list-item-right",children:e.jsx("span",{className:"badge badge-danger",children:"Kritik"})})]},O)),j.criticalCount>5&&e.jsxs(al,{to:"/stok/kritik",className:"widget-list-item",style:{justifyContent:"center",color:"var(--color-primary)"},children:["+",j.criticalCount-5," daha..."]})]});case"weeklySummary":return e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16},children:[e.jsxs("div",{style:{textAlign:"center",padding:16,background:"var(--color-success-bg)",borderRadius:12},children:[e.jsx("div",{style:{fontSize:28,fontWeight:700,color:"var(--color-success)"},children:j.completedJobs||0}),e.jsx("div",{style:{fontSize:12,color:"var(--color-text-light)"},children:"Tamamlanan Is"})]}),e.jsxs("div",{style:{textAlign:"center",padding:16,background:"var(--color-info-bg)",borderRadius:12},children:[e.jsx("div",{style:{fontSize:28,fontWeight:700,color:"var(--color-info)"},children:j.measuresTaken||0}),e.jsx("div",{style:{fontSize:12,color:"var(--color-text-light)"},children:"Alinan Olcu"})]}),e.jsxs("div",{style:{textAlign:"center",padding:16,background:"var(--color-warning-bg)",borderRadius:12},children:[e.jsx("div",{style:{fontSize:28,fontWeight:700,color:"var(--color-warning)"},children:j.deliveredProduction||0}),e.jsx("div",{style:{fontSize:12,color:"var(--color-text-light)"},children:"Gelen Uretim"})]}),e.jsxs("div",{style:{textAlign:"center",padding:16,background:"var(--color-primary-bg)",borderRadius:12},children:[e.jsx("div",{style:{fontSize:28,fontWeight:700,color:"var(--color-primary)"},children:j.completedAssembly||0}),e.jsx("div",{style:{fontSize:12,color:"var(--color-text-light)"},children:"Biten Montaj"})]})]});case"financialSummary":return e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:16},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 16px",background:"var(--color-bg)",borderRadius:10},children:[e.jsx("span",{style:{color:"var(--color-text-light)"},children:"Bu Ay Ciro"}),e.jsx("span",{style:{fontSize:18,fontWeight:700},children:Hu(j.monthRevenue||0)})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 16px",background:"var(--color-success-bg)",borderRadius:10},children:[e.jsx("span",{style:{color:"var(--color-success)"},children:"Tahsil Edilen"}),e.jsx("span",{style:{fontSize:18,fontWeight:700,color:"var(--color-success)"},children:Hu(j.collected||0)})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 16px",background:"var(--color-warning-bg)",borderRadius:10},children:[e.jsx("span",{style:{color:"var(--color-warning)"},children:"Bekleyen"}),e.jsx("span",{style:{fontSize:18,fontWeight:700,color:"var(--color-warning)"},children:Hu(j.pending||0)})]}),e.jsxs("div",{style:{marginTop:8},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:4},children:[e.jsx("span",{style:{fontSize:12,color:"var(--color-text-light)"},children:"Tahsilat Orani"}),e.jsxs("span",{style:{fontSize:12,fontWeight:600},children:[j.collectionRate||0,"%"]})]}),e.jsx("div",{style:{height:8,background:"var(--color-bg)",borderRadius:4,overflow:"hidden"},children:e.jsx("div",{style:{height:"100%",width:`${j.collectionRate||0}%`,background:"linear-gradient(90deg, var(--color-success), #4ade80)",borderRadius:4}})})]})]});case"tasksSummary":const C=j.byStatus||{};return e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:12},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("span",{children:"Bekleyen"}),e.jsx("span",{className:"badge badge-warning",children:C.todo||0})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("span",{children:"Devam Eden"}),e.jsx("span",{className:"badge badge-primary",children:C.in_progress||0})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("span",{children:"Tamamlanan"}),e.jsx("span",{className:"badge badge-success",children:C.done||0})]}),e.jsxs("div",{style:{borderTop:"1px solid var(--color-border)",paddingTop:12,marginTop:4,display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{style:{fontWeight:600},children:"Toplam"}),e.jsx("span",{style:{fontWeight:700},children:j.total||0})]})]});case"recentActivities":const Z=j.activities||[];return Z.length===0?e.jsxs("div",{className:"widget-empty",children:[e.jsx("div",{className:"widget-empty-icon",children:e.jsx(me,{icon:""})}),e.jsx("div",{className:"widget-empty-text",children:"Son aktivite yok"})]}):e.jsx("div",{className:"widget-list",children:Z.map((A,O)=>e.jsxs(al,{to:`/isler/list?job=${A.id}`,className:"widget-list-item",children:[e.jsxs("div",{className:"widget-list-item-left",children:[e.jsx("div",{className:"widget-list-item-icon",children:e.jsx(me,{icon:""})}),e.jsxs("div",{className:"widget-list-item-content",children:[e.jsx("div",{className:"widget-list-item-title",children:A.title}),e.jsx("div",{className:"widget-list-item-subtitle",children:A.customer})]})]}),e.jsx("div",{className:"widget-list-item-right",children:e.jsx("span",{style:{fontSize:11,color:"var(--color-text-light)"},children:BE(A.time)})})]},O))});default:return e.jsx("div",{className:"widget-empty",children:e.jsx("div",{className:"widget-empty-text",children:"Widget icerigi bulunamadi"})})}};return e.jsxs("div",{children:[e.jsxs("div",{className:"dashboard-header",children:[e.jsxs("div",{className:"dashboard-title-area",children:[e.jsx("h1",{className:"dashboard-title",children:"Kontrol Paneli"}),e.jsx("p",{className:"dashboard-subtitle",children:"Hos geldiniz! Is sureclerinizin genel durumunu goruntuleyebilirsiniz."})]}),e.jsxs("div",{className:"dashboard-actions",children:[e.jsx("button",{type:"button",className:`btn ${p?"btn-warning":"btn-secondary"}`,onClick:()=>g(!p),children:p?e.jsxs(e.Fragment,{children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Duzenlemeyi Bitir"]}):e.jsxs(e.Fragment,{children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Duzenle"]})}),p&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{type:"button",className:"btn btn-secondary",onClick:f,children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Sifirla"]}),e.jsx("button",{type:"button",className:"add-widget-btn",onClick:()=>o(!0),children:"+ Widget Ekle"})]})]})]}),e.jsx("div",{className:"dashboard-grid",children:t.map(S=>{var z;const j=Uu[S.id];return j?e.jsx(PE,{id:S.id,title:j.title,icon:j.icon,size:S.size,color:j.color,loading:a[S.id],error:(z=s[S.id])==null?void 0:z.error,onRemove:p?x:null,onResize:p?w:null,draggable:p,onDrop:N,children:y(S.id)},S.id):null})}),e.jsxs(qe,{open:i,onClose:()=>o(!1),title:"Widget Ekle",size:"large",children:[e.jsx("div",{className:"widget-category-tabs",children:LE.map(S=>e.jsx("button",{type:"button",className:`widget-category-tab ${d===S.id?"active":""}`,onClick:()=>m(S.id),children:S.name},S.id))}),e.jsx("div",{className:"widget-picker",children:b.map(S=>{const j=v.has(S.id);return e.jsxs("div",{className:`widget-picker-item ${j?"disabled":""}`,onClick:()=>!j&&k(S.id),children:[e.jsx("div",{className:"widget-picker-icon",children:e.jsx(me,{icon:S.icon})}),e.jsx("div",{className:"widget-picker-name",children:S.title}),e.jsx("div",{className:"widget-picker-desc",children:S.description}),j&&e.jsx("span",{className:"badge badge-secondary",children:"Ekli"})]},S.id)})})]})]})},$E=()=>{const[t,n]=c.useState([]),[s,r]=c.useState(!0),[a,l]=c.useState("");return c.useEffect(()=>{(async()=>{try{r(!0),l("");const o=await W6();n(o)}catch(o){l(o.message||"Evraklar alnamad")}finally{r(!1)}})()},[]),e.jsxs("div",{children:[e.jsx(it,{title:"rsaliye & Fatura",subtitle:"Kesilmi veya taslak evraklar"}),s?e.jsx("div",{className:"card subtle-card",children:"Evraklar ykleniyor..."}):a?e.jsxs("div",{className:"card error-card",children:[e.jsx("div",{className:"error-title",children:"Evraklar alnamad"}),e.jsx("div",{className:"error-message",children:a})]}):e.jsx(sn,{columns:[{label:"Evrak No",accessor:"id"},{label:"Mteri",accessor:"customer"},{label:"Tip",accessor:"type"},{label:"Tutar",accessor:"amount"},{label:"Tarih",accessor:"date"},{label:"Durum",accessor:"status"}],rows:t})]})},qn=t=>new Intl.NumberFormat("tr-TR").format(t||0),Qj=t=>t?new Date(t).toLocaleDateString("tr-TR"):"-",_E={pending:{label:"Bekliyor",tone:"warning",icon:""},overdue:{label:"Gecikmi",tone:"danger",icon:""},today:{label:"Bugn",tone:"primary",icon:""},afterDelivery:{label:"Montaj Bitti",tone:"info",icon:""},chequeWaiting:{label:"ek Bekliyor",tone:"secondary",icon:""},chequeReceived:{label:"ek Alnd",tone:"success",icon:""},collected:{label:"Tahsil Edildi",tone:"success",icon:""}},Vu={MONTAJA_HAZIR:{label:"Montaja Hazr",icon:""},MONTAJ_TERMIN:{label:"Montaj Terminli",icon:""},MUHASEBE_BEKLIYOR:{label:"Muhasebe Bekliyor",icon:""},KAPALI:{label:"Kapand",icon:""}},FE=()=>{const[t,n]=c.useState([]),[s,r]=c.useState([]),[a,l]=c.useState(!0),[i,o]=c.useState(""),[d,m]=c.useState("pending"),[p,g]=c.useState("all"),[h,k]=c.useState(null),[x,w]=c.useState(null),[N,f]=c.useState(null),[v,b]=c.useState(null),[y,S]=c.useState({amount:"",isPartial:!1,hasDiscount:!1,discountAmount:"",discountReason:"",note:""}),[j,z]=c.useState(!1),[P,$]=c.useState([]);c.useEffect(()=>{B()},[]);const B=async()=>{try{l(!0),o("");const[D,G]=await Promise.all([ja(),_d()]);n(D.filter(U=>!U.deleted)),r(G)}catch(D){o(D.message||"Veriler alnamad")}finally{l(!1)}},q=D=>{const G=s.find(U=>U.id===D);return(G==null?void 0:G.name)||"Bilinmiyor"},C=D=>["MUHASEBE_BEKLIYOR","KAPALI"].includes(D.status),Z=c.useMemo(()=>{const D=new Date;D.setHours(0,0,0,0);const G=[];return t.forEach(U=>{var te,F,J,xe,ie,L;const H=(te=U.approval)==null?void 0:te.paymentPlan;if(!H)return;const oe={jobId:U.id,jobTitle:U.title||U.id,customerId:U.customerId,customerName:U.customerName||q(U.customerId),jobStatus:U.status};if(((F=H.cash)==null?void 0:F.amount)>0){const ne=H.cash.date?new Date(H.cash.date):null;let he="pending";H.cash.status==="collected"?he="collected":ne&&(ne<D?he="overdue":ne.toDateString()===D.toDateString()&&(he="today")),G.push({...oe,id:`${U.id}-cash`,type:"cash",typeLabel:"Nakit",amount:H.cash.amount,date:H.cash.date,status:he,collectedData:H.cash.collectedData||null})}if(((J=H.card)==null?void 0:J.amount)>0){const ne=H.card.date?new Date(H.card.date):null;let he="pending";H.card.status==="collected"?he="collected":ne&&(ne<D?he="overdue":ne.toDateString()===D.toDateString()&&(he="today")),G.push({...oe,id:`${U.id}-card`,type:"card",typeLabel:"Kredi Kart",amount:H.card.amount,date:H.card.date,status:he,collectedData:H.card.collectedData||null})}if(((xe=H.cheque)==null?void 0:xe.total)>0){const ne=H.cheque.received&&((ie=H.cheque.items)==null?void 0:ie.length)>0;G.push({...oe,id:`${U.id}-cheque`,type:"cheque",typeLabel:`ek (${H.cheque.count||"?"} adet)`,amount:H.cheque.total,date:null,status:H.cheque.status==="collected"?"collected":ne?"chequeReceived":"chequeWaiting",chequeDetails:H.cheque.items||[],chequeCount:H.cheque.count||0,chequeReceived:H.cheque.received||!1,collectedData:H.cheque.collectedData||null})}if(((L=H.afterDelivery)==null?void 0:L.amount)>0){let ne="pending";H.afterDelivery.status==="collected"?ne="collected":C(U)&&(ne="afterDelivery"),G.push({...oe,id:`${U.id}-afterDelivery`,type:"afterDelivery",typeLabel:"Teslim Sonras",amount:H.afterDelivery.amount,date:null,status:ne,note:H.afterDelivery.note,collectedData:H.afterDelivery.collectedData||null})}}),G},[t,s]),A=c.useMemo(()=>{let D=Z;d==="pending"?D=D.filter(U=>U.status!=="collected"):D=D.filter(U=>U.status==="collected"),p!=="all"&&(D=D.filter(U=>U.type===p));const G={overdue:0,today:1,afterDelivery:2,chequeWaiting:3,chequeReceived:4,pending:5,collected:6};return D.sort((U,H)=>{const oe=G[U.status]??99,te=G[H.status]??99;return oe!==te?oe-te:U.date&&H.date?new Date(U.date)-new Date(H.date):0}),D},[Z,d,p]),O=c.useMemo(()=>{const D=Z.filter(H=>H.status!=="collected"),G=new Date;G.setHours(0,0,0,0);const U=new Date(G);return U.setDate(U.getDate()+7),{overdueCount:D.filter(H=>H.status==="overdue").length,overdueAmount:D.filter(H=>H.status==="overdue").reduce((H,oe)=>H+oe.amount,0),todayCount:D.filter(H=>H.status==="today").length,todayAmount:D.filter(H=>H.status==="today").reduce((H,oe)=>H+oe.amount,0),afterDeliveryCount:D.filter(H=>H.status==="afterDelivery").length,afterDeliveryAmount:D.filter(H=>H.status==="afterDelivery").reduce((H,oe)=>H+oe.amount,0),chequeWaitingCount:D.filter(H=>H.status==="chequeWaiting").length,thisWeekCount:D.filter(H=>{if(!H.date)return!1;const oe=new Date(H.date);return oe>=G&&oe<=U}).length,thisWeekAmount:D.filter(H=>{if(!H.date)return!1;const oe=new Date(H.date);return oe>=G&&oe<=U}).reduce((H,oe)=>H+oe.amount,0),totalPending:D.reduce((H,oe)=>H+oe.amount,0),totalCollected:Z.filter(H=>H.status==="collected").reduce((H,oe)=>H+oe.amount,0)}},[Z]),_=D=>{S({amount:D.amount,isPartial:!1,hasDiscount:!1,discountAmount:"",discountReason:"",note:""}),k(D)},fe=D=>{const G=D.chequeCount||1,U=D.chequeDetails||[],H=[];for(let oe=0;oe<G;oe++)H.push(U[oe]||{bank:"",chequeNo:"",amount:Math.round(D.amount/G),due:""});$(H),w(D)},Q=async()=>{if(h)try{z(!0);const D=t.find(oe=>oe.id===h.jobId);if(!D)throw new Error(" bulunamad");const G={...D.approval.paymentPlan},U=h.type,H={collectedAt:new Date().toISOString(),originalAmount:h.amount,collectedAmount:Number(y.amount)||h.amount,isPartial:y.isPartial,discountAmount:y.hasDiscount?Number(y.discountAmount):0,discountReason:y.discountReason,note:y.note};U==="cash"?G.cash={...G.cash,status:"collected",collectedData:H}:U==="card"?G.card={...G.card,status:"collected",collectedData:H}:U==="cheque"?G.cheque={...G.cheque,status:"collected",collectedData:H}:U==="afterDelivery"&&(G.afterDelivery={...G.afterDelivery,status:"collected",collectedData:H}),await dj(D.id,G),await B(),k(null)}catch(D){o(D.message||"Tahsilat kaydedilemedi")}finally{z(!1)}},le=async()=>{if(x)try{z(!0);const D=t.find(U=>U.id===x.jobId);if(!D)throw new Error(" bulunamad");const G={...D.approval.paymentPlan};G.cheque={...G.cheque,received:!0,items:P,count:P.length,total:P.reduce((U,H)=>U+Number(H.amount||0),0)},await dj(D.id,G),await B(),w(null)}catch(D){o(D.message||"ek detaylar kaydedilemedi")}finally{z(!1)}},ye=D=>{const G=_E[D];return G?e.jsxs("span",{className:`badge badge-${G.tone}`,children:[e.jsx(me,{icon:G.icon,sx:{fontSize:14,verticalAlign:"middle",mr:.5}}),G.label]}):e.jsx("span",{className:"badge badge-secondary",children:D})},E=D=>{switch(D){case"cash":return"";case"card":return"";case"cheque":return"";case"afterDelivery":return"";default:return""}};return e.jsxs("div",{children:[e.jsx(it,{title:"demeler / Kasa",subtitle:"Tahsilat takibi ve hatrlatmalar"}),a?e.jsx(kt,{text:"demeler ykleniyor..."}):i?e.jsxs("div",{className:"card error-card",children:[e.jsx("div",{className:"error-title",children:"Hata"}),e.jsx("div",{className:"error-message",children:i})]}):e.jsxs(e.Fragment,{children:[(O.overdueCount>0||O.todayCount>0||O.afterDeliveryCount>0||O.chequeWaitingCount>0)&&e.jsxs("div",{style:{background:"linear-gradient(135deg, #fef3c7 0%, #fde68a 100%)",padding:16,borderRadius:12,marginBottom:16,border:"1px solid #f59e0b"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:12},children:[e.jsx(me,{icon:"",sx:{fontSize:20}}),e.jsx("span",{style:{fontWeight:700,fontSize:16},children:"Dikkat Gerektiren demeler"})]}),e.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:16},children:[O.overdueCount>0&&e.jsxs("div",{style:{background:"#fecaca",padding:"8px 16px",borderRadius:8,display:"flex",alignItems:"center",gap:8},children:[e.jsx(me,{icon:""}),e.jsxs("div",{children:[e.jsxs("div",{style:{fontWeight:600},children:["Gecikmi: ",O.overdueCount]}),e.jsxs("div",{style:{fontSize:13,color:"#991b1b"},children:["",qn(O.overdueAmount)]})]})]}),O.todayCount>0&&e.jsxs("div",{style:{background:"#dbeafe",padding:"8px 16px",borderRadius:8,display:"flex",alignItems:"center",gap:8},children:[e.jsx(me,{icon:""}),e.jsxs("div",{children:[e.jsxs("div",{style:{fontWeight:600},children:["Bugn: ",O.todayCount]}),e.jsxs("div",{style:{fontSize:13,color:"#1e40af"},children:["",qn(O.todayAmount)]})]})]}),O.afterDeliveryCount>0&&e.jsxs("div",{style:{background:"#d1fae5",padding:"8px 16px",borderRadius:8,display:"flex",alignItems:"center",gap:8},children:[e.jsx(me,{icon:""}),e.jsxs("div",{children:[e.jsxs("div",{style:{fontWeight:600},children:["Montaj Biten: ",O.afterDeliveryCount]}),e.jsxs("div",{style:{fontSize:13,color:"#065f46"},children:["",qn(O.afterDeliveryAmount)]})]})]}),O.chequeWaitingCount>0&&e.jsxs("div",{style:{background:"#e5e7eb",padding:"8px 16px",borderRadius:8,display:"flex",alignItems:"center",gap:8},children:[e.jsx(me,{icon:""}),e.jsxs("div",{children:[e.jsxs("div",{style:{fontWeight:600},children:["ek Bekliyor: ",O.chequeWaitingCount]}),e.jsx("div",{style:{fontSize:13,color:"#374151"},children:"Detay girilecek"})]})]})]})]}),e.jsxs("div",{className:"stats-grid",style:{marginBottom:16},children:[e.jsx("div",{className:"card",style:{padding:16},children:e.jsxs("div",{className:"metric-row",children:[e.jsx("div",{className:"metric-icon",children:e.jsx(me,{icon:""})}),e.jsxs("div",{children:[e.jsx("div",{className:"metric-label",children:"Bekleyen Toplam"}),e.jsxs("div",{className:"metric-value",children:["",qn(O.totalPending)]})]})]})}),e.jsx("div",{className:"card",style:{padding:16},children:e.jsxs("div",{className:"metric-row",children:[e.jsx("div",{className:"metric-icon",children:e.jsx(me,{icon:""})}),e.jsxs("div",{children:[e.jsx("div",{className:"metric-label",children:"Bu Hafta Alnacak"}),e.jsxs("div",{className:"metric-value",children:["",qn(O.thisWeekAmount)]}),e.jsxs("div",{className:"text-muted",style:{fontSize:11},children:[O.thisWeekCount," deme"]})]})]})}),e.jsx("div",{className:"card",style:{padding:16},children:e.jsxs("div",{className:"metric-row",children:[e.jsx("div",{className:"metric-icon",children:e.jsx(me,{icon:""})}),e.jsxs("div",{children:[e.jsx("div",{className:"metric-label",children:"Tahsil Edilen"}),e.jsxs("div",{className:"metric-value",style:{color:"var(--color-success)"},children:["",qn(O.totalCollected)]})]})]})})]}),e.jsxs("div",{className:"card",style:{marginBottom:16},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 16px",borderBottom:"1px solid var(--color-border)"},children:[e.jsxs("div",{style:{display:"flex",gap:8},children:[e.jsxs("button",{className:`btn ${d==="pending"?"btn-primary":"btn-secondary"}`,onClick:()=>m("pending"),children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Bekleyen (",Z.filter(D=>D.status!=="collected").length,")"]}),e.jsxs("button",{className:`btn ${d==="collected"?"btn-primary":"btn-secondary"}`,onClick:()=>m("collected"),children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Tahsil Edilen (",Z.filter(D=>D.status==="collected").length,")"]})]}),e.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[e.jsx("span",{className:"text-muted",style:{fontSize:12},children:"Filtre:"}),e.jsxs("select",{className:"form-select",value:p,onChange:D=>g(D.target.value),style:{width:150},children:[e.jsx("option",{value:"all",children:"Tm"}),e.jsx("option",{value:"cash",children:"Nakit"}),e.jsx("option",{value:"card",children:"Kart"}),e.jsx("option",{value:"cheque",children:"ek"}),e.jsx("option",{value:"afterDelivery",children:"Teslim Sonras"})]})]})]}),e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Tarih"}),e.jsx("th",{children:"Mteri"}),e.jsx("th",{children:""}),e.jsx("th",{children:"Tip"}),e.jsx("th",{children:"Tutar"}),e.jsx("th",{children:"Durum"}),e.jsx("th",{children:"lemler"})]})}),e.jsx("tbody",{children:A.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:7,children:e.jsxs("div",{style:{padding:40,textAlign:"center"},children:[e.jsx("div",{style:{fontSize:48,marginBottom:12,display:"flex",justifyContent:"center"},children:e.jsx(me,{icon:d==="pending"?"":"",sx:{fontSize:48}})}),e.jsx("div",{style:{fontWeight:600},children:d==="pending"?"Bekleyen deme yok!":"Henz tahsilat kayd yok"})]})})}):A.map(D=>e.jsxs("tr",{style:{background:D.status==="overdue"?"#fef2f2":D.status==="today"?"#eff6ff":D.status==="afterDelivery"?"#ecfdf5":void 0},children:[e.jsx("td",{children:D.date?e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:600},children:Qj(D.date)}),D.status==="overdue"&&e.jsx("div",{style:{fontSize:11,color:"var(--color-danger)"},children:"Gecikmi!"})]}):e.jsx("span",{className:"text-muted",children:"-"})}),e.jsx("td",{children:e.jsx("div",{style:{fontWeight:600},children:D.customerName})}),e.jsxs("td",{children:[e.jsx("div",{style:{fontSize:13},children:D.jobTitle}),e.jsx("code",{style:{fontSize:10},children:D.jobId})]}),e.jsx("td",{children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[e.jsx(me,{icon:E(D.type),sx:{flexShrink:0}}),e.jsx("span",{children:D.typeLabel})]})}),e.jsx("td",{children:e.jsxs("strong",{style:{fontSize:15},children:["",qn(D.amount)]})}),e.jsx("td",{children:ye(D.status)}),e.jsx("td",{children:e.jsxs("div",{style:{display:"flex",gap:6},children:[D.status==="collected"?e.jsxs("button",{className:"btn btn-success btn-small",onClick:()=>f(D),children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," deme Alnd"]}):D.status==="chequeWaiting"?e.jsx("button",{className:"btn btn-primary btn-small",onClick:()=>fe(D),children:"ek Detay Gir"}):e.jsx("button",{className:"btn btn-success btn-small",onClick:()=>_(D),children:"Tahsil Et"}),e.jsx("button",{className:"btn btn-secondary btn-small",onClick:()=>b(D),children:"e Git"})]})})]},D.id))})]})})]})]}),e.jsx(qe,{open:!!h,title:e.jsxs(e.Fragment,{children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," deme Tahsil Et"]}),size:"medium",onClose:()=>k(null),actions:e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"btn btn-secondary",onClick:()=>k(null),disabled:j,children:"ptal"}),e.jsx("button",{className:"btn btn-success",onClick:Q,disabled:j,children:j?"Kaydediliyor...":e.jsxs(e.Fragment,{children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Tahsil Et"]})})]}),children:h&&e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:16},children:[e.jsx("div",{style:{background:"var(--color-bg-secondary)",padding:16,borderRadius:8},children:e.jsxs("div",{className:"grid grid-2",style:{gap:12},children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-muted",style:{fontSize:11},children:"Mteri"}),e.jsx("div",{style:{fontWeight:600},children:h.customerName})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-muted",style:{fontSize:11},children:""}),e.jsx("div",{style:{fontWeight:600},children:h.jobTitle})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-muted",style:{fontSize:11},children:"deme Tipi"}),e.jsxs("div",{children:[e.jsx(me,{icon:E(h.type),sx:{mr:.5,verticalAlign:"middle"}}),h.typeLabel]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-muted",style:{fontSize:11},children:"Beklenen Tutar"}),e.jsxs("div",{style:{fontWeight:700,fontSize:18},children:["",qn(h.amount)]})]})]})}),e.jsxs("div",{className:"form-group",style:{margin:0},children:[e.jsx("label",{className:"form-label",children:"Alnan Tutar"}),e.jsx("input",{type:"number",className:"form-input",value:y.amount,onChange:D=>S(G=>({...G,amount:D.target.value})),style:{fontSize:18,fontWeight:600}})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:8},children:[e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,cursor:"pointer"},children:[e.jsx("input",{type:"checkbox",checked:y.isPartial,onChange:D=>S(G=>({...G,isPartial:D.target.checked}))}),e.jsx("span",{children:"Ksmi tahsilat (kalan tutar sonra alnacak)"})]}),e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,cursor:"pointer"},children:[e.jsx("input",{type:"checkbox",checked:y.hasDiscount,onChange:D=>S(G=>({...G,hasDiscount:D.target.checked}))}),e.jsx("span",{children:"skonto ile kapat"})]})]}),y.hasDiscount&&e.jsxs("div",{className:"grid grid-2",style:{gap:12,padding:12,background:"#fef3c7",borderRadius:8},children:[e.jsxs("div",{className:"form-group",style:{margin:0},children:[e.jsx("label",{className:"form-label",children:"skonto Tutar *"}),e.jsx("input",{type:"number",className:"form-input",value:y.discountAmount,onChange:D=>S(G=>({...G,discountAmount:D.target.value})),required:!0})]}),e.jsxs("div",{className:"form-group",style:{margin:0},children:[e.jsx("label",{className:"form-label",children:"skonto Sebebi *"}),e.jsx("input",{type:"text",className:"form-input",value:y.discountReason,onChange:D=>S(G=>({...G,discountReason:D.target.value})),placeholder:"rn: Nakit indirimi",required:!0})]})]}),e.jsxs("div",{className:"form-group",style:{margin:0},children:[e.jsx("label",{className:"form-label",children:"Not (Opsiyonel)"}),e.jsx("textarea",{className:"form-input",value:y.note,onChange:D=>S(G=>({...G,note:D.target.value})),rows:2})]})]})}),e.jsx(qe,{open:!!x,title:e.jsxs(e.Fragment,{children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," ek Detaylar Gir"]}),size:"large",onClose:()=>w(null),actions:e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"btn btn-secondary",onClick:()=>w(null),disabled:j,children:"ptal"}),e.jsx("button",{className:"btn btn-primary",onClick:le,disabled:j,children:j?"Kaydediliyor...":e.jsxs(e.Fragment,{children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," ekleri Kaydet"]})})]}),children:x&&e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:16},children:[e.jsx("div",{style:{background:"var(--color-bg-secondary)",padding:12,borderRadius:8},children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsxs("div",{children:[e.jsx("span",{style:{fontWeight:600},children:x.customerName}),e.jsxs("span",{className:"text-muted",children:[" - ",x.jobTitle]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted",children:"Toplam: "}),e.jsxs("strong",{children:["",qn(x.amount)]})]})]})}),e.jsx("div",{style:{border:"1px solid var(--color-border)",borderRadius:8,overflow:"hidden"},children:e.jsxs("table",{className:"table",style:{marginBottom:0},children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Banka"}),e.jsx("th",{children:"ek No"}),e.jsx("th",{children:"Tutar"}),e.jsx("th",{children:"Vade Tarihi"})]})}),e.jsx("tbody",{children:P.map((D,G)=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("input",{type:"text",className:"form-input",value:D.bank,onChange:U=>{const H=[...P];H[G]={...H[G],bank:U.target.value},$(H)},placeholder:"Banka ad"})}),e.jsx("td",{children:e.jsx("input",{type:"text",className:"form-input",value:D.chequeNo,onChange:U=>{const H=[...P];H[G]={...H[G],chequeNo:U.target.value},$(H)},placeholder:"ek numaras"})}),e.jsx("td",{children:e.jsx("input",{type:"number",className:"form-input",value:D.amount,onChange:U=>{const H=[...P];H[G]={...H[G],amount:Number(U.target.value)},$(H)},style:{width:120}})}),e.jsx("td",{children:e.jsx(gt,{value:D.due,onChange:U=>{const H=[...P];H[G]={...H[G],due:U},$(H)}})})]},G))})]})}),e.jsxs("div",{style:{textAlign:"right",fontSize:13},children:[e.jsx("span",{className:"text-muted",children:"Girilen toplam: "}),e.jsxs("strong",{children:["",qn(P.reduce((D,G)=>D+Number(G.amount||0),0))]})]})]})}),e.jsx(qe,{open:!!N,title:e.jsxs(e.Fragment,{children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," deme Detay"]}),size:"medium",onClose:()=>f(null),actions:e.jsx("button",{className:"btn btn-primary",onClick:()=>f(null),children:"Kapat"}),children:N&&e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:16},children:[e.jsx("div",{style:{background:"#ecfdf5",padding:16,borderRadius:8},children:e.jsxs("div",{className:"grid grid-2",style:{gap:12},children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-muted",style:{fontSize:11},children:"Mteri"}),e.jsx("div",{style:{fontWeight:600},children:N.customerName})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-muted",style:{fontSize:11},children:""}),e.jsx("div",{style:{fontWeight:600},children:N.jobTitle})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-muted",style:{fontSize:11},children:"deme Tipi"}),e.jsxs("div",{children:[e.jsx(me,{icon:E(N.type),sx:{mr:.5,verticalAlign:"middle"}}),N.typeLabel]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-muted",style:{fontSize:11},children:"Tutar"}),e.jsxs("div",{style:{fontWeight:700,fontSize:18,color:"var(--color-success)"},children:["",qn(N.amount)]})]})]})}),N.collectedData&&e.jsxs("div",{style:{border:"1px solid var(--color-border)",padding:16,borderRadius:8},children:[e.jsxs("h4",{style:{margin:"0 0 12px 0",fontSize:14},children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Tahsilat Bilgileri"]}),e.jsxs("div",{className:"grid grid-2",style:{gap:12},children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-muted",style:{fontSize:11},children:"Tahsilat Tarihi"}),e.jsx("div",{children:Qj(N.collectedData.collectedAt)})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-muted",style:{fontSize:11},children:"Alnan Tutar"}),e.jsxs("div",{style:{fontWeight:600},children:["",qn(N.collectedData.collectedAmount)]})]}),N.collectedData.isPartial&&e.jsx("div",{style:{gridColumn:"span 2"},children:e.jsx("span",{className:"badge badge-warning",children:"Ksmi Tahsilat"})}),N.collectedData.discountAmount>0&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-muted",style:{fontSize:11},children:"skonto"}),e.jsxs("div",{style:{color:"var(--color-warning)"},children:["",qn(N.collectedData.discountAmount)]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-muted",style:{fontSize:11},children:"skonto Sebebi"}),e.jsx("div",{children:N.collectedData.discountReason||"-"})]})]}),N.collectedData.note&&e.jsxs("div",{style:{gridColumn:"span 2"},children:[e.jsx("div",{className:"text-muted",style:{fontSize:11},children:"Not"}),e.jsx("div",{children:N.collectedData.note})]})]})]})]})}),e.jsx(qe,{open:!!v,title:v?e.jsxs(e.Fragment,{children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," ",v.jobTitle]}):"",size:"medium",onClose:()=>b(null),actions:e.jsxs(e.Fragment,{children:[e.jsxs("button",{className:"btn btn-secondary",onClick:()=>window.open(`/isler/list?job=${v==null?void 0:v.jobId}&stage=6`,"_blank"),children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Tam Detay (Yeni Sekme)"]}),e.jsx("button",{className:"btn btn-primary",onClick:()=>b(null),children:"Kapat"})]}),children:v&&e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:16},children:[e.jsx("div",{style:{background:"var(--color-bg-secondary)",padding:16,borderRadius:8},children:e.jsxs("div",{className:"grid grid-2",style:{gap:12},children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-muted",style:{fontSize:11},children:" Kodu"}),e.jsx("code",{children:v.jobId})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-muted",style:{fontSize:11},children:"Mteri"}),e.jsx("div",{style:{fontWeight:600},children:v.customerName})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-muted",style:{fontSize:11},children:" Bal"}),e.jsx("div",{style:{fontWeight:600},children:v.jobTitle})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-muted",style:{fontSize:11},children:" Durumu"}),e.jsx("div",{children:Vu[v.jobStatus]?e.jsxs("span",{children:[e.jsx(me,{icon:Vu[v.jobStatus].icon,sx:{mr:.5,verticalAlign:"middle"}})," ",Vu[v.jobStatus].label]}):e.jsx("span",{children:v.jobStatus})})]})]})}),e.jsx("div",{style:{textAlign:"center",padding:20},children:e.jsx("div",{className:"text-muted",style:{marginBottom:8},children:'Detayl i bilgileri iin "Tam Detay" butonuna tklayn'})})]})})]})},na=({icon:t,label:n,value:s,change:r,tone:a="primary",trend:l="neutral",title:i})=>{const o=l==="negative"?"stat-change negative":"stat-change positive",d=typeof t=="string"?e.jsx(me,{icon:t,fontSize:"medium"}):t;return e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:`stat-icon ${a}`,children:d}),e.jsxs("div",{className:"stat-content",children:[e.jsx("div",{className:"stat-label",children:n||i}),e.jsx("div",{className:"stat-value",children:s}),r?e.jsx("div",{className:o,children:r}):null]})]})},WE={todo:{label:"Yaplacak",tone:"secondary",icon:""},in_progress:{label:"Devam Ediyor",tone:"primary",icon:""},blocked:{label:"Bloke",tone:"warning",icon:""},done:{label:"Tamamland",tone:"success",icon:""}},UE={low:{label:"Dk",tone:"secondary"},med:{label:"Orta",tone:"info"},high:{label:"Yksek",tone:"warning"}},Xj=t=>{const n=WE[t]||{label:t,tone:"secondary",icon:""};return e.jsxs("span",{className:`badge badge-${n.tone}`,children:[e.jsx(me,{icon:n.icon,sx:{fontSize:14,verticalAlign:"middle",mr:.5}}),n.label]})},Zj=t=>{const n=UE[t]||{label:t,tone:"secondary"};return e.jsx("span",{className:`badge badge-${n.tone}`,children:n.label})},qu=t=>{if(!t)return"-";try{const n=new Date(t),s=String(n.getDate()).padStart(2,"0"),r=String(n.getMonth()+1).padStart(2,"0"),a=n.getFullYear();return`${s}/${r}/${a}`}catch{return t}},Do=t=>{if(!t)return"-";try{const n=new Date(t),s=String(n.getDate()).padStart(2,"0"),r=String(n.getMonth()+1).padStart(2,"0"),a=n.getFullYear(),l=String(n.getHours()).padStart(2,"0"),i=String(n.getMinutes()).padStart(2,"0");return`${s}/${r}/${a} ${l}:${i}`}catch{return t}},Ro={baslik:"",aciklama:"",oncelik:"med",durum:"todo",baslangicTarihi:"",bitisTarihi:""},KE=()=>{const[t,n]=c.useState([]),[s,r]=c.useState([]),[a,l]=c.useState([]),[i,o]=c.useState(!0),[d,m]=c.useState(""),[p,g]=c.useState(""),[h,k]=c.useState(""),[x,w]=c.useState(""),[N,f]=c.useState(!1),[v,b]=c.useState(!1),[y,S]=c.useState(!1),[j,z]=c.useState(null),[P,$]=c.useState(Ro),[B,q]=c.useState({}),[C,Z]=c.useState(!1),[A,O]=c.useState(null),[_,fe]=c.useState(null),[Q,le]=c.useState(null),[ye,E]=c.useState({assigneeType:"personnel",assigneeId:"",note:""});c.useEffect(()=>{(async()=>{try{o(!0),m("");const[re,ke,be]=await Promise.all([pj(),Sl(!0),Nl(!0)]);n(re),r(ke),l(be)}catch(re){m(re.message||"Grevler alnamad")}finally{o(!1)}})()},[]);const D=c.useMemo(()=>{const M=t.filter(W=>!W.deleted).length,re=t.filter(W=>!W.deleted&&W.durum==="todo").length,ke=t.filter(W=>!W.deleted&&W.durum==="in_progress").length,be=t.filter(W=>!W.deleted&&W.durum==="blocked").length,we=t.filter(W=>!W.deleted&&W.durum==="done").length;return{total:M,todo:re,inProgress:ke,blocked:be,done:we}},[t]),G=M=>M.assigneeName?M.assigneeType==="team"?e.jsxs(e.Fragment,{children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," ",M.assigneeName]}):M.assigneeName:"Atanmam",U=c.useMemo(()=>{let M=t.filter(ke=>!ke.deleted);h&&(M=M.filter(ke=>ke.durum===h)),x&&(M=M.filter(ke=>ke.oncelik===x));const re=p.trim().toLowerCase();return re&&(M=M.filter(ke=>(ke.baslik||"").toLowerCase().includes(re)||(ke.aciklama||"").toLowerCase().includes(re))),M},[t,p,h,x]),H=()=>{z(null),$(Ro),q({}),f(!0)},oe=M=>{z(M),$({baslik:M.baslik||"",aciklama:M.aciklama||"",oncelik:M.oncelik||"med",durum:M.durum||"todo",baslangicTarihi:M.baslangicTarihi||"",bitisTarihi:M.bitisTarihi||""}),q({}),f(!0)},te=M=>{fe(M),E({assigneeType:"personnel",assigneeId:"",note:""}),b(!0)},F=async M=>{try{const re=await h6(M.id);le(re),S(!0)}catch(re){m(re.message||"Grev detay alnamad")}},J=()=>{const M={};if(P.baslik.trim()||(M.baslik="Balk gerekli"),P.baslangicTarihi&&P.bitisTarihi){const re=new Date(P.baslangicTarihi);new Date(P.bitisTarihi)<re&&(M.bitisTarihi="Biti tarihi balang tarihinden nce olamaz")}return q(M),Object.keys(M).length===0},xe=async M=>{if(M.preventDefault(),!!J())try{if(Z(!0),m(""),j){const re=await f6(j.id,P);n(ke=>ke.map(be=>be.id===re.id?re:be)),z(null)}else{const re=await zS(P);n(ke=>[re,...ke])}$(Ro),f(!1)}catch(re){m(re.message||"Grev kaydedilemedi")}finally{Z(!1)}},ie=async()=>{if(A)try{await y6(A.id),n(M=>M.map(re=>re.id===A.id?{...re,deleted:!0}:re)),O(null)}catch(M){m(M.message||"Grev silinemedi")}},L=async M=>{if(M.preventDefault(),!_||!ye.assigneeId){m("Ltfen atama yaplacak kii veya ekibi sein");return}try{Z(!0),m(""),await x6(_.id,ye);const re=await pj();n(re),b(!1),fe(null),E({assigneeType:"personnel",assigneeId:"",note:""})}catch(re){m(re.message||"Atama yaplamad")}finally{Z(!1)}},ne=async(M,re)=>{try{const ke=await g6(M.id,re);n(be=>be.map(we=>we.id===ke.id?ke:we))}catch(ke){m(ke.message||"Durum gncellenemedi")}},he=c.useMemo(()=>[{accessor:"baslik",label:"Grev",render:(M,re)=>e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:M}),re.aciklama&&e.jsxs("div",{className:"text-sm text-muted",children:[re.aciklama.substring(0,50),"..."]})]})},{accessor:"oncelik",label:"ncelik",render:M=>Zj(M)},{accessor:"durum",label:"Durum",render:M=>Xj(M)},{accessor:"bitisTarihi",label:"Termin",render:M=>qu(M)},{accessor:"assignee",label:"Atanan",render:(M,re)=>G(re)},{accessor:"actions",label:"lem",render:(M,re)=>e.jsxs("div",{className:"action-buttons",children:[e.jsx("button",{className:"btn btn-sm btn-secondary",type:"button",onClick:ke=>{ke.stopPropagation(),F(re)},title:"Detay",children:e.jsx(me,{icon:""})}),e.jsx("button",{className:"btn btn-sm btn-primary",type:"button",onClick:ke=>{ke.stopPropagation(),oe(re)},title:"Dzenle","data-testid":"btn-edit",children:e.jsx(me,{icon:""})}),e.jsx("button",{className:"btn btn-sm btn-info",type:"button",onClick:ke=>{ke.stopPropagation(),te(re)},title:"Ata","data-testid":"btn-assign",children:e.jsx(me,{icon:""})}),e.jsx("button",{className:"btn btn-sm btn-danger",type:"button",onClick:ke=>{ke.stopPropagation(),O(re)},title:"Sil",children:e.jsx(me,{icon:""})})]})}],[]);return i?e.jsx(kt,{}):e.jsxs("div",{"data-testid":"gorevler-page",children:[e.jsx(it,{title:"Grevler",subtitle:"Ekip grevlerinizi durumlarna gre takip edin",actions:e.jsx("button",{className:"btn btn-primary",type:"button",onClick:H,"data-testid":"btn-new-task",children:"+ Yeni Grev"})}),d&&e.jsxs("div",{className:"card error-card",children:[e.jsx("div",{className:"error-title",children:"Hata"}),e.jsx("div",{className:"error-message",children:d})]}),e.jsxs("div",{className:"stats-grid",style:{marginBottom:24},children:[e.jsx(na,{icon:"",label:"Toplam Grev",value:D.total,tone:"primary"}),e.jsx(na,{icon:"",label:"Yaplacak",value:D.todo,tone:"secondary"}),e.jsx(na,{icon:"",label:"Devam Ediyor",value:D.inProgress,tone:"primary"}),e.jsx(na,{icon:"",label:"Bloke",value:D.blocked,tone:"warning"}),e.jsx(na,{icon:"",label:"Tamamland",value:D.done,tone:"success"})]}),e.jsxs("div",{className:"card","data-testid":"tasks-table-card",children:[e.jsx("div",{className:"card-header",children:e.jsxs("div",{className:"filters",children:[e.jsx("input",{type:"text",className:"input",placeholder:"Ara (balk, aklama)...",value:p,onChange:M=>g(M.target.value)}),e.jsxs("select",{className:"select",value:h,onChange:M=>k(M.target.value),children:[e.jsx("option",{value:"",children:"Tm Durumlar"}),e.jsx("option",{value:"todo",children:"Yaplacak"}),e.jsx("option",{value:"in_progress",children:"Devam Ediyor"}),e.jsx("option",{value:"blocked",children:"Bloke"}),e.jsx("option",{value:"done",children:"Tamamland"})]}),e.jsxs("select",{className:"select",value:x,onChange:M=>w(M.target.value),children:[e.jsx("option",{value:"",children:"Tm ncelikler"}),e.jsx("option",{value:"low",children:"Dk"}),e.jsx("option",{value:"med",children:"Orta"}),e.jsx("option",{value:"high",children:"Yksek"})]})]})}),e.jsx(sn,{columns:he,rows:U,emptyMessage:"Henz grev bulunmamaktadr. Yeni grev oluturmak iin stteki 'Yeni Grev' butonuna tklayn."})]}),e.jsx(qe,{isOpen:N,onClose:()=>{f(!1),z(null),$(Ro),q({})},title:j?e.jsxs(e.Fragment,{children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Grev Dzenle"]}):e.jsxs(e.Fragment,{children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Yeni Grev Olutur"]}),children:e.jsxs("form",{onSubmit:xe,children:[e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Balk ",e.jsx("span",{style:{color:"var(--color-danger)"},children:"*"})]}),e.jsx("input",{type:"text",className:`form-input ${B.baslik?"input-error":""}`,value:P.baslik,onChange:M=>$({...P,baslik:M.target.value}),placeholder:"rn: Atlye kesim listesi hazrlama","data-testid":"input-task-baslik"}),B.baslik&&e.jsxs("div",{className:"form-error",style:{marginTop:6,fontSize:13,color:"var(--color-danger)"},children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," ",B.baslik]})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Aklama"]}),e.jsx("textarea",{className:"form-textarea",rows:"4",value:P.aciklama,onChange:M=>$({...P,aciklama:M.target.value}),placeholder:"Grev detaylarn buraya yazabilirsiniz...",style:{minHeight:100}})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16,marginBottom:20},children:[e.jsxs("div",{className:"form-group",style:{marginBottom:0},children:[e.jsxs("label",{className:"form-label",children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," ncelik"]}),e.jsxs("select",{className:"form-select",value:P.oncelik,onChange:M=>$({...P,oncelik:M.target.value}),children:[e.jsx("option",{value:"low",children:"Dk"}),e.jsx("option",{value:"med",children:"Orta"}),e.jsx("option",{value:"high",children:"Yksek"})]})]}),e.jsxs("div",{className:"form-group",style:{marginBottom:0},children:[e.jsxs("label",{className:"form-label",children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Durum"]}),e.jsxs("select",{className:"form-select",value:P.durum,onChange:M=>$({...P,durum:M.target.value}),children:[e.jsx("option",{value:"todo",children:"Yaplacak"}),e.jsx("option",{value:"in_progress",children:"Devam Ediyor"}),e.jsx("option",{value:"blocked",children:"Bloke"}),e.jsx("option",{value:"done",children:"Tamamland"})]})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16,marginBottom:20},children:[e.jsxs("div",{className:"form-group",style:{marginBottom:0},children:[e.jsxs("label",{className:"form-label",children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Balang Tarihi"]}),e.jsx(gt,{value:P.baslangicTarihi?P.baslangicTarihi.split("T")[0]:"",onChange:M=>$({...P,baslangicTarihi:M?`${M}T00:00:00`:""}),style:{fontSize:16}})]}),e.jsxs("div",{className:"form-group",style:{marginBottom:0},children:[e.jsxs("label",{className:"form-label",children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Biti Tarihi"]}),e.jsx(gt,{className:`form-input ${B.bitisTarihi?"input-error":""}`,value:P.bitisTarihi?P.bitisTarihi.split("T")[0]:"",onChange:M=>$({...P,bitisTarihi:M?`${M}T00:00:00`:""}),style:{fontSize:16}}),B.bitisTarihi&&e.jsxs("div",{className:"form-error",style:{marginTop:6,fontSize:13,color:"var(--color-danger)"},children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," ",B.bitisTarihi]})]})]}),e.jsxs("div",{className:"modal-actions",style:{marginTop:24,paddingTop:20,borderTop:"1px solid var(--color-border)"},children:[e.jsxs("button",{type:"button",className:"btn btn-secondary",onClick:()=>f(!1),children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," ptal"]}),e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:C,"data-testid":"btn-task-save",children:C?e.jsxs(e.Fragment,{children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Kaydediliyor..."]}):j?e.jsxs(e.Fragment,{children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Gncelle"]}):e.jsxs(e.Fragment,{children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Olutur"]})})]})]})}),e.jsx(qe,{isOpen:v,onClose:()=>{b(!1),fe(null),E({assigneeType:"personnel",assigneeId:"",note:""})},title:e.jsxs(e.Fragment,{children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Grev Ata"]}),children:_&&e.jsxs("form",{onSubmit:L,children:[e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Grev"]}),e.jsx("div",{style:{padding:"12px 14px",background:"var(--color-bg)",border:"1px solid var(--color-border)",borderRadius:8,fontSize:14,color:"var(--color-text)"},children:_.baslik})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Atama Tipi ",e.jsx("span",{style:{color:"var(--color-danger)"},children:"*"})]}),e.jsxs("select",{className:"form-select",value:ye.assigneeType,onChange:M=>E({...ye,assigneeType:M.target.value,assigneeId:""}),"data-testid":"select-assignee-type",children:[e.jsx("option",{value:"personnel",children:"Personel"}),e.jsx("option",{value:"team",children:"Ekip"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:[e.jsx(me,{icon:ye.assigneeType==="personnel"?"":"",sx:{mr:.5,verticalAlign:"middle"}})," ",ye.assigneeType==="personnel"?"Personel":"Ekip"," ",e.jsx("span",{style:{color:"var(--color-danger)"},children:"*"})]}),e.jsxs("select",{className:"form-select",value:ye.assigneeId,onChange:M=>E({...ye,assigneeId:M.target.value}),"data-testid":"select-assignee",children:[e.jsx("option",{value:"",children:"Sein..."}),ye.assigneeType==="personnel"?s.filter(M=>M.aktifMi&&!M.deleted).map(M=>e.jsxs("option",{value:M.id,children:[M.ad," ",M.soyad," ",M.email?`(${M.email})`:""]},M.id)):a.filter(M=>M.aktifMi&&!M.deleted).map(M=>e.jsxs("option",{value:M.id,children:[M.ad," ",M.aciklama?`- ${M.aciklama}`:""]},M.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Not (Opsiyonel)"]}),e.jsx("textarea",{className:"form-textarea",rows:"3",value:ye.note,onChange:M=>E({...ye,note:M.target.value}),placeholder:"Atama ile ilgili notlarnz buraya yazabilirsiniz...",style:{minHeight:80}})]}),e.jsxs("div",{className:"modal-actions",style:{marginTop:24,paddingTop:20,borderTop:"1px solid var(--color-border)"},children:[e.jsxs("button",{type:"button",className:"btn btn-secondary",onClick:()=>b(!1),children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," ptal"]}),e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:C||!ye.assigneeId,"data-testid":"btn-assign-submit",children:C?e.jsxs(e.Fragment,{children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Atanyor..."]}):e.jsxs(e.Fragment,{children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Ata"]})})]})]})}),e.jsx(qe,{isOpen:y,onClose:()=>{S(!1),le(null)},title:e.jsxs(e.Fragment,{children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Grev Detay"]}),size:"large",children:Q&&e.jsxs("div",{children:[e.jsxs("div",{style:{marginBottom:32,paddingBottom:20,borderBottom:"2px solid var(--color-border)"},children:[e.jsx("h2",{style:{fontSize:24,fontWeight:700,marginBottom:12,color:"var(--color-text)"},children:Q.baslik}),Q.aciklama&&e.jsx("p",{style:{fontSize:15,color:"var(--color-text-light)",lineHeight:1.6,margin:0},children:Q.aciklama})]}),e.jsxs("div",{style:{marginBottom:32},children:[e.jsxs("h3",{style:{fontSize:16,fontWeight:600,marginBottom:16,color:"var(--color-text)"},children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Grev Bilgileri"]}),e.jsxs("div",{className:"grid grid-2",style:{gap:16},children:[e.jsxs("div",{style:{padding:16,background:"var(--color-bg)",borderRadius:8,border:"1px solid var(--color-border)"},children:[e.jsxs("div",{style:{fontSize:12,color:"var(--color-text-light)",marginBottom:6},children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," ncelik"]}),e.jsx("div",{style:{fontSize:15,fontWeight:600},children:Zj(Q.oncelik)})]}),e.jsxs("div",{style:{padding:16,background:"var(--color-bg)",borderRadius:8,border:"1px solid var(--color-border)"},children:[e.jsxs("div",{style:{fontSize:12,color:"var(--color-text-light)",marginBottom:6},children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Durum"]}),e.jsx("div",{style:{fontSize:15,fontWeight:600},children:Xj(Q.durum)})]}),e.jsxs("div",{style:{padding:16,background:"var(--color-bg)",borderRadius:8,border:"1px solid var(--color-border)"},children:[e.jsxs("div",{style:{fontSize:12,color:"var(--color-text-light)",marginBottom:6},children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Balang"]}),e.jsx("div",{style:{fontSize:15,fontWeight:500},children:qu(Q.baslangicTarihi)||"-"})]}),e.jsxs("div",{style:{padding:16,background:"var(--color-bg)",borderRadius:8,border:"1px solid var(--color-border)"},children:[e.jsxs("div",{style:{fontSize:12,color:"var(--color-text-light)",marginBottom:6},children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Biti"]}),e.jsx("div",{style:{fontSize:15,fontWeight:500},children:qu(Q.bitisTarihi)||"-"})]}),e.jsxs("div",{style:{padding:16,background:"var(--color-bg)",borderRadius:8,border:"1px solid var(--color-border)"},children:[e.jsxs("div",{style:{fontSize:12,color:"var(--color-text-light)",marginBottom:6},children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Oluturulma"]}),e.jsx("div",{style:{fontSize:13,fontWeight:500},children:Do(Q.createdAt)})]}),e.jsxs("div",{style:{padding:16,background:"var(--color-bg)",borderRadius:8,border:"1px solid var(--color-border)"},children:[e.jsxs("div",{style:{fontSize:12,color:"var(--color-text-light)",marginBottom:6},children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Gncellenme"]}),e.jsx("div",{style:{fontSize:13,fontWeight:500},children:Do(Q.updatedAt)})]})]})]}),e.jsxs("div",{style:{marginBottom:32},children:[e.jsxs("h3",{style:{fontSize:16,fontWeight:600,marginBottom:16,color:"var(--color-text)"},children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Mevcut Atamalar"]}),Q.currentAssignments&&Q.currentAssignments.length>0?e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:12},children:Q.currentAssignments.map(M=>{const re=s.reduce((we,W)=>(we[W.id]=W,we),{}),ke=a.reduce((we,W)=>(we[W.id]=W,we),{});let be="Bilinmiyor";if(M.assigneeType==="personnel"){const we=re[M.assigneeId];we&&(be=`${we.ad} ${we.soyad}`)}else if(M.assigneeType==="team"){const we=ke[M.assigneeId];we&&(be=` ${we.ad}`)}return e.jsxs("div",{style:{padding:16,background:"var(--color-bg)",borderRadius:8,border:"1px solid var(--color-primary)",borderLeftWidth:4},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:8},children:[e.jsx("span",{style:{fontSize:18},children:e.jsx(me,{icon:M.assigneeType==="personnel"?"":""})}),e.jsx("strong",{style:{fontSize:15},children:M.assigneeType==="personnel"?"Personel":"Ekip"}),e.jsx("span",{style:{fontSize:15,fontWeight:500},children:be})]}),M.note&&e.jsxs("div",{style:{marginTop:8,padding:8,background:"var(--color-white)",borderRadius:4,fontSize:13,color:"var(--color-text-light)"},children:[" ",M.note]}),e.jsxs("div",{style:{fontSize:12,color:"var(--color-text-light)",marginTop:8},children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," ",Do(M.createdAt)," tarihinde atand"]})]},M.id)})}):e.jsxs("div",{style:{padding:24,textAlign:"center",background:"var(--color-bg)",borderRadius:8,border:"1px dashed var(--color-border)",color:"var(--color-text-light)"},children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Henz atama yaplmam"]})]}),Q.assignmentHistory&&Q.assignmentHistory.length>0&&e.jsxs("div",{style:{marginBottom:32},children:[e.jsxs("h3",{style:{fontSize:16,fontWeight:600,marginBottom:16,color:"var(--color-text)"},children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Atama Gemii"]}),e.jsx("div",{style:{maxHeight:350,overflowY:"auto",display:"flex",flexDirection:"column",gap:10},children:Q.assignmentHistory.map(M=>{const re=s.reduce((we,W)=>(we[W.id]=W,we),{}),ke=a.reduce((we,W)=>(we[W.id]=W,we),{});let be="Bilinmiyor";if(M.assigneeType==="personnel"){const we=re[M.assigneeId];we&&(be=`${we.ad} ${we.soyad}`)}else if(M.assigneeType==="team"){const we=ke[M.assigneeId];we&&(be=` ${we.ad}`)}return e.jsxs("div",{style:{padding:12,background:"var(--color-bg)",borderRadius:6,borderLeft:M.active?"4px solid var(--color-primary)":"4px solid var(--color-border)",border:"1px solid var(--color-border)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:6},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[e.jsx(me,{icon:M.assigneeType==="personnel"?"":""}),e.jsx("strong",{style:{fontSize:14},children:M.assigneeType==="personnel"?"Personel":"Ekip"}),e.jsx("span",{style:{fontSize:14},children:be})]}),M.active&&e.jsxs("span",{className:"badge badge-success",style:{fontSize:11},children:[e.jsx(me,{icon:"",sx:{fontSize:12,verticalAlign:"middle",mr:.5}})," Aktif"]})]}),e.jsxs("div",{style:{fontSize:12,color:"var(--color-text-light)",marginBottom:M.note?6:0},children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," ",Do(M.createdAt)]}),M.note&&e.jsxs("div",{style:{fontSize:13,color:"var(--color-text-light)",marginTop:6,paddingTop:6,borderTop:"1px solid var(--color-border)"},children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," ",M.note]})]},M.id)})})]}),e.jsxs("div",{className:"modal-actions",style:{marginTop:32,paddingTop:24,borderTop:"2px solid var(--color-border)",display:"flex",gap:12,justifyContent:"flex-end"},children:[Q.durum!=="done"&&e.jsx("button",{type:"button",className:"btn btn-success",onClick:()=>{const M=Q.durum==="todo"?"in_progress":Q.durum==="in_progress"?"done":"todo";ne(Q,M),S(!1)},children:Q.durum==="todo"?e.jsxs(e.Fragment,{children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Balat"]}):Q.durum==="in_progress"?e.jsxs(e.Fragment,{children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Tamamla"]}):e.jsxs(e.Fragment,{children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Yeniden A"]})}),e.jsxs("button",{type:"button",className:"btn btn-primary",onClick:()=>{S(!1),oe(Q)},children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Dzenle"]}),e.jsxs("button",{type:"button",className:"btn btn-secondary",onClick:()=>S(!1),children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Kapat"]})]})]})}),e.jsxs(qe,{isOpen:!!A,onClose:()=>O(null),title:e.jsxs(e.Fragment,{children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Grev Sil"]}),children:[e.jsxs("div",{style:{padding:"8px 0"},children:[e.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:24,fontSize:48},children:e.jsx(me,{icon:"",sx:{fontSize:48}})}),e.jsxs("p",{style:{fontSize:16,textAlign:"center",marginBottom:8,color:"var(--color-text)",lineHeight:1.6},children:[e.jsx("strong",{style:{fontSize:18,color:"var(--color-danger)"},children:A&&A.baslik})," ","grevini silmek istediinize emin misiniz?"]}),e.jsx("p",{style:{fontSize:13,textAlign:"center",color:"var(--color-text-light)",marginBottom:0},children:"Bu ilem geri alnamaz ve grev listeden kaldrlacaktr."})]}),e.jsxs("div",{className:"modal-actions",style:{marginTop:32,paddingTop:20,borderTop:"1px solid var(--color-border)"},children:[e.jsxs("button",{type:"button",className:"btn btn-secondary",onClick:()=>O(null),children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," ptal"]}),e.jsxs("button",{type:"button",className:"btn btn-danger",onClick:ie,children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Sil"]})]})]})]})},Ao={ad:"",soyad:"",email:"",telefon:"",unvan:"",aktifMi:!0,rolId:"",createUser:!1,username:"",password:"",userRole:"user"},HE=()=>{const[t,n]=c.useState([]),[s,r]=c.useState([]),[a,l]=c.useState(!0),[i,o]=c.useState(""),[d,m]=c.useState(""),[p,g]=c.useState(null),[h,k]=c.useState(!1),[x,w]=c.useState(null),[N,f]=c.useState(Ao),[v,b]=c.useState({}),[y,S]=c.useState(!1),[j,z]=c.useState(null),[P,$]=c.useState(null),[B,q]=c.useState([]);c.useEffect(()=>{(async()=>{try{l(!0),o("");const[D,G,U]=await Promise.all([Sl(),DS(!0),wS().catch(()=>[])]);n(D),r(G),q(U||[])}catch(D){o(D.message||"Personel verileri alnamad")}finally{l(!1)}})()},[]);const C=c.useMemo(()=>{let E=t.filter(G=>!G.deleted);p!==null&&(E=E.filter(G=>G.aktifMi===p));const D=d.trim().toLowerCase();return D&&(E=E.filter(G=>(G.ad||"").toLowerCase().includes(D)||(G.soyad||"").toLowerCase().includes(D)||(G.email||"").toLowerCase().includes(D)||(G.unvan||"").toLowerCase().includes(D))),E},[t,d,p]),Z=()=>{w(null),f(Ao),b({}),k(!0)},A=E=>{w(E);const D=B.find(G=>G.personnelId===E.id);f({ad:E.ad||"",soyad:E.soyad||"",email:E.email||"",telefon:E.telefon||"",unvan:E.unvan||"",aktifMi:E.aktifMi!==!1,rolId:E.rolId||"",createUser:!1,username:(D==null?void 0:D.username)||"",password:"",userRole:(D==null?void 0:D.role)||"user",hasExistingUser:!!D}),b({}),k(!0)},O=()=>{const E={};return N.ad.trim()||(E.ad="Ad gerekli"),N.soyad.trim()||(E.soyad="Soyad gerekli"),N.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(N.email)||(E.email="Geerli bir e-posta adresi girin"):E.email="E-posta gerekli",N.createUser&&!N.hasExistingUser&&(N.username.trim()?N.username.length<3&&(E.username="En az 3 karakter olmal"):E.username="Kullanc ad gerekli",N.password?N.password.length<4&&(E.password="En az 4 karakter olmal"):E.password="ifre gerekli"),b(E),Object.keys(E).length===0},_=async E=>{if(E.preventDefault(),!!O())try{S(!0),o("");let D;if(x?(D=await j6(x.id,{ad:N.ad,soyad:N.soyad,email:N.email,telefon:N.telefon,unvan:N.unvan,aktifMi:N.aktifMi,rolId:N.rolId}),n(G=>G.map(U=>U.id===D.id?D:U)),w(null)):(D=await v6({ad:N.ad,soyad:N.soyad,email:N.email,telefon:N.telefon,unvan:N.unvan,aktifMi:N.aktifMi,rolId:N.rolId}),n(G=>[D,...G])),N.createUser&&!N.hasExistingUser&&D)try{const G=await r6({username:N.username,password:N.password,displayName:`${N.ad} ${N.soyad}`.trim(),role:N.userRole,personnelId:D.id});q(U=>[...U,G])}catch(G){o(`Personel kaydedildi ancak kullanc oluturulamad: ${G.message}`)}f(Ao),k(!1)}catch(D){o(D.message||"Kayt baarsz")}finally{S(!1)}},fe=async(E,D)=>{try{const G=await b6(E.id,D);n(U=>U.map(H=>H.id===G.id?G:H))}catch(G){o(G.message||"Durum gncelleme baarsz")}},Q=async()=>{if(j)try{await S6(j.id),n(E=>E.map(D=>D.id===j.id?{...D,deleted:!0,aktifMi:!1}:D)),z(null)}catch(E){o(E.message||"Silme ilemi baarsz")}},le=E=>{const D=s.find(G=>G.id===E);return D?D.ad:"Rol yok"},ye=c.useMemo(()=>[{accessor:"ad",label:"Ad Soyad",render:(E,D)=>e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:`${D.ad} ${D.soyad}`}),D.unvan&&e.jsx("div",{className:"text-sm text-muted",children:D.unvan})]})},{accessor:"email",label:"E-posta"},{accessor:"telefon",label:"Telefon"},{accessor:"rolId",label:"Rol",render:E=>e.jsx("span",{className:"badge badge-secondary",children:le(E)})},{accessor:"aktifMi",label:"Durum",render:E=>e.jsx("span",{className:`badge ${E?"badge-success":"badge-secondary"}`,children:E?"Aktif":"Pasif"})},{accessor:"actions",label:"lem",render:(E,D)=>e.jsxs("div",{className:"action-buttons",children:[e.jsx("button",{className:"btn btn-sm btn-secondary",type:"button",onClick:G=>{G.stopPropagation(),A(D)},children:"Dzenle"}),e.jsx("button",{className:`btn btn-sm ${D.aktifMi?"btn-warning":"btn-success"}`,type:"button",onClick:G=>{G.stopPropagation(),fe(D,!D.aktifMi)},children:D.aktifMi?"Pasif Yap":"Aktif Yap"}),e.jsx("button",{className:"btn btn-sm btn-danger",type:"button",onClick:G=>{G.stopPropagation(),z(D)},children:"Sil"})]})}],[s]);return a?e.jsx(kt,{}):e.jsxs("div",{children:[e.jsx(it,{title:"Personel Ynetimi",subtitle:"Personel bilgilerini grntleyin ve ynetin",actions:e.jsx("button",{className:"btn btn-primary",type:"button",onClick:Z,children:"+ Yeni Personel"})}),i&&e.jsxs("div",{className:"card error-card",children:[e.jsx("div",{className:"error-title",children:"Hata"}),e.jsx("div",{className:"error-message",children:i})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsxs("div",{className:"filters",children:[e.jsx("input",{type:"text",className:"input",placeholder:"Ara (ad, soyad, e-posta, nvan)...",value:d,onChange:E=>m(E.target.value)}),e.jsxs("select",{className:"select",value:p===null?"all":p?"aktif":"pasif",onChange:E=>{const D=E.target.value;g(D==="all"?null:D==="aktif")},children:[e.jsx("option",{value:"all",children:"Tm"}),e.jsx("option",{value:"aktif",children:"Aktif"}),e.jsx("option",{value:"pasif",children:"Pasif"})]})]})}),e.jsx(sn,{columns:ye,rows:C})]}),e.jsx(qe,{isOpen:h,onClose:()=>{k(!1),w(null),f(Ao),b({})},title:x?" Personel Dzenle":" Yeni Personel",children:e.jsxs("form",{onSubmit:_,children:[e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:[" Ad ",e.jsx("span",{style:{color:"var(--color-danger)"},children:"*"})]}),e.jsx("input",{type:"text",className:`form-input ${v.ad?"input-error":""}`,value:N.ad,onChange:E=>f({...N,ad:E.target.value}),placeholder:"rn: Ahmet"}),v.ad&&e.jsxs("div",{className:"form-error",style:{marginTop:6,fontSize:13,color:"var(--color-danger)"},children:[" ",v.ad]})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:[" Soyad ",e.jsx("span",{style:{color:"var(--color-danger)"},children:"*"})]}),e.jsx("input",{type:"text",className:`form-input ${v.soyad?"input-error":""}`,value:N.soyad,onChange:E=>f({...N,soyad:E.target.value}),placeholder:"rn: Ylmaz"}),v.soyad&&e.jsxs("div",{className:"form-error",style:{marginTop:6,fontSize:13,color:"var(--color-danger)"},children:[" ",v.soyad]})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:[" E-posta ",e.jsx("span",{style:{color:"var(--color-danger)"},children:"*"})]}),e.jsx("input",{type:"email",className:`form-input ${v.email?"input-error":""}`,value:N.email,onChange:E=>f({...N,email:E.target.value}),placeholder:"ornek@email.com"}),v.email&&e.jsxs("div",{className:"form-error",style:{marginTop:6,fontSize:13,color:"var(--color-danger)"},children:[" ",v.email]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16,marginBottom:20},children:[e.jsxs("div",{className:"form-group",style:{marginBottom:0},children:[e.jsx("label",{className:"form-label",children:" Telefon"}),e.jsx("input",{type:"text",className:"form-input",value:N.telefon,onChange:E=>f({...N,telefon:E.target.value}),placeholder:"+90 555 123 4567"})]}),e.jsxs("div",{className:"form-group",style:{marginBottom:0},children:[e.jsx("label",{className:"form-label",children:" nvan"}),e.jsx("input",{type:"text",className:"form-input",value:N.unvan,onChange:E=>f({...N,unvan:E.target.value}),placeholder:"rn: Proje Mdr"})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16,marginBottom:20},children:[e.jsxs("div",{className:"form-group",style:{marginBottom:0},children:[e.jsx("label",{className:"form-label",children:" Rol"}),e.jsxs("select",{className:"form-select",value:N.rolId,onChange:E=>f({...N,rolId:E.target.value}),children:[e.jsx("option",{value:"",children:"Rol sein..."}),s.map(E=>e.jsx("option",{value:E.id,children:E.ad},E.id))]})]}),e.jsx("div",{className:"form-group",style:{marginBottom:0,display:"flex",alignItems:"flex-end"},children:e.jsxs("label",{className:"form-label",style:{display:"flex",alignItems:"center",gap:8,cursor:"pointer"},children:[e.jsx("input",{type:"checkbox",checked:N.aktifMi,onChange:E=>f({...N,aktifMi:E.target.checked}),style:{width:18,height:18,cursor:"pointer"}})," Aktif"]})})]}),e.jsx("div",{style:{marginTop:16,paddingTop:16,borderTop:"1px solid var(--color-border)",marginBottom:20},children:N.hasExistingUser?e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,padding:"12px 16px",background:"rgba(22, 163, 74, 0.1)",borderRadius:8,border:"1px solid rgba(22, 163, 74, 0.3)"},children:[e.jsx("span",{style:{fontSize:20},children:""}),e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:600,color:"var(--color-success)"},children:"Kullanc Hesab Mevcut"}),e.jsxs("div",{style:{fontSize:12,color:"var(--color-text-light)"},children:["Kullanc ad: ",e.jsx("strong",{children:N.username})]})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("label",{className:"form-label",style:{display:"flex",alignItems:"center",gap:10,cursor:"pointer",padding:"10px 0"},children:[e.jsx("input",{type:"checkbox",checked:N.createUser,onChange:E=>f({...N,createUser:E.target.checked}),style:{width:20,height:20,cursor:"pointer"}}),e.jsx("span",{style:{fontSize:15},children:" Sisteme giri iin kullanc hesab olutur"})]}),N.createUser&&e.jsxs("div",{style:{marginTop:12,padding:16,background:"var(--color-bg-secondary)",borderRadius:8,border:"1px solid var(--color-border)"},children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16},children:[e.jsxs("div",{className:"form-group",style:{marginBottom:0},children:[e.jsxs("label",{className:"form-label",children:[" Kullanc Ad ",e.jsx("span",{style:{color:"var(--color-danger)"},children:"*"})]}),e.jsx("input",{type:"text",className:`form-input ${v.username?"input-error":""}`,value:N.username,onChange:E=>f({...N,username:E.target.value.toLowerCase().replace(/\s/g,"")}),placeholder:"ornek: ahmetyilmaz"}),v.username&&e.jsxs("div",{style:{marginTop:4,fontSize:12,color:"var(--color-danger)"},children:[" ",v.username]})]}),e.jsxs("div",{className:"form-group",style:{marginBottom:0},children:[e.jsxs("label",{className:"form-label",children:[" ifre ",e.jsx("span",{style:{color:"var(--color-danger)"},children:"*"})]}),e.jsx("input",{type:"password",className:`form-input ${v.password?"input-error":""}`,value:N.password,onChange:E=>f({...N,password:E.target.value}),placeholder:"En az 4 karakter"}),v.password&&e.jsxs("div",{style:{marginTop:4,fontSize:12,color:"var(--color-danger)"},children:[" ",v.password]})]})]}),e.jsxs("div",{className:"form-group",style:{marginTop:12,marginBottom:0},children:[e.jsx("label",{className:"form-label",children:" Kullanc Rol"}),e.jsxs("select",{className:"form-select",value:N.userRole,onChange:E=>f({...N,userRole:E.target.value}),children:[e.jsx("option",{value:"user",children:"Kullanc"}),e.jsx("option",{value:"manager",children:"Mdr"}),e.jsx("option",{value:"admin",children:"Ynetici"})]})]})]})]})}),e.jsxs("div",{className:"modal-actions",style:{marginTop:24,paddingTop:20,borderTop:"1px solid var(--color-border)"},children:[e.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>k(!1),children:" ptal"}),e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:y,children:y?" Kaydediliyor...":x?" Gncelle":" Olutur"})]})]})}),e.jsxs(qe,{isOpen:!!j,onClose:()=>z(null),title:" Personel Sil",children:[e.jsxs("div",{style:{padding:"8px 0"},children:[e.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:24,fontSize:48},children:""}),e.jsxs("p",{style:{fontSize:16,textAlign:"center",marginBottom:8,color:"var(--color-text)",lineHeight:1.6},children:[e.jsx("strong",{style:{fontSize:18,color:"var(--color-danger)"},children:j&&`${j.ad} ${j.soyad}`})," ","personelini silmek istediinize emin misiniz?"]}),e.jsx("p",{style:{fontSize:13,textAlign:"center",color:"var(--color-text-light)",marginBottom:0},children:"Bu ilem geri alnamaz ve personel listeden kaldrlacaktr."})]}),e.jsxs("div",{className:"modal-actions",style:{marginTop:32,paddingTop:20,borderTop:"1px solid var(--color-border)"},children:[e.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>z(null),children:" ptal"}),e.jsx("button",{type:"button",className:"btn btn-danger",onClick:Q,children:" Sil"})]})]})]})},Eo={ad:"",aciklama:"",aktifMi:!0},VE=()=>{const[t,n]=c.useState([]),[s,r]=c.useState([]),[a,l]=c.useState(!0),[i,o]=c.useState(""),[d,m]=c.useState(""),[p,g]=c.useState(null),[h,k]=c.useState(!1),[x,w]=c.useState(!1),[N,f]=c.useState(null),[v,b]=c.useState([]),[y,S]=c.useState(null),[j,z]=c.useState(Eo),[P,$]=c.useState({}),[B,q]=c.useState(!1),[C,Z]=c.useState(null),[A,O]=c.useState("");c.useEffect(()=>{(async()=>{try{l(!0),o("");const[F,J]=await Promise.all([Nl(),Sl(!0)]);n(F),r(J)}catch(F){o(F.message||"Ekip verileri alnamad")}finally{l(!1)}})()},[]);const _=c.useMemo(()=>{let te=t.filter(J=>!J.deleted);p!==null&&(te=te.filter(J=>J.aktifMi===p));const F=d.trim().toLowerCase();return F&&(te=te.filter(J=>(J.ad||"").toLowerCase().includes(F)||(J.aciklama||"").toLowerCase().includes(F))),te},[t,d,p]),fe=()=>{S(null),z(Eo),$({}),k(!0)},Q=te=>{S(te),z({ad:te.ad||"",aciklama:te.aciklama||"",aktifMi:te.aktifMi!==!1}),$({}),k(!0)},le=async te=>{f(te);try{const F=await Ru(te.id);b(F),w(!0)}catch(F){o(F.message||"yeler yklenemedi")}},ye=()=>{const te={};return j.ad.trim()||(te.ad="Ekip ad gerekli"),$(te),Object.keys(te).length===0},E=async te=>{if(te.preventDefault(),!!ye())try{if(q(!0),o(""),y){const F=await T6(y.id,j);n(J=>J.map(xe=>xe.id===F.id?F:xe)),S(null)}else{const F=await w6(j);n(J=>[F,...J])}z(Eo),k(!1)}catch(F){o(F.message||"Kayt baarsz")}finally{q(!1)}},D=async()=>{if(C)try{await z6(C.id),n(te=>te.map(F=>F.id===C.id?{...F,deleted:!0,aktifMi:!1}:F)),Z(null)}catch(te){o(te.message||"Silme ilemi baarsz")}},G=async()=>{if(!(!N||!A))try{await D6(N.id,A);const te=await Ru(N.id);b(te),O("")}catch(te){o(te.message||"ye ekleme baarsz")}},U=async te=>{if(N)try{await R6(N.id,te);const F=await Ru(N.id);b(F)}catch(F){o(F.message||"ye karma baarsz")}},H=te=>{const F=s.find(J=>J.id===te);return F?`${F.ad} ${F.soyad}`:"Bilinmiyor"},oe=c.useMemo(()=>[{accessor:"ad",label:"Ekip Ad"},{accessor:"aciklama",label:"Aklama"},{accessor:"aktifMi",label:"Durum",render:te=>e.jsx("span",{className:`badge ${te?"badge-success":"badge-secondary"}`,children:te?"Aktif":"Pasif"})},{accessor:"actions",label:"lem",render:(te,F)=>e.jsxs("div",{className:"action-buttons",children:[e.jsx("button",{className:"btn btn-sm btn-secondary",type:"button",onClick:J=>{J.stopPropagation(),le(F)},children:"yeler"}),e.jsx("button",{className:"btn btn-sm btn-secondary",type:"button",onClick:J=>{J.stopPropagation(),Q(F)},children:"Dzenle"}),e.jsx("button",{className:"btn btn-sm btn-danger",type:"button",onClick:J=>{J.stopPropagation(),Z(F)},children:"Sil"})]})}],[s]);return a?e.jsx(kt,{}):e.jsxs("div",{children:[e.jsx(it,{title:"Ekip Ynetimi",subtitle:"Ekipleri grntleyin ve ynetin",actions:e.jsx("button",{className:"btn btn-primary",type:"button",onClick:fe,children:"+ Yeni Ekip"})}),i&&e.jsxs("div",{className:"card error-card",children:[e.jsx("div",{className:"error-title",children:"Hata"}),e.jsx("div",{className:"error-message",children:i})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsxs("div",{className:"filters",children:[e.jsx("input",{type:"text",className:"input",placeholder:"Ara (ad, aklama)...",value:d,onChange:te=>m(te.target.value)}),e.jsxs("select",{className:"select",value:p===null?"all":p?"aktif":"pasif",onChange:te=>{const F=te.target.value;g(F==="all"?null:F==="aktif")},children:[e.jsx("option",{value:"all",children:"Tm"}),e.jsx("option",{value:"aktif",children:"Aktif"}),e.jsx("option",{value:"pasif",children:"Pasif"})]})]})}),e.jsx(sn,{columns:oe,rows:_})]}),e.jsx(qe,{isOpen:h,onClose:()=>{k(!1),S(null),z(Eo),$({})},title:y?e.jsxs(e.Fragment,{children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Ekip Dzenle"]}):e.jsxs(e.Fragment,{children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Yeni Ekip"]}),children:e.jsxs("form",{onSubmit:E,children:[e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Ekip Ad ",e.jsx("span",{style:{color:"var(--color-danger)"},children:"*"})]}),e.jsx("input",{type:"text",className:`form-input ${P.ad?"input-error":""}`,value:j.ad,onChange:te=>z({...j,ad:te.target.value}),placeholder:"rn: retim Ekibi"}),P.ad&&e.jsxs("div",{className:"form-error",style:{marginTop:6,fontSize:13,color:"var(--color-danger)"},children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," ",P.ad]})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Aklama"]}),e.jsx("textarea",{className:"form-textarea",rows:"4",value:j.aciklama,onChange:te=>z({...j,aciklama:te.target.value}),placeholder:"Ekip hakknda aklama yazabilirsiniz...",style:{minHeight:100}})]}),e.jsx("div",{className:"form-group",children:e.jsxs("label",{className:"form-label",style:{display:"flex",alignItems:"center",gap:8,cursor:"pointer"},children:[e.jsx("input",{type:"checkbox",checked:j.aktifMi,onChange:te=>z({...j,aktifMi:te.target.checked}),style:{width:18,height:18,cursor:"pointer"}}),e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Aktif"]})}),e.jsxs("div",{className:"modal-actions",style:{marginTop:24,paddingTop:20,borderTop:"1px solid var(--color-border)"},children:[e.jsxs("button",{type:"button",className:"btn btn-secondary",onClick:()=>k(!1),children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," ptal"]}),e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:B,children:B?e.jsxs(e.Fragment,{children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Kaydediliyor..."]}):y?e.jsxs(e.Fragment,{children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Gncelle"]}):e.jsxs(e.Fragment,{children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Olutur"]})})]})]})}),e.jsxs(qe,{isOpen:x,onClose:()=>{w(!1),f(null),b([]),O("")},title:N?e.jsxs(e.Fragment,{children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," ",N.ad," - yeler"]}):e.jsxs(e.Fragment,{children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Ekip yeleri"]}),children:[e.jsxs("div",{className:"form-group",style:{marginBottom:24},children:[e.jsxs("label",{className:"form-label",children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Yeni ye Ekle"]}),e.jsxs("div",{style:{display:"flex",gap:12},children:[e.jsxs("select",{className:"form-select",style:{flex:1},value:A,onChange:te=>O(te.target.value),children:[e.jsx("option",{value:"",children:"Personel sein..."}),s.filter(te=>te.aktifMi&&!te.deleted&&!v.some(F=>F.personnelId===te.id)).map(te=>e.jsxs("option",{value:te.id,children:[te.ad," ",te.soyad," ",te.email?`(${te.email})`:""]},te.id))]}),e.jsxs("button",{type:"button",className:"btn btn-primary",onClick:G,disabled:!A,children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Ekle"]})]})]}),e.jsxs("div",{style:{borderTop:"1px solid var(--color-border)",paddingTop:16},children:[e.jsxs("h4",{style:{fontSize:15,fontWeight:600,marginBottom:12,color:"var(--color-text)"},children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Mevcut yeler"]}),v.length===0?e.jsxs("div",{style:{padding:32,textAlign:"center",background:"var(--color-bg)",borderRadius:8,border:"1px dashed var(--color-border)",color:"var(--color-text-light)"},children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Henz ye eklenmemi"]}):e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:8},children:v.map(te=>e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:12,background:"var(--color-bg)",borderRadius:8,border:"1px solid var(--color-border)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[e.jsx(me,{icon:"",sx:{fontSize:18}}),e.jsx("span",{style:{fontSize:14,fontWeight:500},children:H(te.personnelId)})]}),e.jsxs("button",{type:"button",className:"btn btn-sm btn-danger",onClick:()=>U(te.personnelId),children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," kar"]})]},te.id))})]})]}),e.jsxs(qe,{isOpen:!!C,onClose:()=>Z(null),title:e.jsxs(e.Fragment,{children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Ekip Sil"]}),children:[e.jsxs("div",{style:{padding:"8px 0"},children:[e.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:24,fontSize:48},children:e.jsx(me,{icon:"",sx:{fontSize:48}})}),e.jsxs("p",{style:{fontSize:16,textAlign:"center",marginBottom:8,color:"var(--color-text)",lineHeight:1.6},children:[e.jsx("strong",{style:{fontSize:18,color:"var(--color-danger)"},children:C&&C.ad})," ","ekibini silmek istediinize emin misiniz?"]}),e.jsx("p",{style:{fontSize:13,textAlign:"center",color:"var(--color-text-light)",marginBottom:0},children:"Bu ilem geri alnamaz ve ekip listeden kaldrlacaktr."})]}),e.jsxs("div",{className:"modal-actions",style:{marginTop:32,paddingTop:20,borderTop:"1px solid var(--color-border)"},children:[e.jsxs("button",{type:"button",className:"btn btn-secondary",onClick:()=>Z(null),children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," ptal"]}),e.jsxs("button",{type:"button",className:"btn btn-danger",onClick:D,children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Sil"]})]})]})]})},Io={ad:"",aciklama:"",permissions:[],aktifMi:!0},qE=[{value:"*",label:"Tm Yetkiler (Admin)"},{value:"tasks.*",label:"Tm Grev lemleri"},{value:"tasks.view",label:"Grevleri Grntle"},{value:"tasks.create",label:"Grev Olutur"},{value:"tasks.update",label:"Grev Gncelle"},{value:"tasks.delete",label:"Grev Sil"},{value:"personnel.*",label:"Tm Personel lemleri"},{value:"personnel.view",label:"Personeli Grntle"},{value:"personnel.create",label:"Personel Olutur"},{value:"personnel.update",label:"Personel Gncelle"},{value:"teams.*",label:"Tm Ekip lemleri"},{value:"teams.view",label:"Ekipleri Grntle"},{value:"teams.create",label:"Ekip Olutur"},{value:"teams.update",label:"Ekip Gncelle"}],YE=()=>{const[t,n]=c.useState([]),[s,r]=c.useState(!0),[a,l]=c.useState(""),[i,o]=c.useState(""),[d,m]=c.useState(null),[p,g]=c.useState(!1),[h,k]=c.useState(null),[x,w]=c.useState(Io),[N,f]=c.useState({}),[v,b]=c.useState(!1),[y,S]=c.useState(null);c.useEffect(()=>{(async()=>{try{r(!0),l("");const O=await DS();n(O)}catch(O){l(O.message||"Rol verileri alnamad")}finally{r(!1)}})()},[]);const j=c.useMemo(()=>{let A=t.filter(_=>!_.deleted);d!==null&&(A=A.filter(_=>_.aktifMi===d));const O=i.trim().toLowerCase();return O&&(A=A.filter(_=>(_.ad||"").toLowerCase().includes(O)||(_.aciklama||"").toLowerCase().includes(O))),A},[t,i,d]),z=()=>{k(null),w(Io),f({}),g(!0)},P=A=>{k(A),w({ad:A.ad||"",aciklama:A.aciklama||"",permissions:A.permissions||[],aktifMi:A.aktifMi!==!1}),f({}),g(!0)},$=()=>{const A={};return x.ad.trim()||(A.ad="Rol ad gerekli"),f(A),Object.keys(A).length===0},B=A=>{w(O=>{const _=O.permissions||[];return _.includes(A)?{...O,permissions:_.filter(fe=>fe!==A)}:{...O,permissions:[..._,A]}})},q=async A=>{if(A.preventDefault(),!!$())try{if(b(!0),l(""),h){const O=await k6(h.id,x);n(_=>_.map(fe=>fe.id===O.id?O:fe)),k(null)}else{const O=await N6(x);n(_=>[O,..._])}w(Io),g(!1)}catch(O){l(O.message||"Kayt baarsz")}finally{b(!1)}},C=async()=>{if(y)try{await C6(y.id),n(A=>A.map(O=>O.id===y.id?{...O,deleted:!0,aktifMi:!1}:O)),S(null)}catch(A){l(A.message||"Silme ilemi baarsz")}},Z=c.useMemo(()=>[{accessor:"ad",label:"Rol Ad"},{accessor:"aciklama",label:"Aklama"},{accessor:"permissions",label:"zinler",render:A=>e.jsxs("span",{className:"badge badge-info",children:[(A==null?void 0:A.length)||0," izin"]})},{accessor:"aktifMi",label:"Durum",render:A=>e.jsx("span",{className:`badge ${A?"badge-success":"badge-secondary"}`,children:A?"Aktif":"Pasif"})},{accessor:"actions",label:"lem",render:(A,O)=>e.jsxs("div",{className:"action-buttons",children:[e.jsx("button",{className:"btn btn-sm btn-secondary",type:"button",onClick:_=>{_.stopPropagation(),P(O)},children:"Dzenle"}),e.jsx("button",{className:"btn btn-sm btn-danger",type:"button",onClick:_=>{_.stopPropagation(),S(O)},children:"Sil"})]})}],[]);return s?e.jsx(kt,{}):e.jsxs("div",{children:[e.jsx(it,{title:"Rol Ynetimi",subtitle:"Rolleri ve izinleri ynetin",actions:e.jsx("button",{className:"btn btn-primary",type:"button",onClick:z,children:"+ Yeni Rol"})}),a&&e.jsxs("div",{className:"card error-card",children:[e.jsx("div",{className:"error-title",children:"Hata"}),e.jsx("div",{className:"error-message",children:a})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsxs("div",{className:"filters",children:[e.jsx("input",{type:"text",className:"input",placeholder:"Ara (ad, aklama)...",value:i,onChange:A=>o(A.target.value)}),e.jsxs("select",{className:"select",value:d===null?"all":d?"aktif":"pasif",onChange:A=>{const O=A.target.value;m(O==="all"?null:O==="aktif")},children:[e.jsx("option",{value:"all",children:"Tm"}),e.jsx("option",{value:"aktif",children:"Aktif"}),e.jsx("option",{value:"pasif",children:"Pasif"})]})]})}),e.jsx(sn,{columns:Z,rows:j})]}),e.jsx(qe,{isOpen:p,onClose:()=>{g(!1),k(null),w(Io),f({})},title:h?e.jsxs(e.Fragment,{children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Rol Dzenle"]}):e.jsxs(e.Fragment,{children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Yeni Rol"]}),children:e.jsxs("form",{onSubmit:q,children:[e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Rol Ad ",e.jsx("span",{style:{color:"var(--color-danger)"},children:"*"})]}),e.jsx("input",{type:"text",className:`form-input ${N.ad?"input-error":""}`,value:x.ad,onChange:A=>w({...x,ad:A.target.value}),placeholder:"rn: admin, manager, user"}),N.ad&&e.jsxs("div",{className:"form-error",style:{marginTop:6,fontSize:13,color:"var(--color-danger)"},children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," ",N.ad]})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Aklama"]}),e.jsx("textarea",{className:"form-textarea",rows:"3",value:x.aciklama,onChange:A=>w({...x,aciklama:A.target.value}),placeholder:"Rol hakknda aklama yazabilirsiniz...",style:{minHeight:80}})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," zinler"]}),e.jsx("div",{style:{padding:16,background:"var(--color-bg)",borderRadius:8,border:"1px solid var(--color-border)",maxHeight:200,overflowY:"auto",display:"flex",flexDirection:"column",gap:10},children:qE.map(A=>e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,cursor:"pointer",padding:"4px 0"},children:[e.jsx("input",{type:"checkbox",checked:x.permissions.includes(A.value),onChange:()=>B(A.value),style:{width:18,height:18,cursor:"pointer"}}),e.jsx("span",{style:{fontSize:14},children:A.label})]},A.value))})]}),e.jsx("div",{className:"form-group",children:e.jsxs("label",{className:"form-label",style:{display:"flex",alignItems:"center",gap:8,cursor:"pointer"},children:[e.jsx("input",{type:"checkbox",checked:x.aktifMi,onChange:A=>w({...x,aktifMi:A.target.checked}),style:{width:18,height:18,cursor:"pointer"}}),e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Aktif"]})}),e.jsxs("div",{className:"modal-actions",style:{marginTop:24,paddingTop:20,borderTop:"1px solid var(--color-border)"},children:[e.jsxs("button",{type:"button",className:"btn btn-secondary",onClick:()=>g(!1),children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," ptal"]}),e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:v,children:v?e.jsxs(e.Fragment,{children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Kaydediliyor..."]}):h?e.jsxs(e.Fragment,{children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Gncelle"]}):e.jsxs(e.Fragment,{children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Olutur"]})})]})]})}),e.jsxs(qe,{isOpen:!!y,onClose:()=>S(null),title:e.jsxs(e.Fragment,{children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Rol Sil"]}),children:[e.jsxs("div",{style:{padding:"8px 0"},children:[e.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:24,fontSize:48},children:e.jsx(me,{icon:"",sx:{fontSize:48}})}),e.jsxs("p",{style:{fontSize:16,textAlign:"center",marginBottom:8,color:"var(--color-text)",lineHeight:1.6},children:[e.jsx("strong",{style:{fontSize:18,color:"var(--color-danger)"},children:y&&y.ad})," ","roln silmek istediinize emin misiniz?"]}),e.jsx("p",{style:{fontSize:13,textAlign:"center",color:"var(--color-text-light)",marginBottom:0},children:"Bu ilem geri alnamaz ve rol listeden kaldrlacaktr."})]}),e.jsxs("div",{className:"modal-actions",style:{marginTop:32,paddingTop:20,borderTop:"1px solid var(--color-border)"},children:[e.jsxs("button",{type:"button",className:"btn btn-secondary",onClick:()=>S(null),children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," ptal"]}),e.jsxs("button",{type:"button",className:"btn btn-danger",onClick:C,children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Sil"]})]})]})]})},GE=()=>{const[t,n]=c.useState([]),[s,r]=c.useState(!0),[a,l]=c.useState(""),[i,o]=c.useState(!1),[d,m]=c.useState(null),[p,g]=c.useState({customerId:"",customerName:"",title:"",startType:"OLCU",newCustomer:!1,segment:"B2B",location:"",contact:""});c.useEffect(()=>{(async()=>{try{r(!0),l("");const w=await _d();n(w.filter(N=>!N.deleted))}catch(w){l(w.message||"Mteriler alnamad")}finally{r(!1)}})()},[]);const h=async x=>{x.preventDefault();try{o(!0),l("");let w=p.customerId,N=p.customerName;if(p.newCustomer){const v=await qh({name:p.customerName,segment:p.segment,location:p.location,contact:p.contact});w=v.id,N=v.name,n(b=>[v,...b])}const f=await TS({customerId:w,customerName:N,title:p.title,startType:p.startType});m(f),g({customerId:"",customerName:"",title:"",startType:"OLCU",newCustomer:!1,segment:"B2B",location:"",contact:""})}catch(w){l(w.message||" oluturulamad")}finally{o(!1)}},k=t.find(x=>x.id===p.customerId);return e.jsxs("div",{children:[e.jsx(it,{title:"Yeni  Balat (Wizard)",subtitle:"Mteri se ve balang trn belirle"}),a?e.jsxs("div",{className:"card error-card",children:[e.jsx("div",{className:"error-title",children:"Hata"}),e.jsx("div",{className:"error-message",children:a})]}):null,e.jsxs("form",{className:"card",onSubmit:h,children:[e.jsxs("div",{className:"grid grid-2",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",htmlFor:"job-title",children:" Bal"}),e.jsx("input",{id:"job-title",className:"form-input",placeholder:"rn: Balkon PVC Dorama",value:p.title,onChange:x=>g(w=>({...w,title:x.target.value})),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",htmlFor:"start-type",children:"Balatma Tr"}),e.jsxs("select",{id:"start-type",className:"form-select",value:p.startType,onChange:x=>g(w=>({...w,startType:x.target.value})),children:[e.jsx("option",{value:"OLCU",children:"l ile Balat"}),e.jsx("option",{value:"FIYATLANDIRMA",children:"Fiyatlandrma ile Balat"})]})]})]}),e.jsxs("div",{className:"card",style:{marginTop:12},children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Mteri"})}),e.jsxs("div",{className:"card-body",style:{display:"flex",gap:16,flexDirection:"column"},children:[e.jsxs("label",{className:"form-label",style:{display:"flex",gap:8,alignItems:"center"},children:[e.jsx("input",{type:"radio",name:"customer-mode",checked:!p.newCustomer,onChange:()=>g(x=>({...x,newCustomer:!1}))}),"Mevcut mteriden se"]}),p.newCustomer?null:e.jsxs("select",{className:"form-select",value:p.customerId,onChange:x=>{const w=x.target.value,N=t.find(f=>f.id===w);g(f=>({...f,customerId:w,customerName:(N==null?void 0:N.name)||""}))},required:!0,children:[e.jsx("option",{value:"",children:"Mteri sein"}),t.map(x=>e.jsxs("option",{value:x.id,children:[x.name," (",x.segment,")"]},x.id))]}),e.jsxs("label",{className:"form-label",style:{display:"flex",gap:8,alignItems:"center"},children:[e.jsx("input",{type:"radio",name:"customer-mode",checked:p.newCustomer,onChange:()=>g(x=>({...x,newCustomer:!0,customerId:"",customerName:""}))}),"Yeni mteri olutur"]}),p.newCustomer?e.jsxs("div",{className:"grid grid-2",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",htmlFor:"new-name",children:"Ad"}),e.jsx("input",{id:"new-name",className:"form-input",value:p.customerName,onChange:x=>g(w=>({...w,customerName:x.target.value})),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",htmlFor:"new-segment",children:"Segment"}),e.jsxs("select",{id:"new-segment",className:"form-select",value:p.segment,onChange:x=>g(w=>({...w,segment:x.target.value})),children:[e.jsx("option",{value:"B2B",children:"B2B"}),e.jsx("option",{value:"B2C",children:"B2C"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",htmlFor:"new-location",children:"Lokasyon"}),e.jsx("input",{id:"new-location",className:"form-input",value:p.location,onChange:x=>g(w=>({...w,location:x.target.value}))})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",htmlFor:"new-contact",children:"letiim"}),e.jsx("input",{id:"new-contact",className:"form-input",value:p.contact,onChange:x=>g(w=>({...w,contact:x.target.value}))})]})]}):k?e.jsxs("div",{className:"card subtle-card",children:[e.jsxs("div",{className:"metric-row",children:[e.jsx("span",{className:"metric-label",children:"Segment"}),e.jsx("span",{className:"metric-value",children:k.segment})]}),e.jsxs("div",{className:"metric-row",children:[e.jsx("span",{className:"metric-label",children:"Lokasyon"}),e.jsx("span",{className:"metric-value",children:k.location})]}),e.jsxs("div",{className:"metric-row",children:[e.jsx("span",{className:"metric-label",children:"letiim"}),e.jsx("span",{className:"metric-value",children:k.contact})]})]}):null]})]}),e.jsxs("div",{className:"page-actions",style:{marginTop:16},children:[e.jsx("button",{className:"btn btn-secondary",type:"button",onClick:()=>m(null),children:"Temizle"}),e.jsx("button",{className:"btn btn-primary",type:"submit",disabled:i,children:i?"Kaydediliyor...":"Kaydet ve Balat"})]})]}),d?e.jsxs("div",{className:"card",style:{marginTop:24},children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h3",{className:"card-title",children:" oluturuldu"}),e.jsx("span",{className:"badge badge-primary",children:d.id})]}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"metric-list",children:[e.jsxs("div",{className:"metric-row",children:[e.jsx("span",{className:"metric-label",children:" Bal"}),e.jsx("span",{className:"metric-value",children:d.title})]}),e.jsxs("div",{className:"metric-row",children:[e.jsx("span",{className:"metric-label",children:"Mteri"}),e.jsx("span",{className:"metric-value",children:d.customerName})]}),e.jsxs("div",{className:"metric-row",children:[e.jsx("span",{className:"metric-label",children:"Durum"}),e.jsx("span",{className:"metric-value",children:d.status})]}),e.jsxs("div",{className:"metric-row",children:[e.jsx("span",{className:"metric-label",children:"Balatma"}),e.jsx("span",{className:"metric-value",children:d.startType})]})]})})]}):null]})},JE=[{code:"+90",iso:"TR",flag:"",format:"### ### ## ##"},{code:"+49",iso:"DE",flag:"",format:"### ### ####"},{code:"+44",iso:"GB",flag:"",format:"#### ### ###"},{code:"+1",iso:"US",flag:"",format:"### ### ####"},{code:"+33",iso:"FR",flag:"",format:"# ## ## ## ##"},{code:"+31",iso:"NL",flag:"",format:"## ### ####"},{code:"+32",iso:"BE",flag:"",format:"### ## ## ##"},{code:"+43",iso:"AT",flag:"",format:"### ### ####"},{code:"+41",iso:"CH",flag:"",format:"## ### ## ##"},{code:"+46",iso:"SE",flag:"",format:"## ### ## ##"},{code:"+47",iso:"NO",flag:"",format:"### ## ###"},{code:"+45",iso:"DK",flag:"",format:"## ## ## ##"},{code:"+358",iso:"FI",flag:"",format:"## ### ####"},{code:"+39",iso:"IT",flag:"",format:"### ### ####"},{code:"+34",iso:"ES",flag:"",format:"### ### ###"},{code:"+30",iso:"GR",flag:"",format:"### ### ####"},{code:"+7",iso:"RU",flag:"",format:"### ### ## ##"},{code:"+380",iso:"UA",flag:"",format:"## ### ## ##"},{code:"+994",iso:"AZ",flag:"",format:"## ### ## ##"},{code:"+995",iso:"GE",flag:"",format:"### ### ###"},{code:"+374",iso:"AM",flag:"",format:"## ### ###"},{code:"+972",iso:"IL",flag:"",format:"## ### ####"},{code:"+966",iso:"SA",flag:"",format:"## ### ####"},{code:"+971",iso:"AE",flag:"",format:"## ### ####"},{code:"+86",iso:"CN",flag:"",format:"### #### ####"},{code:"+81",iso:"JP",flag:"",format:"## #### ####"},{code:"+82",iso:"KR",flag:"",format:"## #### ####"},{code:"+91",iso:"IN",flag:"",format:"##### #####"},{code:"+61",iso:"AU",flag:"",format:"### ### ###"},{code:"+55",iso:"BR",flag:"",format:"## ##### ####"},{code:"+48",iso:"PL",flag:"",format:"### ### ###"},{code:"+420",iso:"CZ",flag:"",format:"### ### ###"},{code:"+36",iso:"HU",flag:"",format:"## ### ####"},{code:"+40",iso:"RO",flag:"",format:"### ### ###"},{code:"+359",iso:"BG",flag:"",format:"## ### ####"}],PN=t=>{if(!t)return null;const n=t.replace(/\s/g,""),s=[...JE].sort((r,a)=>a.code.length-r.code.length);for(const r of s)if(n.startsWith(r.code))return r;return null},QE=t=>{if(!t)return"";let n=t.replace(/[^\d+]/g,"");n&&!n.startsWith("+")&&(n="+"+n);const s=PN(n);if(!s)return n;const r=n.substring(s.code.length);if(!r)return s.code+" ";let a="",l=0;for(let i=0;i<s.format.length&&l<r.length;i++)s.format[i]==="#"?(a+=r[l],l++):a+=s.format[i];return s.code+" "+a};function eb({value:t="",onChange:n,placeholder:s="+90 5XX XXX XX XX",required:r=!1,disabled:a=!1,label:l,className:i=""}){const o=c.useMemo(()=>PN(t),[t]),d=m=>{let p=m.target.value;p=p.replace(/[^\d+\s]/g,"");const g=QE(p);n(g)};return e.jsxs("div",{className:`phone-input-wrapper ${i}`,children:[l&&e.jsx("label",{className:"form-label",children:l}),e.jsxs("div",{style:{display:"flex",alignItems:"center",border:"1px solid var(--color-border)",borderRadius:8,overflow:"hidden",background:a?"var(--color-bg-secondary)":"white"},children:[e.jsx("div",{style:{padding:"10px 12px",background:"var(--color-bg-secondary)",borderRight:"1px solid var(--color-border)",display:"flex",alignItems:"center",gap:6,minWidth:70,justifyContent:"center"},children:o?e.jsxs(e.Fragment,{children:[e.jsx("span",{style:{fontSize:18},children:o.flag}),e.jsx("span",{style:{fontWeight:600,fontSize:13,color:"var(--color-text)"},children:o.iso})]}):e.jsx("span",{style:{fontSize:13,color:"var(--color-text-light)"},children:""})}),e.jsx("input",{type:"tel",value:t,onChange:d,placeholder:s,required:r,disabled:a,style:{flex:1,padding:"10px 12px",border:"none",outline:"none",fontSize:15,fontFamily:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace",letterSpacing:.5,background:"transparent"}})]})]})}const _s=t=>({...t,roles:Array.isArray(t==null?void 0:t.roles)?t.roles:[],payments:(t==null?void 0:t.payments)||{},offer:(t==null?void 0:t.offer)||{},files:(t==null?void 0:t.files)||{},measure:(t==null?void 0:t.measure)||{},pendingPO:(t==null?void 0:t.pendingPO)||[]}),Ia=t=>{if(!t)return"Bilinmeyen hata";if(typeof t=="string")return t;if(t.message)return t.message;if(t.detail)return t.detail;try{return JSON.stringify(t)}catch{return String(t)}},Le=t=>new Intl.NumberFormat("tr-TR").format(t||0),XE=t=>{if(!t&&t!==0)return"";const n=String(t).replace(/[^\d]/g,"");return n?new Intl.NumberFormat("tr-TR").format(Number(n)):""},gn=({value:t,onChange:n,placeholder:s,className:r="form-input",style:a={}})=>{const[l,i]=c.useState("");c.useEffect(()=>{t!=null&&t!==""?i(XE(t)):i("")},[t]);const o=d=>{const g=d.target.value.replace(/[^\d.,]/g,"").replace(/[^\d]/g,""),h=g?new Intl.NumberFormat("tr-TR").format(Number(g)):"";i(h),n(g?Number(g):"")};return e.jsx("input",{type:"text",className:r,placeholder:s,value:l,onChange:o,style:{textAlign:"right",...a}})},Yu=t=>{if(!t)return"-";try{return new Date(t).toLocaleDateString("tr-TR",{day:"2-digit",month:"2-digit",year:"numeric"})}catch{return t}},Dn=t=>t?Number(typeof t=="object"?t.amount||t.total||0:t||0):0,ZE=()=>{const[t,n]=Gz();vs();const[s,r]=c.useState([]),[a,l]=c.useState([]),[i,o]=c.useState(""),[d,m]=c.useState("all"),[p,g]=c.useState(!0),[h,k]=c.useState("normal"),[x,w]=c.useState(!0),[N,f]=c.useState(""),[v,b]=c.useState(!1),[y,S]=c.useState(!1),[j,z]=c.useState(!1),[P,$]=c.useState(null),[B,q]=c.useState(""),[C,Z]=c.useState(!1),[A,O]=c.useState(""),[_,fe]=c.useState({customerId:"",customerName:"",startType:"OLCU",title:"",phone:"+90 ",phone2:"",address:"",newCustomer:!1,segment:"B2B",location:"",contact:"",roles:[],isArchive:!1,archiveDate:"",archiveCompletedDate:"",archiveTotalAmount:"",archiveNote:"",archiveFiles:[],customerFiles:[],serviceNote:"",serviceFixedFee:""}),[Q,le]=c.useState([]),[ye,E]=c.useState("");c.useEffect(()=>{(async()=>{try{w(!0),f("");const[J,xe]=await Promise.all([ja(),_d()]);r(J.map(_s)),l(xe.filter(L=>!L.deleted));const ie=await ba(!0);le(ie)}catch(J){f(J.message||" listesi alnamad")}finally{w(!1)}})()},[]),c.useEffect(()=>{const F=t.get("job"),J=t.get("stage");if(F&&s.length>0&&!y){const xe=s.find(ie=>ie.id===F);xe&&($(xe),S(!0),J&&setTimeout(()=>{const ie=document.querySelector(`[data-stage="${J}"]`);ie&&ie.click()},100))}},[t,s,y]);const D=c.useCallback(()=>{S(!1),$(null),q("");const F=new URLSearchParams(t);F.delete("job"),F.delete("stage"),n(F,{replace:!0})},[t,n]),G=c.useMemo(()=>{const F=i.trim().toLowerCase();return s.filter(J=>{if(h==="normal"){if(J.startType==="MUSTERI_OLCUSU")return!1}else if(h==="inquiry"&&J.startType!=="MUSTERI_OLCUSU")return!1;return!0}).filter(J=>!(p&&(J.status==="KAPALI"||J.status==="SERVIS_KAPALI"||J.status==="FIYAT_SORGUSU_ONAY"||J.status==="FIYAT_SORGUSU_RED"||J.startType==="ARSIV"||J.isArchive))).filter(J=>d==="all"?!0:(J.status||"").toUpperCase()===d.toUpperCase()).filter(J=>F?(J.title||"").toLowerCase().includes(F)||(J.customerName||"").toLowerCase().includes(F)||(J.id||"").toLowerCase().includes(F):!0)},[s,i,d,p,h]),U=[{label:" Kodu",accessor:"id"},{label:"Balk",accessor:"title"},{label:"Mteri",accessor:"customerName"},{label:" Kollar",accessor:"roles",render:(F,J)=>!J.roles||J.roles.length===0?e.jsx("span",{className:"text-muted",children:"Belirtilmemi"}):e.jsx("div",{style:{display:"flex",gap:6,flexWrap:"wrap"},children:J.roles.map(xe=>e.jsx("span",{className:"badge badge-secondary",children:xe.name},xe.id||xe.name))})},{label:"Durum",accessor:"status",render:(F,J)=>ta(J.status)},{label:"Balatma",accessor:"startType",render:(F,J)=>{const xe={OLCU:" l",MUSTERI_OLCUSU:" Mteri ls",SERVIS:" Servis",ARSIV:" Ariv"};return e.jsx("span",{className:J.isArchive||J.startType==="ARSIV"?"badge badge-secondary":"",children:xe[J.startType]||J.startType})}}],H=async F=>{S(!0),z(!0),q(""),$(_s(F));try{const J=await tc(F.id);$(_s(J))}catch(J){q(J.message||" detay alnamad")}finally{z(!1)}},oe=F=>{fe(J=>J.roles.find(ie=>ie.id===F.id)?{...J,roles:J.roles.filter(ie=>ie.id!==F.id)}:{...J,roles:[...J.roles,F]})};c.useMemo(()=>{const F=ye.trim().toLowerCase();return F?Q.filter(J=>J.name.toLowerCase().includes(F)||(J.description||"").toLowerCase().includes(F)):Q},[Q,ye]);const te=c.useMemo(()=>{const F=A.trim().toLowerCase();return F?F.length<2?[]:a.filter(J=>{const xe=(J.name||"").toLowerCase().includes(F),ie=(J.phone||"").replace(/\s/g,"").includes(F.replace(/\s/g,"")),L=(J.phone2||"").replace(/\s/g,"").includes(F.replace(/\s/g,""));return xe||ie||L}).slice(0,10):[]},[a,A]);return e.jsxs("div",{children:[e.jsx(it,{title:" Listesi",subtitle:"Aktif tm ilerinizi tek ekranda takip edin",actions:e.jsx("button",{className:"btn btn-primary",type:"button",onClick:()=>{fe({customerId:"",customerName:"",startType:"OLCU",title:"",newCustomer:!1,segment:"B2B",location:"",contact:"",roles:[],isArchive:!1,archiveDate:"",archiveCompletedDate:"",archiveTotalAmount:"",archiveNote:"",archiveFiles:[]}),b(!0)},children:"+ Yeni  Balat"})}),e.jsxs("div",{className:"filter-bar",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{className:"filter-label",htmlFor:"search",children:"Arama"}),e.jsx("input",{id:"search",className:"filter-input",type:"search",placeholder:" ad, mteri veya i kodu",value:i,onChange:F=>o(F.target.value)})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{className:"filter-label",htmlFor:"status",children:"Durum"}),e.jsxs("select",{id:"status",className:"filter-select",value:d,onChange:F=>m(F.target.value),children:[e.jsx("option",{value:"all",children:"Tm"}),e.jsxs("optgroup",{label:"l/Keif",children:[e.jsx("option",{value:"OLCU_RANDEVU_BEKLIYOR",children:"Randevu Bekliyor"}),e.jsx("option",{value:"OLCU_RANDEVULU",children:"Randevu Verildi"}),e.jsx("option",{value:"OLCU_ALINDI",children:"l Alnd"}),e.jsx("option",{value:"MUSTERI_OLCUSU_BEKLENIYOR",children:"Mteri ls Bekleniyor"}),e.jsx("option",{value:"MUSTERI_OLCUSU_YUKLENDI",children:"Mteri ls Yklendi"})]}),e.jsxs("optgroup",{label:"Fiyatlandrma",children:[e.jsx("option",{value:"FIYATLANDIRMA",children:"Fiyat Verilecek"}),e.jsx("option",{value:"FIYAT_VERILDI",children:"Fiyat Verildi - Onay Bekliyor"}),e.jsx("option",{value:"ANLASILAMADI",children:"Anlalamad"})]}),e.jsxs("optgroup",{label:"Anlama",children:[e.jsx("option",{value:"ANLASMA_YAPILIYOR",children:"Anlama Yaplyor"}),e.jsx("option",{value:"ANLASMA_TAMAMLANDI",children:"Anlama Tamamland"})]}),e.jsx("optgroup",{label:"Stok/Rezervasyon",children:e.jsx("option",{value:"SONRA_URETILECEK",children:"Sonra retilecek"})}),e.jsxs("optgroup",{label:"retim",children:[e.jsx("option",{value:"URETIME_HAZIR",children:"retime Hazr"}),e.jsx("option",{value:"URETIMDE",children:"retimde"})]}),e.jsxs("optgroup",{label:"Montaj",children:[e.jsx("option",{value:"MONTAJA_HAZIR",children:"Montaja Hazr"}),e.jsx("option",{value:"MONTAJ_TERMIN",children:"Montaj Terminli"}),e.jsx("option",{value:"TESLIME_HAZIR",children:"Teslime Hazr (Demonte)"})]}),e.jsxs("optgroup",{label:"Finans",children:[e.jsx("option",{value:"MUHASEBE_BEKLIYOR",children:"Muhasebe Bekliyor"}),e.jsx("option",{value:"KAPALI",children:"Kapal"})]}),e.jsxs("optgroup",{label:"Servis",children:[e.jsx("option",{value:"SERVIS_RANDEVU_BEKLIYOR",children:"Servis Randevusu Bekliyor"}),e.jsx("option",{value:"SERVIS_RANDEVULU",children:"Servis Randevulu"}),e.jsx("option",{value:"SERVIS_YAPILIYOR",children:"Servis Yaplyor"}),e.jsx("option",{value:"SERVIS_DEVAM_EDIYOR",children:"Servis Devam Ediyor"}),e.jsx("option",{value:"SERVIS_ODEME_BEKLIYOR",children:"Servis deme Bekliyor"}),e.jsx("option",{value:"SERVIS_KAPALI",children:"Servis Tamamland"})]})]})]}),e.jsxs("div",{className:"filter-group",style:{display:"flex",gap:4,alignItems:"center"},children:[e.jsx("button",{className:`btn btn-small ${h==="normal"?"btn-primary":"btn-secondary"}`,onClick:()=>k("normal"),style:{padding:"4px 10px",fontSize:12},children:"Normal ler"}),e.jsxs("button",{className:`btn btn-small ${h==="inquiry"?"btn-primary":"btn-secondary"}`,onClick:()=>k("inquiry"),style:{padding:"4px 10px",fontSize:12},children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Fiyat Sorgular"]}),e.jsx("button",{className:`btn btn-small ${h==="all"?"btn-primary":"btn-secondary"}`,onClick:()=>k("all"),style:{padding:"4px 10px",fontSize:12},children:"Tm"})]}),e.jsx("div",{className:"filter-group",style:{display:"flex",alignItems:"center"},children:e.jsxs("label",{className:"filter-label",style:{display:"flex",alignItems:"center",gap:8,cursor:"pointer",margin:0,whiteSpace:"nowrap"},children:[e.jsx("input",{type:"checkbox",checked:p,onChange:F=>g(F.target.checked),style:{width:16,height:16,cursor:"pointer"}}),"Biten ileri gizle"]})})]}),x?e.jsx(kt,{text:"ler ykleniyor..."}):N?e.jsxs("div",{className:"card error-card",children:[e.jsx("div",{className:"error-title",children:"Liste yklenemedi"}),e.jsx("div",{className:"error-message",children:N})]}):e.jsx(sn,{columns:U,rows:G,getKey:F=>F.id,onRowClick:H}),e.jsx(qe,{open:v,title:e.jsxs(e.Fragment,{children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Yeni  Balat"]}),size:"large",onClose:()=>{b(!1),O("")},actions:e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"btn btn-secondary",type:"button",onClick:()=>b(!1),disabled:C,children:"Vazge"}),e.jsx("button",{className:"btn btn-primary",type:"submit",form:"job-modal-form",disabled:C,children:C?"Kaydediliyor...":_.isArchive?e.jsxs(e.Fragment,{children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Arive Kaydet"]}):"i Balat"})]}),children:e.jsxs("form",{id:"job-modal-form",onSubmit:async F=>{F.preventDefault();try{Z(!0),f("");let J=_.customerId,xe=_.customerName;if(_.newCustomer){const ne=await qh({name:_.customerName,segment:_.segment,phone:_.phone,phone2:_.phone2,address:_.address,location:_.location,contact:_.contact});J=ne.id,xe=ne.name,l(he=>[ne,...he])}const ie={customerId:J,customerName:xe,title:_.title,startType:_.isArchive?"ARSIV":_.startType,roles:_.roles};_.isArchive&&(ie.isArchive=!0,ie.archiveDate=_.archiveDate,ie.archiveCompletedDate=_.archiveCompletedDate,ie.archiveTotalAmount=_.archiveTotalAmount?Number(_.archiveTotalAmount):null,ie.archiveNote=_.archiveNote);const L=await TS(ie);if(_.isArchive&&_.archiveFiles.length>0)for(const ne of _.archiveFiles)try{await kl(ne.file,L.id,ne.type,`Ariv - ${ne.file.name}`)}catch(he){console.warn("Dosya yklenemedi:",ne.file.name,he)}r(ne=>[_s(L),...ne]),fe(ne=>({...ne,roles:[],isArchive:!1,archiveDate:"",archiveCompletedDate:"",archiveTotalAmount:"",archiveNote:"",archiveFiles:[]})),O(""),b(!1)}catch(J){f(J.message||" oluturulamad")}finally{Z(!1)}},children:[e.jsxs("div",{className:"card subtle-card",style:{marginBottom:16},children:[e.jsxs("div",{className:"card-header",style:{padding:"12px 16px"},children:[e.jsx("h4",{className:"card-title",style:{fontSize:14},children:" Mteri"}),e.jsxs("div",{style:{display:"flex",gap:8},children:[e.jsx("button",{type:"button",className:`btn btn-small ${_.newCustomer?"btn-secondary":"btn-primary"}`,onClick:()=>fe(F=>({...F,newCustomer:!1})),children:"Mevcut"}),e.jsx("button",{type:"button",className:`btn btn-small ${_.newCustomer?"btn-primary":"btn-secondary"}`,onClick:()=>fe(F=>({...F,newCustomer:!0,customerId:"",customerName:""})),children:"+ Yeni"})]})]}),e.jsx("div",{className:"card-body",style:{padding:16},children:_.newCustomer?e.jsxs("div",{className:"grid grid-2",style:{gap:12},children:[e.jsxs("div",{className:"form-group",style:{gridColumn:"1 / -1"},children:[e.jsx("label",{className:"form-label",children:"Ad Soyad *"}),e.jsx("input",{className:"form-input",value:_.customerName,onChange:F=>fe(J=>({...J,customerName:F.target.value})),placeholder:"rn: Ahmet Ylmaz",required:!0})]}),e.jsx("div",{className:"form-group",children:e.jsx(eb,{label:e.jsxs(e.Fragment,{children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Telefon 1 *"]}),value:_.phone,onChange:F=>fe(J=>({...J,phone:F})),required:!0})}),e.jsx("div",{className:"form-group",children:e.jsx(eb,{label:e.jsxs(e.Fragment,{children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Telefon 2 (istee bal)"]}),value:_.phone2,onChange:F=>fe(J=>({...J,phone2:F}))})}),e.jsxs("div",{className:"form-group",style:{gridColumn:"1 / -1"},children:[e.jsxs("label",{className:"form-label",children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Adres"]}),e.jsx("textarea",{className:"form-textarea",value:_.address,onChange:F=>fe(J=>({...J,address:F.target.value})),placeholder:"Tam adres...",rows:2})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Segment"}),e.jsxs("select",{className:"form-select",value:_.segment,onChange:F=>fe(J=>({...J,segment:F.target.value})),children:[e.jsx("option",{value:"B2C",children:"Bireysel (B2C)"}),e.jsx("option",{value:"B2B",children:"Kurumsal (B2B)"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"le / Semt"}),e.jsx("input",{className:"form-input",value:_.location,onChange:F=>fe(J=>({...J,location:F.target.value})),placeholder:"rn: Kadky"})]})]}):e.jsxs("div",{children:[e.jsxs("div",{className:"form-group",style:{marginBottom:12},children:[e.jsx("label",{className:"form-label",children:" Mteri Ara (sim veya Telefon)"}),e.jsx("input",{className:"form-input",placeholder:"rn: Ahmet veya 532 123...",value:A,onChange:F=>O(F.target.value),autoFocus:!0})]}),_.customerId&&e.jsx("div",{style:{padding:12,background:"var(--color-success-bg)",borderRadius:8,border:"1px solid var(--color-success)",marginBottom:12},children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsxs("div",{style:{fontWeight:600},children:[" ",_.customerName]}),(()=>{const F=a.find(J=>J.id===_.customerId);return F!=null&&F.phone?e.jsxs("div",{style:{fontSize:12},children:[" ",F.phone]}):null})()]}),e.jsx("button",{type:"button",className:"btn btn-secondary btn-small",onClick:()=>fe(F=>({...F,customerId:"",customerName:""})),children:"Deitir"})]})}),!_.customerId&&A.length>=2&&e.jsx("div",{style:{maxHeight:200,overflow:"auto",border:"1px solid var(--color-border)",borderRadius:8},children:te.length===0?e.jsxs("div",{style:{padding:16,textAlign:"center"},className:"text-muted",children:['"',A,'" ile eleen mteri bulunamad']}):te.map(F=>e.jsxs("div",{style:{padding:"10px 16px",cursor:"pointer",borderBottom:"1px solid var(--color-border)",transition:"background 0.2s"},className:"hover-row",onClick:()=>{fe(J=>({...J,customerId:F.id,customerName:F.name})),O("")},children:[e.jsx("div",{style:{fontWeight:600},children:F.name}),e.jsxs("div",{style:{fontSize:12,color:"var(--color-text-light)"},children:[F.phone&&` ${F.phone}`,F.phone&&F.address&&"  ",F.address&&` ${F.address.substring(0,30)}...`]})]},F.id))}),!_.customerId&&A.length<2&&e.jsx("div",{className:"text-muted",style:{fontSize:12},children:" En az 2 karakter girerek mteri arayn"})]})})]}),e.jsxs("div",{className:"card subtle-card",style:{marginBottom:16},children:[e.jsx("div",{className:"card-header",style:{padding:"12px 16px"},children:e.jsxs("h4",{className:"card-title",style:{fontSize:14},children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}}),"  Bilgileri"]})}),e.jsxs("div",{className:"card-body",style:{padding:16},children:[e.jsxs("div",{className:"grid grid-2",style:{gap:12},children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:" Bal *"}),e.jsx("input",{className:"form-input",value:_.title,onChange:F=>fe(J=>({...J,title:F.target.value})),placeholder:"rn: Balkon PVC Dorama",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Balatma Tr"}),e.jsxs("select",{className:"form-select",value:_.isArchive?"ARSIV":_.startType,onChange:F=>{const J=F.target.value;fe(J==="ARSIV"?xe=>({...xe,isArchive:!0,startType:"OLCU"}):xe=>({...xe,isArchive:!1,startType:J}))},children:[e.jsx("option",{value:"OLCU",children:"l Randevusu"}),e.jsx("option",{value:"MUSTERI_OLCUSU",children:" Mteri ls"}),e.jsx("option",{value:"SERVIS",children:"Servis/Bakm"}),e.jsx("option",{value:"ARSIV",children:" Ariv Kayd (Tamamlanm )"})]})]})]}),e.jsxs("div",{className:"text-muted",style:{fontSize:12,marginTop:8},children:[!_.isArchive&&_.startType==="OLCU"&&" l randevusu verilecek, sonra fiyatlandrlacak.",!_.isArchive&&_.startType==="MUSTERI_OLCUSU"&&" Mteri ls ile direkt fiyatlandrmaya geilecek.",!_.isArchive&&_.startType==="SERVIS"&&" Servis randevusu ve sabit cret belirlenecek.",_.isArchive&&" Gemite tamamlanm bir ii sisteme kaydedin. Sre haritas atlanr."]}),_.isArchive&&e.jsxs("div",{style:{marginTop:16,padding:16,background:"linear-gradient(135deg, #fef3c7 0%, #fde68a 100%)",borderRadius:12,border:"1px solid #f59e0b"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:12},children:[e.jsx("span",{style:{fontSize:18},children:""}),e.jsx("span",{style:{fontWeight:600,color:"#92400e"},children:"Ariv Bilgileri"})]}),e.jsxs("div",{className:"grid grid-2",style:{gap:12},children:[e.jsxs("div",{className:"form-group",style:{margin:0},children:[e.jsx("label",{className:"form-label",children:" Anlama Tarihi *"}),e.jsx(gt,{value:_.archiveDate,onChange:F=>fe(J=>({...J,archiveDate:F})),max:new Date().toISOString().split("T")[0]})]}),e.jsxs("div",{className:"form-group",style:{margin:0},children:[e.jsx("label",{className:"form-label",children:" Tamamlanma Tarihi"}),e.jsx(gt,{value:_.archiveCompletedDate,onChange:F=>fe(J=>({...J,archiveCompletedDate:F})),max:new Date().toISOString().split("T")[0]})]}),e.jsxs("div",{className:"form-group",style:{margin:0},children:[e.jsx("label",{className:"form-label",children:" Toplam Tutar ()"}),e.jsx("input",{type:"number",className:"form-input",value:_.archiveTotalAmount,onChange:F=>fe(J=>({...J,archiveTotalAmount:F.target.value})),placeholder:"rn: 15000",min:"0"})]}),e.jsxs("div",{className:"form-group",style:{margin:0,gridColumn:"span 2"},children:[e.jsx("label",{className:"form-label",children:" Not (Opsiyonel)"}),e.jsx("textarea",{className:"form-input",value:_.archiveNote,onChange:F=>fe(J=>({...J,archiveNote:F.target.value})),placeholder:"Ariv kayd ile ilgili notlar...",rows:2,style:{resize:"vertical"}})]})]}),_.roles.length>0&&e.jsxs("div",{style:{marginTop:16},children:[e.jsx("div",{style:{fontWeight:600,fontSize:13,marginBottom:8,color:"#92400e"},children:"  Kollarna Gre Belge Ykleme (Opsiyonel)"}),e.jsx("div",{className:"text-muted",style:{fontSize:11,marginBottom:12},children:"Her i kolu iin ayr ayr l, teknik izim, szleme ve montaj fotoraflar ykleyebilirsiniz."}),_.roles.map(F=>{const J=_.archiveFiles.filter(xe=>xe.roleId===F.id);return e.jsxs("div",{style:{marginBottom:12,padding:12,background:"white",borderRadius:8,border:"1px solid #e5e7eb"},children:[e.jsxs("div",{style:{fontWeight:600,fontSize:12,marginBottom:8,color:"#374151"},children:[" ",F.name]}),J.length>0&&e.jsx("div",{style:{marginBottom:8},children:J.map((xe,ie)=>e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"4px 8px",background:"#f9fafb",borderRadius:4,marginBottom:4,fontSize:11},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,flex:1,minWidth:0},children:[e.jsx("span",{children:xe.type==="olcu"?"":xe.type==="teknik"?"":xe.type==="sozlesme"?"":xe.type==="montaj"?"":""}),e.jsx("span",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:xe.file.name}),e.jsx("span",{className:"badge badge-secondary",style:{fontSize:9,padding:"2px 6px"},children:xe.type==="olcu"?"l":xe.type==="teknik"?"Teknik":xe.type==="sozlesme"?"Szleme":xe.type==="montaj"?"Montaj":"Dier"})]}),e.jsx("button",{type:"button",onClick:()=>{fe(L=>({...L,archiveFiles:L.archiveFiles.filter(ne=>!(ne.roleId===F.id&&ne.file.name===xe.file.name&&ne.type===xe.type))}))},style:{background:"none",border:"none",color:"#dc2626",cursor:"pointer",padding:"2px 4px",fontSize:10},title:"Dosyay Kaldr",children:""})]},`${F.id}-${ie}`))}),e.jsx("div",{style:{display:"flex",gap:6,flexWrap:"wrap"},children:[{type:"olcu",label:" l",color:"#3b82f6"},{type:"teknik",label:" Teknik",color:"#8b5cf6"},{type:"sozlesme",label:" Szleme",color:"#10b981"},{type:"montaj",label:" Montaj",color:"#f59e0b"}].map(xe=>e.jsxs("label",{style:{display:"inline-flex",alignItems:"center",gap:4,padding:"4px 10px",background:`${xe.color}10`,border:`1px dashed ${xe.color}`,borderRadius:6,cursor:"pointer",fontSize:11,color:xe.color,transition:"all 0.2s"},children:[xe.label,e.jsx("input",{type:"file",multiple:!0,accept:".pdf,.png,.jpg,.jpeg,.doc,.docx,.xls,.xlsx",style:{display:"none"},onChange:ie=>{const ne=Array.from(ie.target.files||[]).map(he=>({file:he,type:xe.type,roleId:F.id,roleName:F.name}));fe(he=>({...he,archiveFiles:[...he.archiveFiles,...ne]})),ie.target.value=""}})]},xe.type))})]},F.id)}),e.jsxs("div",{style:{marginTop:8,padding:12,background:"#f3f4f6",borderRadius:8,border:"1px dashed #9ca3af"},children:[e.jsx("div",{style:{fontWeight:600,fontSize:12,marginBottom:8,color:"#6b7280"},children:" Genel Belgeler (Tm i iin)"}),_.archiveFiles.filter(F=>!F.roleId).map((F,J)=>e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"4px 8px",background:"white",borderRadius:4,marginBottom:4,fontSize:11},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[e.jsx("span",{children:""}),e.jsx("span",{children:F.file.name})]}),e.jsx("button",{type:"button",onClick:()=>{const ie=_.archiveFiles.filter(L=>!L.roleId)[J];fe(L=>({...L,archiveFiles:L.archiveFiles.filter(ne=>ne!==ie)}))},style:{background:"none",border:"none",color:"#dc2626",cursor:"pointer",fontSize:10},title:"Dosyay Kaldr",children:""})]},`general-${J}`)),e.jsxs("label",{style:{display:"inline-flex",alignItems:"center",gap:4,padding:"4px 10px",background:"white",border:"1px dashed #9ca3af",borderRadius:6,cursor:"pointer",fontSize:11,color:"#6b7280"},children:[" Genel Dosya Ekle",e.jsx("input",{type:"file",multiple:!0,accept:".pdf,.png,.jpg,.jpeg,.doc,.docx,.xls,.xlsx",style:{display:"none"},onChange:F=>{const xe=Array.from(F.target.files||[]).map(ie=>({file:ie,type:"sozlesme"}));fe(ie=>({...ie,archiveFiles:[...ie.archiveFiles,...xe]})),F.target.value=""}})]})]})]}),_.roles.length===0&&e.jsx("div",{style:{marginTop:16,padding:12,background:"#fef3c7",borderRadius:8,fontSize:12,color:"#92400e"},children:" Belge yklemek iin nce i kollarn sein."})]})]})]}),e.jsxs("div",{className:"card subtle-card",children:[e.jsxs("div",{className:"card-header",style:{padding:"12px 16px"},children:[e.jsx("h4",{className:"card-title",style:{fontSize:14},children:"  Kollar"}),e.jsxs("span",{className:"badge badge-secondary",children:[_.roles.length," seili"]})]}),e.jsxs("div",{className:"card-body",style:{padding:16},children:[_.roles.length>0&&e.jsx("div",{style:{display:"flex",gap:8,flexWrap:"wrap",marginBottom:12},children:_.roles.map(F=>e.jsxs("span",{className:"badge badge-primary",style:{padding:"6px 12px",display:"inline-flex",gap:8,alignItems:"center",cursor:"pointer"},onClick:()=>oe(F),children:[F.name,e.jsx("span",{style:{opacity:.7},children:""})]},F.id))}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(140px, 1fr))",gap:8},children:Q.map(F=>{const J=_.roles.some(xe=>xe.id===F.id);return e.jsx("button",{type:"button",style:{padding:"10px 12px",border:J?"2px solid var(--color-primary)":"1px solid var(--color-border)",borderRadius:8,background:J?"var(--color-primary-bg)":"var(--color-bg-secondary)",cursor:"pointer",textAlign:"left",transition:"all 0.2s"},onClick:()=>oe(F),children:e.jsxs("div",{style:{fontWeight:600,fontSize:13,color:J?"var(--color-primary)":"var(--color-text)"},children:[J&&" ",F.name]})},F.id)})}),_.roles.length===0&&e.jsx("div",{className:"text-muted",style:{fontSize:12,marginTop:8},children:" En az bir i kolu sein"})]})]})]})}),e.jsx(qe,{open:y,title:` Detay ${P?`- ${P.id}`:""}`,size:"xxlarge",onClose:D,children:j?e.jsx("div",{children:"Ykleniyor..."}):B?e.jsxs("div",{className:"error-card",children:[e.jsx("div",{className:"error-title",children:"Hata"}),e.jsx("div",{className:"error-message",children:B})]}):P?e.jsx(tI,{job:P,customers:a,onUpdated:async F=>{$(F),r(J=>J.map(xe=>xe.id===F.id?F:xe))}}):null})]})},Fc={OLCU_RANDEVU_BEKLIYOR:{label:"Randevu Bekliyor",tone:"warning",icon:""},OLCU_RANDEVULU:{label:"Randevu Verildi",tone:"info",icon:""},OLCU_ALINDI:{label:"l Alnd",tone:"success",icon:""},MUSTERI_OLCUSU_BEKLENIYOR:{label:"Mteri ls Bekleniyor",tone:"warning",icon:""},MUSTERI_OLCUSU_YUKLENDI:{label:"Mteri ls Yklendi",tone:"success",icon:""},FIYATLANDIRMA:{label:"Fiyat Verilecek",tone:"secondary",icon:""},FIYAT_VERILDI:{label:"Fiyat Verildi - Onay Bekliyor",tone:"warning",icon:""},ANLASILAMADI:{label:"Anlalamad",tone:"danger",icon:""},ANLASMA_YAPILIYOR:{label:"Anlama Yaplyor",tone:"primary",icon:""},ANLASMA_TAMAMLANDI:{label:"Anlama Tamamland",tone:"success",icon:""},SONRA_URETILECEK:{label:"Sonra retilecek",tone:"info",icon:""},URETIME_HAZIR:{label:"retime Hazr",tone:"success",icon:""},URETIMDE:{label:"retimde",tone:"primary",icon:""},MONTAJA_HAZIR:{label:"Montaja Hazr",tone:"success",icon:""},MONTAJ_TERMIN:{label:"Montaj Terminli",tone:"primary",icon:""},TESLIME_HAZIR:{label:"Teslime Hazr (Demonte)",tone:"info",icon:""},MUHASEBE_BEKLIYOR:{label:"Muhasebe Bekliyor",tone:"secondary",icon:""},KAPALI:{label:"Kapal",tone:"success",icon:""},SERVIS_RANDEVU_BEKLIYOR:{label:"Servis Randevusu Bekliyor",tone:"warning",icon:""},SERVIS_RANDEVULU:{label:"Servis Randevulu",tone:"primary",icon:""},SERVIS_YAPILIYOR:{label:"Servis Yaplyor",tone:"info",icon:""},SERVIS_DEVAM_EDIYOR:{label:"Servis Devam Ediyor",tone:"warning",icon:""},SERVIS_ODEME_BEKLIYOR:{label:"Servis deme Bekliyor",tone:"warning",icon:""},SERVIS_KAPALI:{label:"Servis Tamamland",tone:"success",icon:""},FIYAT_SORGUSU_BEKLIYOR:{label:"Fiyat Sorgusu - Karar Bekliyor",tone:"warning",icon:""},FIYAT_SORGUSU_ONAY:{label:"Fiyat Sorgusu - Onayland",tone:"success",icon:""},FIYAT_SORGUSU_RED:{label:"Fiyat Sorgusu - Reddedildi",tone:"danger",icon:""}},ta=t=>{const n=Fc[t];if(n)return e.jsxs("span",{className:`badge badge-${n.tone}`,children:[e.jsx(me,{icon:n.icon,sx:{fontSize:14,verticalAlign:"middle",mr:.5}}),n.label]});const s=t||"Bilinmiyor",r=s.toLowerCase();let a="secondary";return(r.includes("l")||r.includes("olcu"))&&(a="primary"),r.includes("fiyat")&&(a="secondary"),r.includes("teklif")&&(a="secondary"),r.includes("onay")&&(a="warning"),r.includes("stok")&&(a="warning"),(r.includes("hazr")||r.includes("hazir"))&&(a="success"),(r.includes("anlama")||r.includes("anlasma"))&&(a="info"),r.includes("retim")&&(a="warning"),r.includes("montaj")&&(a="primary"),r.includes("muhasebe")&&(a="secondary"),(r.includes("kapal")||r.includes("kapali"))&&(a="success"),r.includes("servis")&&(a="info"),e.jsx("span",{className:`badge badge-${a}`,children:s})},LN=[{id:"measure",label:"l/Keif",statuses:["OLCU_RANDEVU_BEKLIYOR","OLCU_RANDEVULU","OLCU_ALINDI","MUSTERI_OLCUSU_BEKLENIYOR","MUSTERI_OLCUSU_YUKLENDI"]},{id:"pricing",label:"Fiyatlandrma",statuses:["FIYATLANDIRMA","FIYAT_VERILDI","ANLASILAMADI"]},{id:"agreement",label:"Anlama",statuses:["ANLASMA_YAPILIYOR"]},{id:"stock",label:"Stok/Rezervasyon",statuses:["ANLASMA_TAMAMLANDI","SONRA_URETILECEK"]},{id:"production",label:"retim",statuses:["URETIME_HAZIR","URETIMDE"]},{id:"assembly",label:"Montaj/Teslim",statuses:["MONTAJA_HAZIR","MONTAJ_TERMIN","TESLIME_HAZIR"]},{id:"finance",label:"Finans Kapan",statuses:["MUHASEBE_BEKLIYOR"]},{id:"summary",label:"zet",statuses:["KAPALI"]}],BN=[{id:"service_schedule",label:"Randevu",statuses:["SERVIS_RANDEVU_BEKLIYOR"]},{id:"service_start",label:"Balat",statuses:["SERVIS_RANDEVULU"]},{id:"service_work",label:"Servis",statuses:["SERVIS_YAPILIYOR","SERVIS_DEVAM_EDIYOR"]},{id:"service_payment",label:"deme",statuses:["SERVIS_ODEME_BEKLIYOR"]},{id:"service_done",label:"zet",statuses:["SERVIS_KAPALI"]}],eI=[{id:"inquiry_files",label:"Dosya/l",statuses:["MUSTERI_OLCUSU_BEKLENIYOR","MUSTERI_OLCUSU_YUKLENDI"]},{id:"inquiry_pricing",label:"Fiyatlandrma",statuses:["FIYATLANDIRMA","FIYAT_VERILDI","FIYAT_SORGUSU_BEKLIYOR"]},{id:"inquiry_decision",label:"Karar",statuses:["FIYAT_SORGUSU_ONAY","FIYAT_SORGUSU_RED"]}],ON=t=>(t==null?void 0:t.startType)==="SERVIS"?BN:(t==null?void 0:t.startType)==="MUSTERI_OLCUSU"?eI:LN,Gu=(t,n)=>n.find(s=>s.statuses.includes(t))||n[0],Ju=(t,n)=>{var i,o;const r=ON(t).find(d=>d.id===n);if(!r||!t.logs)return[];const a=r.statuses||[],l=[];for(const d of t.logs)if(d.action==="status.updated"&&d.note){const m=d.note.match(/(\w+)\s*->\s*(\w+)/);if(m){const[,p,g]=m;(a.includes(p)||a.includes(g))&&l.push({from:p,to:g,at:d.at,fromLabel:((i=Fc[p])==null?void 0:i.label)||p,toLabel:((o=Fc[g])==null?void 0:o.label)||g})}}return l},tI=({job:t,customers:n=[],onUpdated:s})=>{var ff,gf,yf,xf,vf,jf,bf,Sf,Nf,kf,Cf,wf,Tf,zf,Df,Rf,Af,Ef,If,Mf,Pf,Lf,Bf,Of,$f,_f,Ff,Wf,Uf,Kf,Hf,Vf,qf,Yf,Gf,Jf,Qf,Xf,Zf,eg,tg,ng,sg,rg,ag,lg,ig,og,cg,dg,ug,mg,pg,hg,fg,gg,yg,xg,vg,jg,bg,Sg,Ng,kg,Cg,wg,Tg,zg,Dg,Rg,Ag,Eg,Ig,Mg,Pg,Lg,Bg,Og,$g,_g,Fg,Wg,Ug,Kg,Hg,Vg,qg,Yg,Gg,Jg,Qg,Xg,Zg,ey,ty,ny,sy,ry,ay,ly,iy,oy,cy,dy,uy,my,py,hy,fy,gy,yy,xy,vy,jy,by,Sy,Ny,ky,Cy,wy,Ty,zy,Dy,Ry,Ay,Ey,Iy,My,Py,Ly,By,Oy,$y,_y,Fy,Wy,Uy,Ky,Hy,Vy,qy,Yy,Gy,Jy,Qy,Xy,Zy,ex,tx,nx,sx,rx,ax,lx,ix,ox,cx,dx,ux,mx,px,hx,fx;const r=n.find(u=>u.id===t.customerId)||{},[a,l]=c.useState(""),[i,o]=c.useState(!1),[d,m]=c.useState(!1),[p,g]=c.useState(""),[h,k]=c.useState([]),[x,w]=c.useState(""),[N,f]=c.useState(""),[v,b]=c.useState(""),[y,S]=c.useState(null),[j,z]=c.useState(1),[P,$]=c.useState(!1),[B,q]=c.useState([]),[C,Z]=c.useState(!1),[A,O]=c.useState(null),[_,fe]=c.useState(1),[Q,le]=c.useState(!1),[ye,E]=c.useState(""),[D,G]=c.useState(""),[U,H]=c.useState({orders:[],summary:{}}),[oe,te]=c.useState(!1),[F,J]=c.useState(!1),[xe,ie]=c.useState(!1),[L,ne]=c.useState({roles:[],summary:{}}),[he,M]=c.useState(null),[re,ke]=c.useState([]),[be,we]=c.useState([]),[W,V]=c.useState([]),[I,ce]=c.useState([]),[ue,De]=c.useState({roleId:"",roleName:"",productionType:"internal",productionDescription:"",productionQty:1,productionUnit:"adet",productionEstDelivery:"",productionNotes:"",productionSupplierId:"",productionSupplierName:"",requiresGlass:!1,includeGlass:!1,glassItems:[{glassType:"",glassName:"",quantity:1,combination:""}],glassSupplierId:"",glassSupplierName:"",glassEstDelivery:""}),[Re,se]=c.useState({deliveries:[],deliveryDate:"",deliveryNote:""}),[Se,_e]=c.useState([]),[Qe,Ue]=c.useState(""),[K,je]=c.useState(!1),[Ae,X]=c.useState(t.pendingPO||[]),[pe,Pe]=c.useState([]),[Be,Ye]=c.useState([]),[dt,Ke]=c.useState([]),[ot,Dt]=c.useState([]),[bt,Un]=c.useState(!1),[Kn,js]=c.useState({issueType:"",faultSource:"",description:"",responsiblePersonId:"",photoUrl:""}),[R,Ne]=c.useState({measureNote:"",appointment:"",measureCall:!1,measureConfirmed:!1,measureDraftFile:"",techDrawingFile:"",orderNo:"",cariCode:"",offerExpanded:!0,offerTotal:"",pricingNotifiedDate:"",rejectionReason:"",rejectionCategory:"",rejectionFollowUp:"",showRejectionModal:!1,roleDiscounts:{},showNegotiationPanel:!1,payCash:"",payCashDate:"",payCard:"",payCardDate:"",payAfter:"",payAfterNote:"",chequeLines:[],chequesReceived:!1,chequeCount:"",chequeTotalAmount:"",stockReady:!0,stockNote:"",productionStatus:"URETIMDE",agreementDate:"",assemblyDate:"",assemblyNote:"",assemblyTeam:[],proofNote:"",estimatedAssemblyDate:"",estimatedAssemblyNote:"",financeTotal:"",financeCash:"",financeCard:"",financeCheque:"",discountAmount:"",discountNote:"",rolePrices:{},serviceAppointmentDate:"",serviceAppointmentTime:"10:00",serviceFixedFee:"",serviceNote:"",serviceVisitDate:"",serviceVisitTime:"",serviceWorkNote:"",serviceMaterials:"",serviceExtraCost:"",servicePaymentCash:"",servicePaymentCard:"",servicePaymentTransfer:"",serviceDiscount:"",serviceDiscountNote:"",serviceNewAppointmentDate:"",serviceNewAppointmentTime:"10:00",serviceNewAppointmentNote:""}),[nt,st]=c.useState(!1),[Ge,rt]=c.useState([]),[It,Rt]=c.useState(!1),[St,xt]=c.useState([]);c.useEffect(()=>{var ge;const u=t.measure||{},T=t.offer||{},Y=t.payments||{},ee=((ge=t.assembly)==null?void 0:ge.schedule)||{},de=t.finance||{};Ne(Te=>{var ze,Fe,Xe,We,Kt,At,Ot,Me,He,mt,ln,zn,ft,rs;return{...Te,measureNote:u.note||"",appointment:((ze=u.appointment)==null?void 0:ze.date)||"",measureCall:u.call||!1,measureConfirmed:u.confirm||!1,orderNo:T.orderNo||"",cariCode:T.cariCode||t.customerAccountCode||"",offerTotal:T.total||"",payCash:Y.cash||"",payCard:Y.card||"",payCheque:Y.cheque||"",payAfter:Y.after||"",chequeLines:Y.chequeLines||[],productionStatus:t.status==="ANLASMADA"?"ANLASMADA":t.status==="MONTAJA_HAZIR"?"MONTAJA_HAZIR":"URETIMDE",agreementDate:t.agreementDate||"",assemblyDate:ee.date||((Fe=t.estimatedAssembly)==null?void 0:Fe.date)||"",assemblyNote:ee.note||((Xe=t.estimatedAssembly)==null?void 0:Xe.note)||"",assemblyTeam:Array.isArray(ee.team)?ee.team:ee.team?[ee.team]:[],estimatedAssemblyDate:((We=t.estimatedAssembly)==null?void 0:We.date)||"",estimatedAssemblyNote:((Kt=t.estimatedAssembly)==null?void 0:Kt.note)||"",financeTotal:de.total||T.total||"",financeCash:de.cash||Y.cash||"",rolePrices:t.rolePrices||{},serviceAppointmentDate:((At=t.service)==null?void 0:At.appointmentDate)||"",serviceAppointmentTime:((Ot=t.service)==null?void 0:Ot.appointmentTime)||"10:00",serviceFixedFee:((Me=t.service)==null?void 0:Me.fixedFee)||"",serviceNote:((He=t.service)==null?void 0:He.note)||"",serviceWorkNote:((mt=t.service)==null?void 0:mt.workNote)||"",serviceMaterials:((ln=t.service)==null?void 0:ln.materials)||"",serviceExtraCost:((zn=t.service)==null?void 0:zn.extraCost)||"",serviceExtraNote:((ft=t.service)==null?void 0:ft.extraNote)||"",serviceCloseNote:((rs=t.service)==null?void 0:rs.closeNote)||"",financeCard:de.card||Y.card||"",financeCheque:de.cheque||Y.cheque||"",discountAmount:de.discount||"",discountNote:de.discountNote||""}})},[t]);const As=t.startType==="SERVIS",Ln=t.startType==="MUSTERI_OLCUSU",Hn=ON(t),rn=Gu(t.status||"OLCU_RANDEVU_BEKLIYOR",Hn),[Cl,Sa]=c.useState(rn.id);c.useEffect(()=>{const u=Gu(t.status||"OLCU_RANDEVU_BEKLIYOR",Hn);Sa(u.id)},[t.id,t.status,Hn]);const un=u=>Cl===u,eo=u=>Sa(u),wl=u=>{const T=Hn.findIndex(ee=>ee.id===rn.id),Y=Hn.findIndex(ee=>ee.id===u);return Y<T?"done":Y===T?"current":"pending"},ae=wl(Cl)==="done",Je=async(u,T,Y={})=>{try{await B6({jobId:t.id,action:u,detail:T,meta:Y});const ee=await fj(t.id);_e(ee)}catch{}},Ze=async()=>{try{Rt(!0);const u=await n4(t.id);rt(u)}catch{}finally{Rt(!1)}},Ie=u=>{const T=u.startType==="SERVIS"?BN:LN,Y=Gu(u.status,T);Y.id!==rn.id&&Sa(Y.id)},Oe=(u,T)=>!(T!=null&&T.skipAdvance),tt=async(u,T,Y={})=>{try{o(!0),l("");const ee=await u(),de=_s(ee);s(de),await Je("update",`Aama: ${rn.label}`,{stage:rn.id,...T||{}}),Oe(de,T)&&Ie(de)}catch(ee){l(Ia(ee)||"lem baarsz")}finally{o(!1)}},an=async(u,T,Y="")=>{if(u)try{st(!0);const ee=await kl(u,t.id,T,Y);return rt(de=>[ee,...de]),ee}catch(ee){return l(ee.message||"Dosya yklenemedi"),null}finally{st(!1)}},Es=async u=>{try{await IS(u),rt(T=>T.filter(Y=>Y.id!==u))}catch(T){l(T.message||"Dosya silinemedi")}},Na=async()=>{try{m(!0),g("");const T=(await Gi()||[]).map(Y=>({...Y,available:Math.max(0,(Y.onHand||0)-(Y.reserved||0))}));k(T)}catch(u){g(u.message||"Stok listesi alnamad")}finally{m(!1)}},ss=async()=>{te(!0);let u={orders:[],summary:{}},T=[],Y=[],ee=[],de=[];try{u=await Eu(t.id)}catch(We){console.warn("Orders load error:",We)}try{T=await ba(!0)}catch(We){console.warn("Roles load error:",We)}try{Y=await Gs()}catch(We){console.warn("Suppliers load error:",We)}try{ee=await Yh()}catch(We){console.warn("Glass types load error:",We)}try{de=await $S()}catch(We){console.warn("Combinations load error:",We)}let ge=[];try{ge=await Nl(!0)}catch(We){console.warn("Teams load error:",We)}let Te=[];try{Te=await WS()}catch(We){console.warn("Cancel reasons load error:",We)}let ze=[],Fe=[];try{ze=await _S(),Fe=await FS()}catch(We){console.warn("Issue/Fault config load error:",We)}let Xe={roles:[],summary:{}};try{Xe=await B4(t.id)}catch(We){console.warn("Assembly tasks load error:",We)}return H(u||{orders:[],summary:{}}),ke(T||[]),we(Y||[]),V(ee||[]),ce(de||[]),Pe(ge||[]),Ye(Te||[]),Ke(ze||[]),Dt(Fe||[]),ne(Xe||{roles:[],summary:{}}),te(!1),{ordersData:u,rolesData:T,suppliersData:Y,glassData:ee,combData:de,teamsData:ge,cancelReasonsData:Te,assemblyData:Xe}};c.useEffect(()=>{Na(),Ze(),(async()=>{try{Ue("");const T=await fj(t.id);_e(T)}catch(T){Ue(T.message||"Loglar alnamad")}})(),X(t.pendingPO||[]),ss()},[t==null?void 0:t.id]);const qd=u=>u?u.available<=0?{label:"Tkendi",tone:"danger"}:u.available<=u.critical?{label:"Kritik",tone:"danger"}:u.available<=u.critical+Math.max(5,u.critical*.25)?{label:"Dk",tone:"warning"}:{label:"Salkl",tone:"success"}:{label:"-",tone:"secondary"},gr=c.useMemo(()=>{if(!t.roles||t.roles.length===0)return{required:!0,reason:" kolu yok"};const u=t.roles.map(de=>de.id),T=re.filter(de=>u.includes(de.id)),Y=T.length>0&&T.every(de=>de.productionType==="external"),ee=T.some(de=>de.productionType==="internal");return Y?{required:!1,reason:"Tm i kollar d retim - stok opsiyonel",allExternal:!0}:ee?{required:!0,reason:" retim i kolu mevcut - stok gerekli",hasInternal:!0}:{required:!0,reason:"Varsaylan - stok gerekli"}},[t.roles,re]),Tl=c.useMemo(()=>{const u=x.trim().toLowerCase(),T=N.trim().toLowerCase(),Y=v.trim().toLowerCase();let ee=h;return u&&(ee=ee.filter(de=>(de.name||"").toLowerCase().includes(u)||(de.supplierName||de.supplier||"").toLowerCase().includes(u)||(de.colorName||"").toLowerCase().includes(u))),T&&(ee=ee.filter(de=>(de.productCode||de.sku||"").toLowerCase().includes(T))),Y&&(ee=ee.filter(de=>(de.colorCode||de.color||"").toLowerCase().includes(Y))),ee},[h,x,N,v]),to=c.useMemo(()=>{const u=h.reduce((Y,ee)=>Y+(ee.available||0),0),T=h.filter(Y=>qd(Y).tone!=="success").length;return{total:u,critical:T}},[h]),Mt=c.useMemo(()=>{var Y;const u=Number(((Y=t.offer)==null?void 0:Y.total)||0);return Number(R.offerTotal||0)||u||0},[t.offer,R.offerTotal]),zl=c.useMemo(()=>{var u;return R.chequesReceived&&((u=R.chequeLines)==null?void 0:u.length)>0?(R.chequeLines||[]).reduce((T,Y)=>T+Number(Y.amount||0),0):Number(R.chequeTotalAmount||0)},[R.chequeLines,R.chequesReceived,R.chequeTotalAmount]),ka=c.useMemo(()=>Number(R.payCash||0)+Number(R.payCard||0)+zl+Number(R.payAfter||0),[R.payCash,R.payCard,R.payAfter,zl]),Ca=c.useMemo(()=>Math.abs(ka-Mt)<1,[ka,Mt]),Yd=c.useMemo(()=>{const u=R.chequeLines||[];if(u.length===0)return 0;const T=new Date,Y=u.reduce((de,ge)=>de+Number(ge.amount||0),0);if(Y<=0)return 0;const ee=u.reduce((de,ge)=>{const Te=ge.due?new Date(ge.due):T,ze=Math.max(0,Math.round((Te-T)/(1e3*60*60*24)));return de+Number(ge.amount||0)*ze},0);return Math.round(ee/Y)},[R.chequeLines]),mf=u=>{B.some(T=>T.id===u.id)||(O(u),fe(1),Z(!0))},pf=()=>{if(!A||_<=0)return;const u={id:A.id,name:A.name,productCode:A.productCode||A.sku,colorCode:A.colorCode||A.color,sku:A.sku||A.productCode,qty:_,unit:A.unit||"adet",available:A.available,onHand:A.onHand,reserved:A.reserved||0,supplier:A.supplier||A.supplierName,color:A.color||A.colorName,colorName:A.colorName};q(T=>[...T,u]),Z(!1),O(null),fe(1),w(""),f(""),b("")},hf=u=>{q(T=>T.filter(Y=>Y.id!==u))},Gd=t.status||"";return e.jsxs("div",{className:"grid grid-1",style:{gap:16},children:[((ff=t.estimatedAssembly)==null?void 0:ff.date)&&e.jsxs("div",{style:{background:"linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%)",border:"1px solid #3b82f6",borderRadius:8,padding:"12px 16px",display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",gap:12},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[e.jsx(me,{icon:"",sx:{fontSize:24}}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:11,color:"#1d4ed8",fontWeight:500},children:"MTERYE SYLENLEN MONTAJ TERMN"}),e.jsx("div",{style:{fontSize:16,fontWeight:700,color:"#1e40af"},children:new Date(t.estimatedAssembly.date).toLocaleDateString("tr-TR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),t.estimatedAssembly.note&&e.jsx("div",{style:{fontSize:12,color:"#64748b",marginTop:2},children:t.estimatedAssembly.note})]})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[(()=>{const u=new Date;u.setHours(0,0,0,0);const T=new Date(t.estimatedAssembly.date);T.setHours(0,0,0,0);const Y=Math.ceil((T-u)/(1e3*60*60*24));let ee="var(--color-success)",de="var(--color-success-bg)",ge=`${Y} gn kald`;return Y<0?(ee="var(--color-danger)",de="var(--color-danger-bg)",ge=`${Math.abs(Y)} gn geti!`):Y===0?(ee="var(--color-warning)",de="#fef3cd",ge="BUGN!"):Y<=7&&(ee="var(--color-warning)",de="#fef3cd"),e.jsx("div",{style:{padding:"8px 16px",borderRadius:8,background:de,color:ee,fontWeight:700,fontSize:14},children:ge})})(),!ae&&!["KAPALI","SERVIS_KAPALI"].includes(t.status)&&e.jsx("button",{className:"btn btn-secondary btn-small",type:"button",title:"Montaj terminini gncelle",onClick:()=>{var Y,ee;const u=((Y=t.estimatedAssembly)==null?void 0:Y.date)||"",T=prompt("Yeni montaj termini (GG.AA.YYYY):",u);if(T&&T!==u){const de=prompt("Not (opsiyonel):",((ee=t.estimatedAssembly)==null?void 0:ee.note)||"");tt(()=>mj(t.id,{date:T,note:de||""}),{transition:t.status})}},children:e.jsx(me,{icon:""})})]})]}),e.jsxs("div",{className:"card subtle-card",children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h3",{className:"card-title",children:"Sre Haritas"}),e.jsx("span",{className:"badge badge-secondary",children:rn.label})]}),e.jsx("div",{className:"card-body",style:{overflowX:"auto",paddingBottom:16},children:e.jsx("div",{style:{display:"flex",alignItems:"flex-start",minWidth:"max-content",padding:"0 12px"},children:Hn.map((u,T)=>{var Xe,We;const Y=wl(u.id),ee=Y==="current",de=Y==="done",ge=T===Hn.length-1,Te=((Xe=u.statuses)==null?void 0:Xe.length)||1,ze=ee?(We=u.statuses)==null?void 0:We.indexOf(t.status):de?Te:-1;let Fe="#e2e8f0";return ee&&(Fe="#3b82f6"),de&&(Fe="#22c55e"),e.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[e.jsxs("div",{"data-stage":u.id,style:{display:"flex",flexDirection:"column",alignItems:"center",cursor:"pointer",position:"relative",zIndex:1,width:100},onClick:()=>eo(u.id),children:[e.jsx("div",{style:{width:36,height:36,borderRadius:"50%",backgroundColor:ee?"white":Fe,border:`2px solid ${Fe}`,display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700,color:ee?Fe:"white",marginBottom:8,transition:"all 0.2s",boxShadow:ee?`0 0 0 4px ${Fe}33`:"none"},children:de?"":T+1}),e.jsx("div",{style:{fontSize:12,fontWeight:ee?700:500,color:ee?"#0f172a":"#64748b",textAlign:"center",lineHeight:1.3},children:u.label})]}),!ge&&e.jsx("div",{style:{display:"flex",alignItems:"center",position:"relative",marginTop:-20},children:e.jsx("div",{style:{width:Te>1?30+(Te-1)*16:60,height:3,backgroundColor:de?"#22c55e":"#e2e8f0",display:"flex",alignItems:"center",justifyContent:"space-evenly",position:"relative"},children:Te>1&&Array.from({length:Te-1}).map((Kt,At)=>{var Me,He;const Ot=de||ee&&At<ze;return e.jsx("div",{style:{width:8,height:8,borderRadius:"50%",backgroundColor:Ot?"#22c55e":ee&&At===ze?"#3b82f6":"#cbd5e1",border:ee&&At===ze?"2px solid #3b82f6":"none",boxShadow:ee&&At===ze?"0 0 0 2px rgba(59,130,246,0.3)":"none",transition:"all 0.2s"},title:(Me=u.statuses)!=null&&Me[At+1]&&((He=Fc[u.statuses[At+1]])==null?void 0:He.label)||""},At)})})})]},u.id)})})}),e.jsx("div",{className:"card-footer text-muted",children:"Setiiniz aamann formu aada alr. nceki aamalara dnp dzeltme yapabilirsiniz."})]}),e.jsx("div",{className:"card subtle-card",style:{marginBottom:16},children:e.jsxs("div",{className:"grid grid-2",style:{gap:16},children:[e.jsxs("div",{children:[e.jsxs("div",{className:"metric-row",style:{marginBottom:8},children:[e.jsx("span",{className:"metric-label",children:"Durum"}),ta(t.status)]}),e.jsxs("div",{className:"metric-row",style:{marginBottom:8},children:[e.jsx("span",{className:"metric-label",children:"Balk"}),e.jsx("span",{className:"metric-value",children:t.title})]}),e.jsxs("div",{className:"metric-row",children:[e.jsx("span",{className:"metric-label",children:" No"}),e.jsx("span",{className:"metric-value",style:{fontSize:12},children:t.id})]})]}),e.jsxs("div",{style:{borderLeft:"1px solid var(--color-border)",paddingLeft:16},children:[e.jsxs("div",{style:{fontWeight:600,fontSize:16,marginBottom:8},children:[" ",t.customerName]}),r.phone&&e.jsxs("div",{style:{fontSize:13,marginBottom:4},children:[" ",r.phone,r.phone2&&` / ${r.phone2}`]}),r.address&&e.jsxs("div",{style:{fontSize:12,color:"var(--color-text-light)"},children:[" ",r.address]}),!r.phone&&!r.address&&e.jsx("div",{className:"text-muted",style:{fontSize:12},children:"Mteri detaylar bulunamad"})]})]})}),a?e.jsxs("div",{className:"card error-card",children:[e.jsx("div",{className:"error-title",children:"Hata"}),e.jsx("div",{className:"error-message",children:a})]}):null,un("measure")&&e.jsxs("div",{className:"card",children:[ae&&(()=>{const u=Ju(t,"measure");return e.jsxs("div",{style:{background:"linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%)",borderBottom:"1px solid var(--color-border)",padding:"12px 16px",color:"#475569"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,marginBottom:u.length>0?10:0},children:[e.jsx("span",{style:{fontSize:18},children:""}),e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:600,fontSize:13},children:"Ariv Grnm"}),e.jsx("div",{style:{fontSize:11,opacity:.8},children:"Bu aama tamamland. Sadece grntleme modundasnz."})]})]}),u.length>0&&e.jsxs("div",{style:{marginTop:8,paddingTop:8,borderTop:"1px solid rgba(0,0,0,0.1)"},children:[e.jsx("div",{style:{fontSize:11,fontWeight:600,marginBottom:6,color:"#64748b"},children:" Geilen Alt Aamalar:"}),e.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:6},children:u.map((T,Y)=>e.jsxs("span",{className:"badge badge-secondary",style:{fontSize:10},children:[T.toLabel,"  ",new Date(T.at).toLocaleDateString("tr-TR")]},Y))})]})]})})(),e.jsxs("div",{className:"card-header",children:[e.jsx("h3",{className:"card-title",children:t.startType==="MUSTERI_OLCUSU"?" Mteri ls":" l / Keif"}),ta(t.status)]}),e.jsxs("div",{className:"card-body grid grid-1",style:{gap:16},children:[((gf=t.roles)==null?void 0:gf.length)>0&&e.jsx("div",{style:{display:"flex",gap:6,flexWrap:"wrap"},children:t.roles.map(u=>e.jsx("span",{className:"badge badge-secondary",children:u.name},u.id||u.name))}),ae&&e.jsxs("div",{className:"card subtle-card",style:{background:"#f8fafc"},children:[e.jsx("div",{className:"card-header",style:{padding:"12px 16px"},children:e.jsx("h4",{className:"card-title",style:{fontSize:14},children:" l Bilgileri zeti"})}),e.jsxs("div",{className:"card-body",style:{padding:16},children:[e.jsxs("div",{className:"grid grid-2",style:{gap:16,marginBottom:16},children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-muted",style:{fontSize:12},children:"RANDEVU TARH"}),e.jsx("div",{style:{fontWeight:600},children:(xf=(yf=t.measure)==null?void 0:yf.appointment)!=null&&xf.date?new Date(t.measure.appointment.date).toLocaleString("tr-TR",{dateStyle:"long",timeStyle:"short"}):"-"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-muted",style:{fontSize:12},children:"MTER"}),e.jsx("div",{style:{fontWeight:600},children:t.customerName})]})]}),((jf=(vf=t.measure)==null?void 0:vf.measurements)==null?void 0:jf.note)&&e.jsxs("div",{style:{marginBottom:16,padding:12,background:"white",borderRadius:8,border:"1px solid var(--color-border)"},children:[e.jsx("div",{className:"text-muted",style:{fontSize:12,marginBottom:4},children:"NOT"}),e.jsx("div",{children:t.measure.measurements.note})]}),Ge.length>0&&e.jsxs("div",{children:[e.jsx("div",{className:"text-muted",style:{fontSize:12,marginBottom:8},children:" YKL DOSYALAR"}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:8},children:Ge.map(u=>e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"10px 12px",background:"white",borderRadius:6,border:"1px solid var(--color-border)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[e.jsx("span",{children:""}),e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:500,fontSize:13},children:u.fileName||u.filename}),e.jsx("div",{className:"text-muted",style:{fontSize:11},children:u.type})]})]}),e.jsx("a",{href:`http://localhost:8000/documents/${u.id}/download`,className:"btn btn-sm",style:{fontSize:11,padding:"4px 8px"},download:!0,children:" ndir"})]},u.id))})]})]})]}),!ae&&t.status==="OLCU_RANDEVU_BEKLIYOR"&&t.startType!=="MUSTERI_OLCUSU"&&e.jsxs("div",{className:"card subtle-card",children:[e.jsx("div",{className:"card-header",style:{padding:"12px 16px"},children:e.jsx("h4",{className:"card-title",style:{fontSize:14},children:" Randevu Bilgileri"})}),e.jsxs("div",{className:"card-body",style:{padding:16},children:[e.jsxs("div",{className:"grid grid-3",style:{gap:12},children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Randevu Tarihi *"}),e.jsx(gt,{value:((bf=R.appointment)==null?void 0:bf.split("T")[0])||"",onChange:u=>{var Y,ee;const T=(Y=R.appointment)!=null&&Y.includes("T")?(ee=R.appointment.split("T")[1])==null?void 0:ee.slice(0,5):"10:00";Ne(de=>({...de,appointment:u?`${u}T${T}`:""}))}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Saat *"}),e.jsx("input",{className:"form-input",type:"time",value:(Sf=R.appointment)!=null&&Sf.includes("T")?(Nf=R.appointment.split("T")[1])==null?void 0:Nf.slice(0,5):"10:00",onChange:u=>{var Y;const T=((Y=R.appointment)==null?void 0:Y.split("T")[0])||"";T&&Ne(ee=>({...ee,appointment:`${T}T${u.target.value}`}))}})]})]}),e.jsxs("div",{className:"form-group",style:{marginTop:12},children:[e.jsx("label",{className:"form-label",children:"Adres / Not"}),e.jsx("textarea",{className:"form-textarea",placeholder:"Mteri adresi, iletiim bilgileri, notlar...",rows:2,value:R.measureNote,onChange:u=>Ne(T=>({...T,measureNote:u.target.value}))})]}),e.jsx("button",{className:"btn btn-success",type:"button",style:{marginTop:12},disabled:i||!R.appointment,onClick:()=>tt(()=>ap(t.id,{measurements:{note:R.measureNote},appointment:{date:R.appointment},status:"OLCU_RANDEVULU"}),{transition:"OLCU_RANDEVULU"}),children:" Randevuyu Kaydet"}),!R.appointment&&e.jsx("div",{className:"text-muted",style:{fontSize:12,marginTop:8},children:" Randevu tarihi zorunludur."})]})]}),!ae&&t.status==="OLCU_RANDEVULU"&&e.jsxs("div",{className:"card",style:{border:"2px solid var(--color-info)",background:"var(--color-info-bg)"},children:[e.jsxs("div",{className:"card-header",style:{padding:"12px 16px"},children:[e.jsx("h4",{className:"card-title",style:{fontSize:14},children:" Randevu Bilgisi"}),e.jsx("span",{className:"badge badge-info",children:"lye Gidilecek"})]}),e.jsxs("div",{className:"card-body",style:{padding:16},children:[e.jsxs("div",{className:"grid grid-2",style:{gap:16},children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-muted",style:{fontSize:12},children:"RANDEVU"}),e.jsx("div",{style:{fontWeight:600,fontSize:16},children:(Cf=(kf=t.measure)==null?void 0:kf.appointment)!=null&&Cf.date?new Date(t.measure.appointment.date).toLocaleString("tr-TR",{dateStyle:"long",timeStyle:"short"}):"-"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-muted",style:{fontSize:12},children:"MTER"}),e.jsx("div",{style:{fontWeight:600},children:t.customerName})]})]}),((Tf=(wf=t.measure)==null?void 0:wf.measurements)==null?void 0:Tf.note)&&e.jsxs("div",{style:{marginTop:12,padding:10,background:"white",borderRadius:6},children:[e.jsx("strong",{children:"Not:"})," ",t.measure.measurements.note]}),e.jsx("button",{className:"btn btn-primary",type:"button",style:{marginTop:16},disabled:i,onClick:()=>tt(()=>Gt(t.id,{status:"OLCU_ALINDI"}),{transition:"OLCU_ALINDI"}),children:" l Alnd - Dosya Yklemeye Ge"})]})]}),!ae&&(t.status==="OLCU_ALINDI"||t.startType==="MUSTERI_OLCUSU")&&((zf=t.roles)==null?void 0:zf.length)>0&&e.jsxs("div",{className:"card subtle-card",children:[e.jsxs("div",{className:"card-header",style:{padding:"12px 16px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsx("h4",{className:"card-title",style:{fontSize:14},children:" izim Dosyalar"}),e.jsx("span",{className:"text-muted",style:{fontSize:12},children:"Her i kolu iin dosya ykleyin"})]}),e.jsx("button",{className:"btn btn-warning btn-small",onClick:()=>{js({issueType:"measurement_error",faultSource:"measurement",description:"",responsiblePersonId:"",photoUrl:""}),Un(!0)},children:" Sorun Bildir"})]}),((Rf=(Df=t.measure)==null?void 0:Df.issues)==null?void 0:Rf.length)>0&&e.jsxs("div",{style:{padding:"0 16px 16px",borderBottom:"1px solid var(--color-border)"},children:[e.jsx("div",{style:{fontWeight:600,fontSize:13,marginBottom:8},children:" Bildirilen Sorunlar"}),t.measure.issues.map(u=>{const T=dt.find(ee=>ee.id===u.issueType)||{name:u.issueType,icon:""},Y=ot.find(ee=>ee.id===u.faultSource)||{name:u.faultSource};return e.jsx("div",{style:{padding:12,background:u.status==="resolved"?"var(--color-success-bg)":"var(--color-warning-bg)",borderRadius:8,marginBottom:8,border:u.status==="resolved"?"1px solid var(--color-success)":"1px solid var(--color-warning)"},children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[e.jsxs("div",{children:[e.jsxs("div",{style:{fontWeight:600,marginBottom:4},children:[T.icon," ",T.name,e.jsx("span",{className:`badge badge-${u.status==="resolved"?"success":"warning"}`,style:{marginLeft:8},children:u.status==="resolved"?"zld":"Bekliyor"})]}),e.jsxs("div",{style:{fontSize:12,color:"var(--color-text-secondary)"},children:["Kaynak: ",Y.name]}),e.jsx("div",{style:{fontSize:13,marginTop:4},children:u.description})]}),u.status==="pending"&&e.jsx("button",{className:"btn btn-success btn-small",onClick:async()=>{try{const ee=await o6(t.id,u.id);setSelectedJob(_s(ee))}catch(ee){alert("Hata: "+(ee.message||"Sorun zlemedi"))}},children:" zld"})]})},u.id)})]}),e.jsxs("div",{className:"card-body",style:{padding:16},children:[t.roles.map(u=>{const T=u.id||u.name,Y=Ge.filter(ze=>ze.type===`measure_${T}`),ee=Ge.filter(ze=>ze.type===`technical_${T}`),de=Y.length>0,ge=ee.length>0,Te=de&&ge;return e.jsxs("div",{style:{marginBottom:16,padding:16,background:Te?"var(--color-success-bg)":"var(--color-bg-secondary)",borderRadius:8,border:Te?"1px solid var(--color-success)":"1px solid var(--color-border)"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[e.jsxs("div",{style:{fontWeight:600,display:"flex",alignItems:"center",gap:8},children:[Te&&e.jsx("span",{style:{color:"var(--color-success)"},children:""}),u.name]}),Te&&e.jsx("span",{className:"badge badge-success",children:"Tamamland"})]}),e.jsxs("div",{className:"grid grid-2",style:{gap:12},children:[e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:["l izimi ",!de&&e.jsx("span",{style:{color:"var(--color-danger)"},children:"*"})]}),e.jsxs("div",{className:"file-upload-zone",children:[e.jsx("input",{type:"file",id:`measure-file-${T}`,accept:".pdf,.jpg,.jpeg,.png,.dwg,.dxf",style:{display:"none"},onChange:async ze=>{var Xe;const Fe=(Xe=ze.target.files)==null?void 0:Xe[0];Fe&&(await an(Fe,`measure_${T}`,`${u.name} - l izimi`),ze.target.value="")}}),e.jsx("label",{htmlFor:`measure-file-${T}`,className:"btn btn-secondary btn-small",style:{cursor:"pointer"},children:" Dosya Se"}),de&&e.jsx("span",{className:"badge badge-success",style:{marginLeft:8},children:""})]}),Y.map(ze=>e.jsxs("div",{style:{marginTop:8,display:"flex",alignItems:"center",gap:8,fontSize:12},children:[e.jsxs("a",{href:ls(ze.id),target:"_blank",rel:"noopener noreferrer",style:{color:"var(--color-primary)"},children:[" ",ze.originalName]}),e.jsx("button",{type:"button",className:"btn btn-danger btn-small btn-icon",style:{padding:"2px 6px",fontSize:10},onClick:()=>Es(ze.id),title:"Belgeyi Sil",children:""})]},ze.id))]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:["Teknik izim ",!ge&&e.jsx("span",{style:{color:"var(--color-danger)"},children:"*"})]}),e.jsxs("div",{className:"file-upload-zone",children:[e.jsx("input",{type:"file",id:`tech-file-${T}`,accept:".pdf,.jpg,.jpeg,.png,.dwg,.dxf",style:{display:"none"},onChange:async ze=>{var Xe;const Fe=(Xe=ze.target.files)==null?void 0:Xe[0];Fe&&(await an(Fe,`technical_${T}`,`${u.name} - Teknik izim`),ze.target.value="")}}),e.jsx("label",{htmlFor:`tech-file-${T}`,className:"btn btn-secondary btn-small",style:{cursor:"pointer"},children:" Dosya Se"}),ge&&e.jsx("span",{className:"badge badge-success",style:{marginLeft:8},children:""})]}),ee.map(ze=>e.jsxs("div",{style:{marginTop:8,display:"flex",alignItems:"center",gap:8,fontSize:12},children:[e.jsxs("a",{href:ls(ze.id),target:"_blank",rel:"noopener noreferrer",style:{color:"var(--color-primary)"},children:[" ",ze.originalName]}),e.jsx("button",{type:"button",className:"btn btn-danger btn-small btn-icon",style:{padding:"2px 6px",fontSize:10},onClick:()=>Es(ze.id),title:"Belgeyi Sil",children:""})]},ze.id))]})]})]},T)}),t.roles.every(T=>{const Y=T.id||T.name,ee=Ge.some(ge=>ge.type===`measure_${Y}`),de=Ge.some(ge=>ge.type===`technical_${Y}`);return ee&&de})?e.jsx("button",{className:"btn btn-success",type:"button",style:{marginTop:8},disabled:i,onClick:()=>tt(()=>Gt(t.id,{status:"FIYATLANDIRMA"}),{transition:"FIYATLANDIRMA"}),children:" Fiyatlandrmaya Ge"}):e.jsx("div",{className:"text-muted",style:{padding:12,background:"var(--color-warning-bg)",borderRadius:8,fontSize:13},children:" Fiyatlandrmaya gemek iin tm i kollarnn dosyalar yklenmelidir."})]})]}),t.status==="MUSTERI_OLCUSU_BEKLENIYOR"&&e.jsx("div",{className:"card",style:{border:"2px solid var(--color-warning)",background:"var(--color-warning-bg)"},children:e.jsxs("div",{className:"card-body",style:{padding:20,textAlign:"center"},children:[e.jsx("div",{style:{fontSize:48,marginBottom:12},children:""}),e.jsx("div",{style:{fontWeight:600,marginBottom:8},children:"Mteri ls Bekleniyor"}),e.jsx("div",{className:"text-muted",children:"Yukardaki alanlara mteriden gelen l dosyalarn ykleyin."})]})}),St.length>0&&e.jsxs("div",{className:"card error-card",children:[e.jsx("div",{className:"error-title",children:" Eksikler var"}),e.jsx("ul",{style:{margin:"8px 0 0 16px",padding:0},children:St.map((u,T)=>e.jsx("li",{style:{marginBottom:4},children:u},T))})]})]})]}),un("pricing")&&e.jsxs("div",{className:"card",children:[ae&&(()=>{const u=Ju(t,"pricing");return e.jsxs("div",{style:{background:"linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%)",borderBottom:"1px solid var(--color-border)",padding:"12px 16px",color:"#475569"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,marginBottom:u.length>0?10:0},children:[e.jsx("span",{style:{fontSize:18},children:""}),e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:600,fontSize:13},children:"Ariv Grnm"}),e.jsx("div",{style:{fontSize:11,opacity:.8},children:"Bu aama tamamland. Sadece grntleme modundasnz."})]})]}),u.length>0&&e.jsxs("div",{style:{marginTop:8,paddingTop:8,borderTop:"1px solid rgba(0,0,0,0.1)"},children:[e.jsx("div",{style:{fontSize:11,fontWeight:600,marginBottom:6,color:"#64748b"},children:" Geilen Alt Aamalar:"}),e.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:6},children:u.map((T,Y)=>e.jsxs("span",{className:"badge badge-secondary",style:{fontSize:10},children:[T.toLabel,"  ",new Date(T.at).toLocaleDateString("tr-TR")]},Y))})]})]})})(),e.jsxs("div",{className:"card-header",children:[e.jsx("h3",{className:"card-title",children:" Fiyatlandrma"}),ta(t.status)]}),e.jsxs("div",{className:"card-body grid grid-1",style:{gap:16},children:[ae&&e.jsxs("div",{className:"card subtle-card",style:{background:"#f8fafc"},children:[e.jsx("div",{className:"card-header",style:{padding:"12px 16px"},children:e.jsx("h4",{className:"card-title",style:{fontSize:14},children:" Fiyatlandrma zeti"})}),e.jsxs("div",{className:"card-body",style:{padding:16},children:[((Af=t.offer)==null?void 0:Af.rolePrices)&&Object.keys(t.offer.rolePrices).length>0&&e.jsxs("div",{style:{marginBottom:16},children:[e.jsx("div",{className:"text-muted",style:{fontSize:12,marginBottom:8},children:" KOLU FYATLARI"}),(Ef=t.roles)==null?void 0:Ef.map(u=>{var ee;const T=u.id||u.name,Y=((ee=t.offer.rolePrices)==null?void 0:ee[T])||0;return e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"8px 12px",background:"white",borderRadius:6,marginBottom:4,border:"1px solid var(--color-border)"},children:[e.jsx("span",{children:u.name}),e.jsxs("span",{style:{fontWeight:600},children:[Le(Y)," "]})]},T)}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"12px",background:"var(--color-primary-bg)",borderRadius:6,marginTop:8},children:[e.jsx("span",{style:{fontWeight:600},children:"TOPLAM"}),e.jsxs("span",{style:{fontWeight:700,color:"var(--color-primary)"},children:[Le(((If=t.offer)==null?void 0:If.total)||0)," "]})]})]}),((Mf=t.offer)==null?void 0:Mf.notifiedDate)&&e.jsxs("div",{style:{marginBottom:16},children:[e.jsx("div",{className:"text-muted",style:{fontSize:12,marginBottom:4},children:"FYAT BLDRM TARH"}),e.jsx("div",{style:{fontWeight:500},children:new Date(t.offer.notifiedDate).toLocaleDateString("tr-TR")})]}),Ge.length>0&&e.jsxs("div",{children:[e.jsx("div",{className:"text-muted",style:{fontSize:12,marginBottom:8},children:" YKL DOSYALAR"}),e.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:Ge.map(u=>e.jsxs("a",{href:ls(u.id),target:"_blank",rel:"noopener noreferrer",className:"btn btn-sm",style:{fontSize:11},children:[" ",u.originalName," "]},u.id))})]})]})]}),!ae&&t.status==="FIYATLANDIRMA"&&e.jsxs(e.Fragment,{children:[Ge.length>0&&e.jsxs("div",{className:"card subtle-card",children:[e.jsx("div",{className:"card-header",style:{padding:"12px 16px"},children:e.jsx("h4",{className:"card-title",style:{fontSize:14},children:" Ykl Dosyalar"})}),e.jsx("div",{className:"card-body",style:{padding:16},children:e.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:Ge.map(u=>e.jsxs("a",{href:ls(u.id),target:"_blank",rel:"noopener noreferrer",style:{padding:"6px 12px",background:"var(--color-bg-secondary)",borderRadius:6,fontSize:12,textDecoration:"none",color:"var(--color-text)"},children:[" ",u.originalName]},u.id))})})]}),((Pf=t.roles)==null?void 0:Pf.length)>0&&e.jsxs("div",{className:"card subtle-card",children:[e.jsx("div",{className:"card-header",style:{padding:"12px 16px"},children:e.jsx("h4",{className:"card-title",style:{fontSize:14},children:"  Kolu Bazl Fiyatlandrma"})}),e.jsxs("div",{className:"card-body",style:{padding:16},children:[e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:12},children:t.roles.map(u=>{const T=u.id||u.name;return e.jsxs("div",{className:"metric-row",style:{padding:"12px 16px",background:"var(--color-bg-secondary)",borderRadius:8},children:[e.jsx("div",{style:{fontWeight:600,minWidth:180},children:u.name}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[e.jsx(gn,{placeholder:"0",style:{width:150},value:R.rolePrices[T]||"",onChange:Y=>Ne(ee=>({...ee,rolePrices:{...ee.rolePrices,[T]:Y}}))}),e.jsx("span",{style:{color:"var(--color-text-light)"},children:""})]})]},T)})}),e.jsxs("div",{style:{marginTop:16,padding:"16px",background:"var(--color-primary)",borderRadius:8,color:"white",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("span",{style:{fontWeight:600},children:"TOPLAM"}),e.jsxs("span",{style:{fontSize:24,fontWeight:700},children:[Le(Object.values(R.rolePrices).reduce((u,T)=>u+(Number(T)||0),0))," "]})]})]})]}),e.jsxs("div",{className:"card subtle-card",children:[e.jsx("div",{className:"card-header",style:{padding:"12px 16px"},children:e.jsx("h4",{className:"card-title",style:{fontSize:14},children:" Mteriye Bildirim"})}),e.jsxs("div",{className:"card-body",style:{padding:16},children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Fiyat Bildirim Tarihi *"}),e.jsx(gt,{value:R.pricingNotifiedDate||new Date().toISOString().split("T")[0],onChange:u=>Ne(T=>({...T,pricingNotifiedDate:u}))})]}),e.jsx("button",{className:"btn btn-success",type:"button",style:{marginTop:12},disabled:i||Object.values(R.rolePrices).every(u=>!u),onClick:()=>{const u=Object.values(R.rolePrices).reduce((T,Y)=>T+(Number(Y)||0),0);tt(()=>Gt(t.id,{status:"FIYAT_VERILDI",offer:{total:u,rolePrices:R.rolePrices,notifiedDate:R.pricingNotifiedDate||new Date().toISOString().split("T")[0]}}),{transition:"FIYAT_VERILDI"})},children:" Fiyat Mteriye Bildirildi"})]})]})]}),!ae&&t.status==="FIYAT_VERILDI"&&(()=>{var Te,ze,Fe,Xe,We,Kt,At,Ot;const u=((Te=t.offer)==null?void 0:Te.rolePrices)||{},T=((ze=t.offer)==null?void 0:ze.total)||((Fe=t.roles)==null?void 0:Fe.reduce((Me,He)=>{const mt=He.id||He.name;return Me+(Number(u[mt])||0)},0))||0,Y=R.roleDiscounts||{},ee=Object.values(Y).reduce((Me,He)=>Me+(Number(He)||0),0),de=T-ee,ge=((We=(Xe=t.offer)==null?void 0:Xe.negotiationHistory)==null?void 0:We.length)>0;return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"card",style:{border:"2px solid var(--color-warning)",background:"var(--color-warning-bg)"},children:e.jsxs("div",{className:"card-body",style:{padding:20},children:[e.jsxs("div",{className:"grid grid-3",style:{gap:16,marginBottom:16},children:[e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("div",{className:"text-muted",style:{fontSize:12},children:"LK FYAT"}),e.jsx("div",{style:{fontSize:20,fontWeight:700,color:T>0?"var(--color-text)":"var(--color-danger)"},children:T>0?`${Le(T)} `:"Fiyat Girilmedi!"})]}),e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("div",{className:"text-muted",style:{fontSize:12},children:"BLDRM TARH"}),e.jsx("div",{style:{fontWeight:600},children:(Kt=t.offer)!=null&&Kt.notifiedDate?new Date(t.offer.notifiedDate).toLocaleDateString("tr-TR"):"-"})]}),e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("div",{className:"text-muted",style:{fontSize:12},children:"MTER"}),e.jsx("div",{style:{fontWeight:600},children:t.customerName})]})]}),((At=t.roles)==null?void 0:At.length)>0&&e.jsxs("div",{style:{borderTop:"1px solid var(--color-border)",paddingTop:12,marginTop:12},children:[e.jsx("div",{style:{fontSize:12,color:"var(--color-text-light)",marginBottom:8},children:" Kolu Bazl Fiyatlar:"}),t.roles.map(Me=>{const He=Me.id||Me.name,mt=Number(u[He])||0;return e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:13,marginBottom:4},children:[e.jsx("span",{children:Me.name}),e.jsx("span",{style:{color:mt>0?"inherit":"var(--color-danger)"},children:mt>0?`${Le(mt)} `:"Girilmedi"})]},He)})]})]})}),T===0&&e.jsx("div",{className:"card",style:{border:"2px solid var(--color-danger)",background:"var(--color-danger-bg)"},children:e.jsxs("div",{className:"card-body",style:{padding:16},children:[e.jsx("div",{style:{fontWeight:600,color:"var(--color-danger)",marginBottom:8},children:" Bu i iin fiyat girilmemi!"}),e.jsx("div",{className:"text-muted",style:{fontSize:13,marginBottom:12},children:"Fiyatlandrma aamasna geri dnp i kolu bazl fiyatlar girmeniz gerekmektedir."}),e.jsx("button",{className:"btn btn-warning",type:"button",disabled:i,onClick:()=>tt(()=>Gt(t.id,{status:"FIYATLANDIRMA"}),{transition:"FIYATLANDIRMA"}),children:" Fiyatlandrmaya Geri Dn"})]})}),e.jsxs("div",{className:"card subtle-card",children:[e.jsx("div",{className:"card-header",style:{padding:"12px 16px"},children:e.jsx("h4",{className:"card-title",style:{fontSize:14},children:" Fiyat Gemii"})}),e.jsxs("div",{className:"card-body",style:{padding:ge?0:16},children:[ge?e.jsxs("table",{className:"table",style:{margin:0},children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Tarih"}),e.jsx("th",{children:"lk Fiyat"}),e.jsx("th",{children:"skonto"}),e.jsx("th",{children:"Son Fiyat"})]})}),e.jsx("tbody",{children:t.offer.negotiationHistory.map((Me,He)=>e.jsxs("tr",{children:[e.jsx("td",{children:new Date(Me.date).toLocaleDateString("tr-TR")}),e.jsxs("td",{children:[Le(Me.originalTotal)," "]}),e.jsxs("td",{style:{color:"var(--color-danger)"},children:["-",Le(Me.discountTotal)," "]}),e.jsxs("td",{style:{fontWeight:600},children:[Le(Me.finalTotal)," "]})]},He))})]}):e.jsx("div",{style:{color:"var(--color-text-light)",fontSize:13,textAlign:"center"},children:"Henz fiyat deiiklii veya pazarlk yaplmad."}),t.rejection&&e.jsxs("div",{style:{marginTop:ge?12:0,padding:ge?"12px 16px":0,borderTop:ge?"1px solid var(--color-border)":"none"},children:[e.jsx("div",{style:{fontWeight:600,color:"var(--color-danger)",marginBottom:8,fontSize:13},children:" Red Gemii"}),e.jsxs("div",{style:{fontSize:12,color:"var(--color-text-light)"},children:[e.jsx("strong",{children:"Tarih:"})," ",t.rejection.rejectedAt?new Date(t.rejection.rejectedAt).toLocaleDateString("tr-TR"):"-",t.rejection.reason&&e.jsxs("span",{children:[" | ",e.jsx("strong",{children:"Sebep:"})," ",t.rejection.reason]}),t.rejection.previousTotal&&e.jsxs("span",{children:[" | ",e.jsx("strong",{children:"Red Edilen Fiyat:"})," ",Le(t.rejection.previousTotal)," "]})]})]})]})]}),R.showNegotiationPanel&&T>0?e.jsxs("div",{className:"card",style:{border:"2px solid var(--color-primary)"},children:[e.jsxs("div",{className:"card-header",style:{padding:"12px 16px",background:"var(--color-primary-bg)"},children:[e.jsx("h4",{className:"card-title",style:{fontSize:14},children:" skonto / Pazarlk"}),e.jsx("button",{type:"button",className:"btn btn-secondary btn-small",onClick:()=>Ne(Me=>({...Me,showNegotiationPanel:!1,roleDiscounts:{}})),children:"ptal"})]}),e.jsxs("div",{className:"card-body",style:{padding:16},children:[e.jsx("div",{style:{fontSize:13,color:"var(--color-text-light)",marginBottom:12},children:"Her i kolu iin yaplacak iskonto tutarn girin:"}),(Ot=t.roles)==null?void 0:Ot.map(Me=>{const He=Me.id||Me.name,mt=Number(u[He])||0,ln=Number(Y[He]||0),zn=mt-ln;return e.jsxs("div",{style:{padding:"12px 16px",background:"var(--color-bg-secondary)",borderRadius:8,marginBottom:8},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:8},children:[e.jsx("span",{style:{fontWeight:600},children:Me.name}),e.jsxs("span",{style:{fontSize:13},children:["Mevcut: ",Le(mt)," "]})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[e.jsxs("div",{style:{flex:1},children:[e.jsx("label",{className:"form-label",style:{fontSize:12},children:"skonto Tutar"}),e.jsx(gn,{placeholder:"0",value:Y[He]||"",onChange:ft=>Ne(rs=>({...rs,roleDiscounts:{...rs.roleDiscounts,[He]:ft}}))})]}),e.jsxs("div",{style:{textAlign:"right"},children:[e.jsx("div",{style:{fontSize:12,color:"var(--color-text-light)"},children:"Yeni Fiyat"}),e.jsxs("div",{style:{fontWeight:700,fontSize:16,color:ln>0?"var(--color-success)":"inherit"},children:[Le(zn)," "]})]})]})]},He)}),e.jsxs("div",{style:{marginTop:16,padding:16,background:ee>0?"var(--color-success-bg)":"var(--color-bg-secondary)",borderRadius:8,border:ee>0?"2px solid var(--color-success)":"none"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8},children:[e.jsx("span",{children:"lk Toplam:"}),e.jsxs("span",{children:[Le(T)," "]})]}),ee>0&&e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8,color:"var(--color-danger)"},children:[e.jsx("span",{children:"Toplam skonto:"}),e.jsxs("span",{children:["-",Le(ee)," "]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontWeight:700,fontSize:18,paddingTop:8,borderTop:"1px solid var(--color-border)"},children:[e.jsx("span",{children:"ANLAILAN FYAT:"}),e.jsxs("span",{style:{color:"var(--color-success)"},children:[Le(de)," "]})]})]}),e.jsx("button",{className:"btn btn-success",type:"button",style:{width:"100%",marginTop:16},disabled:i,onClick:()=>{var ln,zn;const He=[...((ln=t.offer)==null?void 0:ln.negotiationHistory)||[],{date:new Date().toISOString(),originalTotal:T,discountTotal:ee,finalTotal:de,roleDiscounts:{...Y}}],mt={};(zn=t.roles)==null||zn.forEach(ft=>{const rs=ft.id||ft.name,_N=Number(u[rs])||0;mt[rs]=_N-(Number(Y[rs])||0)}),tt(()=>Gt(t.id,{status:"ANLASMA_YAPILIYOR",offer:{...t.offer,total:de,rolePrices:mt,negotiationHistory:He,agreedDate:new Date().toISOString()}}),{transition:"ANLASMA_YAPILIYOR"})},children:" Bu Fiyatla Anlald - Devam Et"})]})]}):Ln?e.jsxs("div",{children:[e.jsxs("div",{style:{padding:16,background:"var(--color-info-bg)",borderRadius:8,marginBottom:16,border:"1px solid var(--color-info)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:8},children:[e.jsx("span",{style:{fontSize:20},children:""}),e.jsx("strong",{children:"Fiyat Sorgusu"})]}),e.jsx("div",{style:{fontSize:13,color:"var(--color-text-secondary)"},children:'Bu i mteri ls ile almtr. Onay veya red karar ile i kapanacaktr. Onaylanrsa mteri iin "Kendi lmz" ile yeni bir i balatabilirsiniz.'})]}),e.jsxs("div",{style:{display:"flex",gap:12},children:[e.jsx("button",{className:"btn btn-success",type:"button",style:{flex:1,padding:"12px 16px"},disabled:i,onClick:()=>tt(()=>Co(t.id,{decision:"ONAY",note:"Teklif onayland"}),{transition:"FIYAT_SORGUSU_ONAY"}),children:" Teklif Onayland"}),e.jsx("button",{className:"btn btn-danger",type:"button",style:{flex:1,padding:"12px 16px"},disabled:i,onClick:()=>Ne(Me=>({...Me,showInquiryRejectModal:!0})),children:" Teklif Reddedildi"})]}),R.showInquiryRejectModal&&e.jsxs("div",{className:"card",style:{marginTop:16,border:"2px solid var(--color-danger)",background:"var(--color-danger-bg)"},children:[e.jsx("div",{className:"card-header",style:{padding:"12px 16px"},children:e.jsx("h4",{className:"card-title",style:{fontSize:14,color:"var(--color-danger)"},children:" Fiyat Sorgusu Reddedildi"})}),e.jsxs("div",{className:"card-body",style:{padding:16},children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Red Nedeni *"}),e.jsxs("select",{className:"form-select",value:R.inquiryRejectReason||"",onChange:Me=>Ne(He=>({...He,inquiryRejectReason:Me.target.value})),children:[e.jsx("option",{value:"",children:"Sein..."}),Be.map(Me=>e.jsx("option",{value:Me.id,children:Me.name},Me.id)),Be.length===0&&e.jsxs(e.Fragment,{children:[e.jsx("option",{value:"price_high",children:"Fiyat Yksek Bulundu"}),e.jsx("option",{value:"competitor",children:"Rakip Tercih Edildi"}),e.jsx("option",{value:"customer_cancel",children:"Mteri Vazgeti"}),e.jsx("option",{value:"other",children:"Dier"})]})]})]}),e.jsxs("div",{className:"form-group",style:{marginTop:12},children:[e.jsx("label",{className:"form-label",children:"Not"}),e.jsx("textarea",{className:"form-textarea",placeholder:"Aklama...",rows:2,value:R.inquiryRejectNote||"",onChange:Me=>Ne(He=>({...He,inquiryRejectNote:Me.target.value}))})]}),e.jsxs("div",{style:{display:"flex",gap:12,marginTop:12},children:[e.jsx("button",{className:"btn btn-secondary",type:"button",onClick:()=>Ne(Me=>({...Me,showInquiryRejectModal:!1})),children:"ptal"}),e.jsx("button",{className:"btn btn-danger",type:"button",disabled:i||!R.inquiryRejectReason,onClick:()=>tt(()=>Co(t.id,{decision:"RED",cancelReason:R.inquiryRejectReason,note:R.inquiryRejectNote}),{transition:"FIYAT_SORGUSU_RED"}),children:"Fiyat Sorgusunu Reddet"})]}),!R.inquiryRejectReason&&e.jsx("div",{className:"text-muted",style:{fontSize:12,marginTop:8},children:" Red nedeni zorunludur."})]})]})]}):e.jsxs("div",{style:{display:"flex",gap:12},children:[e.jsx("button",{className:"btn btn-success",type:"button",style:{flex:1},disabled:i,onClick:()=>tt(()=>Gt(t.id,{status:"ANLASMA_YAPILIYOR",offer:{...t.offer,agreedDate:new Date().toISOString()}}),{transition:"ANLASMA_YAPILIYOR"}),children:" Fiyat Onayland"}),e.jsx("button",{className:"btn btn-warning",type:"button",style:{flex:1},disabled:i,onClick:()=>Ne(Me=>({...Me,showNegotiationPanel:!0})),children:" Pazarlk / skonto"}),e.jsx("button",{className:"btn btn-danger",type:"button",style:{flex:1},disabled:i,onClick:()=>Ne(Me=>({...Me,showRejectionModal:!0})),children:" Reddedildi"})]}),R.showRejectionModal&&e.jsxs("div",{className:"card",style:{border:"2px solid var(--color-danger)",background:"var(--color-danger-bg)"},children:[e.jsx("div",{className:"card-header",style:{padding:"12px 16px"},children:e.jsx("h4",{className:"card-title",style:{fontSize:14,color:"var(--color-danger)"},children:" Ret / Anlalamad"})}),e.jsxs("div",{className:"card-body",style:{padding:16},children:[e.jsxs("div",{className:"grid grid-2",style:{gap:12},children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Ret Kategorisi *"}),e.jsxs("select",{className:"form-select",value:R.rejectionCategory||"",onChange:Me=>Ne(He=>({...He,rejectionCategory:Me.target.value})),children:[e.jsx("option",{value:"",children:"Sein..."}),Be.map(Me=>e.jsx("option",{value:Me.id,children:Me.name},Me.id)),Be.length===0&&e.jsxs(e.Fragment,{children:[e.jsx("option",{value:"price_high",children:"Fiyat Yksek Bulundu"}),e.jsx("option",{value:"competitor",children:"Rakip Tercih Edildi"}),e.jsx("option",{value:"customer_cancel",children:"Mteri Vazgeti"}),e.jsx("option",{value:"other",children:"Dier"})]})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Takip Tarihi"}),e.jsx(gt,{value:R.rejectionFollowUp||"",onChange:Me=>Ne(He=>({...He,rejectionFollowUp:Me})),min:new Date().toISOString().split("T")[0]}),e.jsx("div",{className:"text-muted",style:{fontSize:11,marginTop:4},children:" Bu tarihte tekrar aranacak"})]})]}),e.jsxs("div",{className:"form-group",style:{marginTop:12},children:[e.jsx("label",{className:"form-label",children:"Aklama / Not *"}),e.jsx("textarea",{className:"form-textarea",placeholder:"Detayl aklama yazn...",rows:3,value:R.rejectionReason||"",onChange:Me=>Ne(He=>({...He,rejectionReason:Me.target.value}))})]}),e.jsxs("div",{style:{display:"flex",gap:12,marginTop:12},children:[e.jsx("button",{className:"btn btn-secondary",type:"button",onClick:()=>Ne(Me=>({...Me,showRejectionModal:!1})),children:"ptal"}),e.jsx("button",{className:"btn btn-danger",type:"button",disabled:i||!R.rejectionReason||!R.rejectionCategory,onClick:()=>tt(()=>Gt(t.id,{status:"ANLASILAMADI",cancelReason:R.rejectionCategory,cancelNote:R.rejectionReason,rejection:{category:R.rejectionCategory,reason:R.rejectionReason,followUpDate:R.rejectionFollowUp||null,date:new Date().toISOString(),lastOffer:t.offer}}),{transition:"ANLASILAMADI"}),children:"i Anlalamad Olarak aretle"})]}),(!R.rejectionReason||!R.rejectionCategory)&&e.jsx("div",{className:"text-muted",style:{fontSize:12,marginTop:8},children:" Kategori ve aklama zorunludur."})]})]})]})})(),t.status==="ANLASILAMADI"&&(()=>{var ge,Te,ze,Fe,Xe,We,Kt,At,Ot,Me;const T=(He=>{const mt=Be.find(zn=>zn.id===He);return mt?mt.name:{FIYAT_YUKSEK:"Fiyat Yksek Bulundu",ZAMANLAMA:"Zamanlama Uymuyor",BASKA_FIRMA:"Baka Firmaya Gitti",PROJE_IPTAL:"Projeyi ptal Etti",DUSUNUYOR:"Dnyor / Bekliyor",DIGER:"Dier",price_high:"Fiyat Yksek Bulundu",competitor:"Rakip Tercih Edildi",customer_cancel:"Mteri Vazgeti",not_suitable:"rn/Hizmet Uygun Deil",timing:"Zamanlama Uyumsuzluu",other:"Dier"}[He]||He||"Belirtilmemi"})(t.cancelReason||((ge=t.rejection)==null?void 0:ge.category)),Y=((Te=t.rejection)==null?void 0:Te.lastOffer)||t.offer,ee=(ze=t.rejection)==null?void 0:ze.followUpDate,de=ee&&new Date(t.rejection.followUpDate)<=new Date;return e.jsxs("div",{className:"card",style:{border:"2px solid var(--color-danger)"},children:[e.jsxs("div",{className:"card-header",style:{background:"var(--color-danger)",color:"white"},children:[e.jsx("h3",{className:"card-title",style:{color:"white"},children:" Anlalamad"}),e.jsx("span",{style:{fontSize:12,opacity:.9},children:(Fe=t.rejection)!=null&&Fe.date?new Date(t.rejection.date).toLocaleDateString("tr-TR"):""})]}),e.jsxs("div",{className:"card-body",style:{padding:20},children:[e.jsxs("div",{className:"grid grid-2",style:{gap:16,marginBottom:16},children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-muted",style:{fontSize:12},children:"MTER"}),e.jsx("div",{style:{fontWeight:600,fontSize:16},children:t.customerName}),r.phone&&e.jsxs("div",{style:{fontSize:13,marginTop:4},children:[" ",r.phone]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-muted",style:{fontSize:12},children:"RET SEBEB"}),e.jsxs("div",{style:{fontWeight:600},children:[" ",T]})]})]}),((Xe=t.rejection)==null?void 0:Xe.reason)&&e.jsxs("div",{style:{padding:12,background:"var(--color-danger-bg)",borderRadius:8,marginBottom:16},children:[e.jsx("div",{style:{fontWeight:600,marginBottom:4},children:"Aklama:"}),e.jsx("div",{children:t.rejection.reason})]}),ee&&e.jsx("div",{style:{padding:12,background:de?"var(--color-warning-bg)":"var(--color-bg-secondary)",borderRadius:8,marginBottom:16,border:de?"2px solid var(--color-warning)":"none"},children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsx("span",{style:{fontSize:12,color:"var(--color-text-light)"},children:" TAKP TARH"}),e.jsx("div",{style:{fontWeight:600},children:new Date(t.rejection.followUpDate).toLocaleDateString("tr-TR")})]}),de&&e.jsx("span",{className:"badge badge-warning",children:" Takip Zaman!"})]})}),e.jsxs("div",{className:"card subtle-card",style:{marginBottom:16},children:[e.jsx("div",{className:"card-header",style:{padding:"12px 16px"},children:e.jsx("h4",{className:"card-title",style:{fontSize:14},children:"  zeti"})}),e.jsxs("div",{className:"card-body",style:{padding:16},children:[e.jsxs("div",{className:"metric-row",style:{marginBottom:8},children:[e.jsx("span",{className:"metric-label",children:" l Alnd"}),e.jsx("span",{className:"metric-value",children:(Kt=(We=t.measure)==null?void 0:We.measurements)!=null&&Kt.date?new Date(t.measure.measurements.date).toLocaleDateString("tr-TR"):(Ot=(At=t.measure)==null?void 0:At.appointment)!=null&&Ot.date?new Date(t.measure.appointment.date).toLocaleDateString("tr-TR"):"-"})]}),Ge.length>0&&e.jsxs("div",{className:"metric-row",style:{marginBottom:8},children:[e.jsx("span",{className:"metric-label",children:" Ykl Dosyalar"}),e.jsxs("span",{className:"metric-value",children:[Ge.length," dosya"]})]}),e.jsxs("div",{style:{borderTop:"1px solid var(--color-border)",paddingTop:12,marginTop:12},children:[e.jsx("div",{style:{fontWeight:600,marginBottom:8},children:" Son Fiyat Teklifi:"}),(Y==null?void 0:Y.rolePrices)&&Object.entries(Y.rolePrices).map(([He,mt])=>{var ln,zn;return e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:13,marginBottom:4},children:[e.jsx("span",{children:((zn=(ln=t.roles)==null?void 0:ln.find(ft=>(ft.id||ft.name)===He))==null?void 0:zn.name)||He}),e.jsxs("span",{children:[Le(mt)," "]})]},He)}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontWeight:700,fontSize:16,marginTop:8,paddingTop:8,borderTop:"1px solid var(--color-border)"},children:[e.jsx("span",{children:"TOPLAM:"}),e.jsxs("span",{children:[Le((Y==null?void 0:Y.total)||0)," "]})]})]}),((Me=Y==null?void 0:Y.negotiationHistory)==null?void 0:Me.length)>0&&e.jsxs("div",{style:{marginTop:12},children:[e.jsx("div",{style:{fontWeight:600,marginBottom:8,fontSize:13},children:" Pazarlk Gemii:"}),Y.negotiationHistory.map((He,mt)=>e.jsxs("div",{style:{fontSize:12,color:"var(--color-text-light)",marginBottom:4},children:[new Date(He.date).toLocaleDateString("tr-TR"),": ",Le(He.originalTotal),"   ",Le(He.finalTotal)," ",e.jsxs("span",{style:{color:"var(--color-danger)"},children:[" (-",Le(He.discountTotal)," )"]})]},mt))]})]})]}),e.jsxs("div",{style:{padding:16,background:"var(--color-bg-secondary)",borderRadius:8,border:"1px dashed var(--color-border)"},children:[e.jsx("div",{style:{fontWeight:600,marginBottom:8},children:" Mteri Geri Dnd m?"}),e.jsx("div",{className:"text-muted",style:{fontSize:13,marginBottom:12},children:"Mteri tekrar ilgileniyorsa, son fiyat zerinden yeni iskonto yapabilir veya mevcut fiyatla devam edebilirsiniz."}),e.jsx("button",{className:"btn btn-primary",type:"button",disabled:i,onClick:()=>{tt(()=>Gt(t.id,{status:"FIYAT_VERILDI",offer:{...Y,reactivatedAt:new Date().toISOString(),reactivatedFrom:t.rejection}}),{transition:"FIYAT_VERILDI"})},children:" i Yeniden Aktifletir"})]})]})]})})()]})]}),un("agreement")&&e.jsxs("div",{className:"card",children:[ae&&(()=>{const u=Ju(t,"agreement");return e.jsxs("div",{style:{background:"linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%)",borderBottom:"1px solid var(--color-border)",padding:"12px 16px",color:"#475569"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,marginBottom:u.length>0?10:0},children:[e.jsx("span",{style:{fontSize:18},children:""}),e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:600,fontSize:13},children:"Ariv Grnm"}),e.jsx("div",{style:{fontSize:11,opacity:.8},children:"Bu aama tamamland. Sadece grntleme modundasnz."})]})]}),u.length>0&&e.jsxs("div",{style:{marginTop:8,paddingTop:8,borderTop:"1px solid rgba(0,0,0,0.1)"},children:[e.jsx("div",{style:{fontSize:11,fontWeight:600,marginBottom:6,color:"#64748b"},children:" Geilen Alt Aamalar:"}),e.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:6},children:u.map((T,Y)=>e.jsxs("span",{className:"badge badge-secondary",style:{fontSize:10},children:[T.toLabel,"  ",new Date(T.at).toLocaleDateString("tr-TR")]},Y))})]})]})})(),e.jsxs("div",{className:"card-header",children:[e.jsx("h3",{className:"card-title",children:" Anlama"}),ta(t.status)]}),e.jsxs("div",{className:"card-body grid grid-1",style:{gap:16},children:[e.jsx("div",{className:"card",style:{background:"var(--color-success-bg)",border:"1px solid var(--color-success)"},children:e.jsx("div",{className:"card-body",style:{padding:16},children:e.jsxs("div",{className:"grid grid-3",style:{gap:16},children:[e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("div",{className:"text-muted",style:{fontSize:12},children:"MTER"}),e.jsx("div",{style:{fontWeight:600},children:t.customerName})]}),e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("div",{className:"text-muted",style:{fontSize:12},children:"ANLAILAN FYAT"}),e.jsxs("div",{style:{fontSize:24,fontWeight:700,color:"var(--color-success)"},children:[Le(((Lf=t.offer)==null?void 0:Lf.total)||0)," "]})]}),e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("div",{className:"text-muted",style:{fontSize:12},children:"ONAY TARH"}),e.jsx("div",{style:{fontWeight:600},children:(Bf=t.approval)!=null&&Bf.approvedAt?new Date(t.approval.approvedAt).toLocaleDateString("tr-TR"):new Date().toLocaleDateString("tr-TR")})]})]})})}),e.jsxs("div",{className:"card subtle-card",children:[e.jsx("div",{className:"card-header",style:{padding:"12px 16px"},children:e.jsx("h4",{className:"card-title",style:{fontSize:14},children:" Fiyat Gemii"})}),e.jsxs("div",{className:"card-body",style:{padding:(($f=(Of=t.offer)==null?void 0:Of.negotiationHistory)==null?void 0:$f.length)>0?0:16},children:[((Ff=(_f=t.offer)==null?void 0:_f.negotiationHistory)==null?void 0:Ff.length)>0?e.jsxs("table",{className:"table",style:{margin:0},children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Tarih"}),e.jsx("th",{children:"lk Fiyat"}),e.jsx("th",{children:"skonto"}),e.jsx("th",{children:"Son Fiyat"})]})}),e.jsx("tbody",{children:t.offer.negotiationHistory.map((u,T)=>e.jsxs("tr",{children:[e.jsx("td",{children:new Date(u.date).toLocaleDateString("tr-TR")}),e.jsxs("td",{children:[Le(u.originalTotal)," "]}),e.jsxs("td",{style:{color:"var(--color-danger)"},children:["-",Le(u.discountTotal)," "]}),e.jsxs("td",{style:{fontWeight:600},children:[Le(u.finalTotal)," "]})]},T))})]}):e.jsx("div",{style:{color:"var(--color-text-light)",fontSize:13,textAlign:"center"},children:"Dorudan anlald, pazarlk yaplmad."}),t.rejection&&e.jsxs("div",{style:{marginTop:((Uf=(Wf=t.offer)==null?void 0:Wf.negotiationHistory)==null?void 0:Uf.length)>0?12:0,padding:((Hf=(Kf=t.offer)==null?void 0:Kf.negotiationHistory)==null?void 0:Hf.length)>0?"12px 16px":0,borderTop:((qf=(Vf=t.offer)==null?void 0:Vf.negotiationHistory)==null?void 0:qf.length)>0?"1px solid var(--color-border)":"none"},children:[e.jsx("div",{style:{fontWeight:600,color:"var(--color-danger)",marginBottom:8,fontSize:13},children:" Red Gemii"}),e.jsxs("div",{style:{fontSize:12,color:"var(--color-text-light)"},children:[e.jsx("strong",{children:"Tarih:"})," ",t.rejection.rejectedAt?new Date(t.rejection.rejectedAt).toLocaleDateString("tr-TR"):"-",t.rejection.reason&&e.jsxs("span",{children:[" | ",e.jsx("strong",{children:"Sebep:"})," ",t.rejection.reason]}),t.rejection.previousTotal&&e.jsxs("span",{children:[" | ",e.jsx("strong",{children:"Red Edilen Fiyat:"})," ",Le(t.rejection.previousTotal)," "]})]})]})]})]}),ae&&((Yf=t.approval)==null?void 0:Yf.paymentPlan)&&e.jsxs("div",{className:"card subtle-card",style:{padding:16,background:"#f8fafc"},children:[e.jsx("h4",{style:{margin:"0 0 16px 0",fontSize:14},children:" deme Plan zeti"}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:12},children:[(((Gf=t.approval.paymentPlan.cash)==null?void 0:Gf.amount)>0||t.approval.paymentPlan.cash>0)&&e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"10px 12px",background:"white",borderRadius:6,border:"1px solid var(--color-border)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[e.jsx("span",{children:""}),e.jsx("span",{style:{fontWeight:500},children:"Nakit"}),((Jf=t.approval.paymentPlan.cash)==null?void 0:Jf.date)&&e.jsx("span",{className:"badge badge-secondary",style:{fontSize:10},children:new Date(t.approval.paymentPlan.cash.date).toLocaleDateString("tr-TR")})]}),e.jsxs("span",{style:{fontWeight:600},children:[Le(((Qf=t.approval.paymentPlan.cash)==null?void 0:Qf.amount)||t.approval.paymentPlan.cash||0)," "]})]}),(((Xf=t.approval.paymentPlan.card)==null?void 0:Xf.amount)>0||t.approval.paymentPlan.card>0)&&e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"10px 12px",background:"white",borderRadius:6,border:"1px solid var(--color-border)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[e.jsx("span",{children:""}),e.jsx("span",{style:{fontWeight:500},children:"Kredi Kart"}),((Zf=t.approval.paymentPlan.card)==null?void 0:Zf.date)&&e.jsx("span",{className:"badge badge-secondary",style:{fontSize:10},children:new Date(t.approval.paymentPlan.card.date).toLocaleDateString("tr-TR")})]}),e.jsxs("span",{style:{fontWeight:600},children:[Le(((eg=t.approval.paymentPlan.card)==null?void 0:eg.amount)||t.approval.paymentPlan.card||0)," "]})]}),(((tg=t.approval.paymentPlan.cheque)==null?void 0:tg.total)>0||t.approval.paymentPlan.cheque>0)&&e.jsxs("div",{style:{padding:"10px 12px",background:"white",borderRadius:6,border:"1px solid var(--color-border)"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:((sg=(ng=t.approval.paymentPlan.cheque)==null?void 0:ng.items)==null?void 0:sg.length)>0?8:0},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[e.jsx("span",{children:""}),e.jsx("span",{style:{fontWeight:500},children:"ek"}),((rg=t.approval.paymentPlan.cheque)==null?void 0:rg.count)>0&&e.jsxs("span",{className:"badge badge-secondary",style:{fontSize:10},children:[t.approval.paymentPlan.cheque.count," adet"]}),((ag=t.approval.paymentPlan.cheque)==null?void 0:ag.received)&&e.jsx("span",{className:"badge badge-success",style:{fontSize:10},children:"Teslim alnd"})]}),e.jsxs("span",{style:{fontWeight:600},children:[Le(((lg=t.approval.paymentPlan.cheque)==null?void 0:lg.total)||t.approval.paymentPlan.cheque||0)," "]})]}),((og=(ig=t.approval.paymentPlan.cheque)==null?void 0:ig.items)==null?void 0:og.length)>0&&e.jsx("div",{style:{fontSize:12,borderTop:"1px solid var(--color-border)",paddingTop:8},children:t.approval.paymentPlan.cheque.items.map((u,T)=>e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"4px 0",borderBottom:T<t.approval.paymentPlan.cheque.items.length-1?"1px dashed var(--color-border)":"none"},children:[e.jsxs("span",{className:"text-muted",children:[u.bank," - ",u.chequeNo||u.number]}),e.jsxs("span",{children:[Le(u.amount),"  ",e.jsxs("span",{className:"text-muted",children:["(",Yu(u.due),")"]})]})]},T))})]}),(((cg=t.approval.paymentPlan.afterDelivery)==null?void 0:cg.amount)>0||t.approval.paymentPlan.afterDelivery>0)&&e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"10px 12px",background:"var(--color-warning-bg)",borderRadius:6,border:"1px solid var(--color-warning)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[e.jsx("span",{children:""}),e.jsx("span",{style:{fontWeight:500},children:"Teslim Sonras"}),((dg=t.approval.paymentPlan.afterDelivery)==null?void 0:dg.note)&&e.jsxs("span",{className:"text-muted",style:{fontSize:11},children:["(",t.approval.paymentPlan.afterDelivery.note,")"]})]}),e.jsxs("span",{style:{fontWeight:600},children:[Le(((ug=t.approval.paymentPlan.afterDelivery)==null?void 0:ug.amount)||t.approval.paymentPlan.afterDelivery||0)," "]})]})]}),e.jsxs("div",{style:{marginTop:12,padding:12,background:"var(--color-primary-bg)",borderRadius:6,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("span",{style:{fontWeight:600},children:"TOPLAM"}),e.jsxs("span",{style:{fontWeight:700,fontSize:18,color:"var(--color-primary)"},children:[Le(t.approval.paymentPlan.total||((mg=t.offer)==null?void 0:mg.total)||0)," "]})]})]}),!ae&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"card subtle-card",style:{padding:16},children:[e.jsx("h4",{style:{margin:"0 0 16px 0",fontSize:14,color:"var(--text-secondary)"},children:" deme Plan"}),e.jsxs("div",{style:{marginBottom:16,padding:12,background:"var(--color-bg-secondary)",borderRadius:8},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:8},children:[e.jsx("span",{style:{fontSize:16},children:""}),e.jsx("span",{style:{fontWeight:600},children:"Nakit"})]}),e.jsxs("div",{className:"grid grid-2",style:{gap:12},children:[e.jsxs("div",{className:"form-group",style:{margin:0},children:[e.jsx("label",{className:"form-label",style:{fontSize:11},children:"Tutar"}),e.jsx(gn,{placeholder:"0",value:R.payCash,onChange:u=>Ne(T=>({...T,payCash:u}))})]}),e.jsxs("div",{className:"form-group",style:{margin:0},children:[e.jsxs("label",{className:"form-label",style:{fontSize:11},children:["deme Tarihi ",e.jsx("span",{className:"text-muted",children:"(bo = bugn)"})]}),e.jsx(gt,{value:R.payCashDate||"",onChange:u=>Ne(T=>({...T,payCashDate:u}))})]})]})]}),e.jsxs("div",{style:{marginBottom:16,padding:12,background:"var(--color-bg-secondary)",borderRadius:8},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:8},children:[e.jsx("span",{style:{fontSize:16},children:""}),e.jsx("span",{style:{fontWeight:600},children:"Kredi Kart"})]}),e.jsxs("div",{className:"grid grid-2",style:{gap:12},children:[e.jsxs("div",{className:"form-group",style:{margin:0},children:[e.jsx("label",{className:"form-label",style:{fontSize:11},children:"Tutar"}),e.jsx(gn,{placeholder:"0",value:R.payCard,onChange:u=>Ne(T=>({...T,payCard:u}))})]}),e.jsxs("div",{className:"form-group",style:{margin:0},children:[e.jsxs("label",{className:"form-label",style:{fontSize:11},children:["ekim Tarihi ",e.jsx("span",{className:"text-muted",children:"(bo = bugn)"})]}),e.jsx(gt,{value:R.payCardDate||"",onChange:u=>Ne(T=>({...T,payCardDate:u}))})]})]})]}),e.jsxs("div",{style:{marginBottom:16,padding:12,background:"var(--color-warning-bg)",borderRadius:8,border:"1px solid var(--color-warning)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:8},children:[e.jsx("span",{style:{fontSize:16},children:""}),e.jsx("span",{style:{fontWeight:600},children:"Teslim Sonras"}),e.jsx("span",{className:"badge badge-warning",style:{fontSize:10},children:"Montaj bitince hatrlatlacak"})]}),e.jsxs("div",{className:"grid grid-2",style:{gap:12},children:[e.jsxs("div",{className:"form-group",style:{margin:0},children:[e.jsx("label",{className:"form-label",style:{fontSize:11},children:"Tutar"}),e.jsx(gn,{placeholder:"0",value:R.payAfter,onChange:u=>Ne(T=>({...T,payAfter:u}))})]}),e.jsxs("div",{className:"form-group",style:{margin:0},children:[e.jsx("label",{className:"form-label",style:{fontSize:11},children:"Not"}),e.jsx("input",{className:"form-input",placeholder:"Opsiyonel not...",value:R.payAfterNote||"",onChange:u=>Ne(T=>({...T,payAfterNote:u.target.value}))})]})]})]}),e.jsxs("div",{style:{padding:12,background:"var(--color-bg-secondary)",borderRadius:8},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:8},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[e.jsx("span",{style:{fontSize:16},children:""}),e.jsx("span",{style:{fontWeight:600},children:"ek"})]}),e.jsxs("div",{style:{fontWeight:700,color:"var(--color-primary)"},children:["Toplam: ",Le(zl)," "]})]}),e.jsxs("div",{style:{marginBottom:12,padding:10,background:"white",borderRadius:6,display:"flex",alignItems:"center",gap:12},children:[e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,cursor:"pointer"},children:[e.jsx("input",{type:"checkbox",checked:R.chequesReceived||!1,onChange:u=>Ne(T=>({...T,chequesReceived:u.target.checked})),style:{width:18,height:18}}),e.jsx("span",{style:{fontWeight:500},children:"ekler teslim alnd"})]}),!R.chequesReceived&&e.jsx("span",{className:"text-muted",style:{fontSize:11},children:"(Alnmadysa sadece adet ve toplam tutar girin)"})]}),!R.chequesReceived&&e.jsxs("div",{className:"grid grid-2",style:{gap:12},children:[e.jsxs("div",{className:"form-group",style:{margin:0},children:[e.jsx("label",{className:"form-label",style:{fontSize:11},children:"ek Adedi"}),e.jsx("input",{className:"form-input",type:"number",min:"0",placeholder:"0",value:R.chequeCount||"",onChange:u=>Ne(T=>({...T,chequeCount:u.target.value}))})]}),e.jsxs("div",{className:"form-group",style:{margin:0},children:[e.jsx("label",{className:"form-label",style:{fontSize:11},children:"Toplam Tutar"}),e.jsx(gn,{placeholder:"0",value:R.chequeTotalAmount||"",onChange:u=>Ne(T=>({...T,chequeTotalAmount:u}))})]})]})]})]}),R.chequesReceived&&e.jsxs("div",{className:"card subtle-card",style:{padding:16},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[e.jsx("h4",{style:{margin:0,fontSize:14,color:"var(--text-secondary)"},children:" ek Detaylar"}),e.jsxs("span",{className:"text-muted",style:{fontSize:12},children:[((pg=R.chequeLines)==null?void 0:pg.length)||0," ek  Ort. vade: ",Yd," gn"]})]}),e.jsx("div",{style:{padding:12,background:"var(--color-bg-secondary)",borderRadius:8,marginBottom:12},children:e.jsxs("div",{className:"grid grid-3",style:{gap:12},children:[e.jsxs("div",{className:"form-group",style:{margin:0},children:[e.jsx("label",{className:"form-label",style:{fontSize:11},children:"Tutar *"}),e.jsx(gn,{placeholder:"0",value:R.chequeDraftAmount||"",onChange:u=>Ne(T=>({...T,chequeDraftAmount:u}))})]}),e.jsxs("div",{className:"form-group",style:{margin:0},children:[e.jsx("label",{className:"form-label",style:{fontSize:11},children:"Vade Tarihi *"}),e.jsx(gt,{value:R.chequeDraftDue||"",onChange:u=>Ne(T=>({...T,chequeDraftDue:u}))})]}),e.jsxs("div",{className:"form-group",style:{margin:0},children:[e.jsx("label",{className:"form-label",style:{fontSize:11},children:"Banka *"}),e.jsx("input",{className:"form-input",placeholder:"Banka ad",value:R.chequeDraftBank||"",onChange:u=>Ne(T=>({...T,chequeDraftBank:u.target.value}))})]}),e.jsxs("div",{className:"form-group",style:{margin:0},children:[e.jsx("label",{className:"form-label",style:{fontSize:11},children:"ube"}),e.jsx("input",{className:"form-input",placeholder:"ube ad (opsiyonel)",value:R.chequeDraftBranch||"",onChange:u=>Ne(T=>({...T,chequeDraftBranch:u.target.value}))})]}),e.jsxs("div",{className:"form-group",style:{margin:0},children:[e.jsx("label",{className:"form-label",style:{fontSize:11},children:"ek No *"}),e.jsx("input",{className:"form-input",placeholder:"ek numaras",value:R.chequeDraftNumber||"",onChange:u=>Ne(T=>({...T,chequeDraftNumber:u.target.value}))})]}),e.jsx("div",{className:"form-group",style:{margin:0,display:"flex",alignItems:"flex-end"},children:e.jsx("button",{type:"button",className:"btn btn-primary",style:{width:"100%"},disabled:!R.chequeDraftAmount||!R.chequeDraftDue||!R.chequeDraftBank||!R.chequeDraftNumber,onClick:()=>{const u=Number(R.chequeDraftAmount||0);u&&Ne(T=>({...T,chequeLines:[...T.chequeLines,{amount:u,due:T.chequeDraftDue||"",bank:T.chequeDraftBank||"",branch:T.chequeDraftBranch||"",chequeNo:T.chequeDraftNumber||"",id:Date.now()}],chequeDraftAmount:"",chequeDraftDue:"",chequeDraftBank:"",chequeDraftBranch:"",chequeDraftNumber:""}))},children:"+ ek Ekle"})})]})}),(((hg=R.chequeLines)==null?void 0:hg.length)||0)>0&&e.jsxs("div",{style:{marginTop:12},children:[e.jsx("div",{className:"text-muted",style:{fontSize:11,marginBottom:8},children:"EKLENM EKLER"}),e.jsx("div",{className:"table-container",style:{maxHeight:200,overflow:"auto"},children:e.jsxs("table",{className:"table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Tutar"}),e.jsx("th",{children:"Vade"}),e.jsx("th",{children:"Banka"}),e.jsx("th",{children:"ube"}),e.jsx("th",{children:"ek No"}),e.jsx("th",{})]})}),e.jsx("tbody",{children:(R.chequeLines||[]).map((u,T)=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsxs("strong",{children:[Le(u.amount)," "]})}),e.jsx("td",{children:Yu(u.due)}),e.jsx("td",{children:u.bank||"-"}),e.jsx("td",{children:u.branch||"-"}),e.jsx("td",{children:u.chequeNo||u.number||"-"}),e.jsx("td",{children:e.jsx("button",{type:"button",className:"btn btn-danger btn-small btn-icon",onClick:()=>Ne(Y=>({...Y,chequeLines:Y.chequeLines.filter((ee,de)=>de!==T)})),title:"eki Kaldr",children:""})})]},u.id||`${u.chequeNo}-${T}`))})]})})]})]}),e.jsxs("div",{className:"card subtle-card",style:{padding:16},children:[e.jsx("h4",{style:{margin:"0 0 12px 0",fontSize:14,color:"var(--text-secondary)"},children:" zet"}),e.jsxs("div",{className:"grid grid-2",style:{gap:12},children:[e.jsxs("div",{className:"metric-row",style:{background:"var(--bg-tertiary)",padding:"12px",borderRadius:8},children:[e.jsx("div",{children:e.jsx("div",{className:"metric-label",children:"Teklif Toplam"})}),e.jsxs("strong",{style:{fontSize:18},children:[Le(Mt)," "]})]}),e.jsxs("div",{className:"metric-row",style:{background:Ca?"var(--color-success-bg)":"var(--color-danger-bg)",padding:"12px",borderRadius:8},children:[e.jsx("div",{children:e.jsx("div",{className:"metric-label",children:"deme Toplam"})}),e.jsxs("strong",{style:{fontSize:18,color:Ca?"var(--color-success)":"var(--color-danger)"},children:[Le(ka)," "]})]})]}),!Ca&&e.jsxs("div",{className:"error-text",style:{marginTop:8,padding:8,background:"var(--color-danger-bg)",borderRadius:4},children:[" Toplam deme, teklif tutaryla elemiyor. Fark: ",Le(Math.abs(Mt-ka))," "]}),Yd>90&&e.jsxs("div",{style:{marginTop:8,padding:8,background:"#fef3cd",borderRadius:4,color:"#856404"},children:[" Ortalama vade ",Yd," gn. Uzun vade iin ek onay gerekebilir."]})]}),!ae&&e.jsxs("div",{className:"card",style:{padding:16,background:"var(--color-primary-bg)",border:"1px solid var(--color-primary)"},children:[e.jsxs("h4",{style:{margin:"0 0 12px 0",fontSize:14,display:"flex",alignItems:"center",gap:8},children:[" Tahmini Montaj Tarihi",e.jsx("span",{className:"badge badge-primary",style:{fontSize:10,fontWeight:400},children:"Mteriye sylenen"})]}),e.jsxs("div",{className:"grid grid-2",style:{gap:12},children:[e.jsxs("div",{className:"form-group",style:{margin:0},children:[e.jsx("label",{className:"form-label",style:{fontSize:11},children:"Montaj Termini *"}),e.jsx(gt,{value:R.estimatedAssemblyDate||"",onChange:u=>Ne(T=>({...T,estimatedAssemblyDate:u}))})]}),e.jsxs("div",{className:"form-group",style:{margin:0},children:[e.jsx("label",{className:"form-label",style:{fontSize:11},children:"Not (opsiyonel)"}),e.jsx("input",{className:"form-input",placeholder:"rn: 2. kat hazr olunca...",value:R.estimatedAssemblyNote||"",onChange:u=>Ne(T=>({...T,estimatedAssemblyNote:u.target.value}))})]})]}),e.jsx("div",{className:"text-muted",style:{fontSize:12,marginTop:8},children:"Bu tarih tm aamalarda grnr ve montaj planlamasnda referans olarak kullanlr."})]}),e.jsxs("div",{className:"card subtle-card",style:{padding:16},children:[e.jsx("h4",{style:{margin:"0 0 12px 0",fontSize:14,color:"var(--text-secondary)"},children:" Szleme Dosyas"}),e.jsxs("div",{className:"file-upload-zone",children:[e.jsx("input",{type:"file",id:"contract-file",accept:".pdf,.jpg,.jpeg,.png",style:{display:"none"},onChange:async u=>{var Y;const T=(Y=u.target.files)==null?void 0:Y[0];T&&(await an(T,"sozlesme","mzal Szleme"),u.target.value="")}}),e.jsx("label",{htmlFor:"contract-file",className:"btn btn-secondary",style:{cursor:"pointer"},children:" Szleme Ykle"}),Ge.filter(u=>u.type==="sozlesme").length>0&&e.jsxs("span",{className:"badge badge-success",style:{marginLeft:8},children:[" ",Ge.filter(u=>u.type==="sozlesme").length," dosya yklendi"]})]}),Ge.filter(u=>u.type==="sozlesme").map(u=>e.jsxs("div",{className:"metric-row",style:{marginTop:8,fontSize:13},children:[e.jsxs("a",{href:ls(u.id),target:"_blank",rel:"noopener noreferrer",className:"text-primary",children:[" ",u.originalName]}),e.jsx("button",{type:"button",className:"btn btn-danger btn-small btn-icon",onClick:()=>Es(u.id),title:"Belgeyi Sil",children:""})]},u.id)),e.jsx("div",{className:"text-muted",style:{fontSize:12,marginTop:8},children:"Mteriye imzalatlan szlemeyi ykleyin"})]}),e.jsx("div",{className:"btn-group",style:{gap:12,marginTop:8},children:e.jsx("button",{className:"btn btn-success",type:"button",disabled:i||!Ca,onClick:()=>tt(async()=>{var Y,ee;if(!Ca)throw new Error("deme toplam teklif tutaryla elemiyor.");if(R.chequesReceived&&(R.chequeLines||[]).reduce((ge,Te)=>ge+Number(Te.amount||0),0)!==zl)throw new Error("ek paralar toplam hatal.");const u={paymentPlan:{cash:{amount:Number(R.payCash||0),date:R.payCashDate||new Date().toISOString().split("T")[0],status:"pending"},card:{amount:Number(R.payCard||0),date:R.payCardDate||new Date().toISOString().split("T")[0],status:"pending"},cheque:{total:zl,received:R.chequesReceived||!1,count:R.chequesReceived?((Y=R.chequeLines)==null?void 0:Y.length)||0:Number(R.chequeCount||0),items:R.chequesReceived?R.chequeLines||[]:[],status:"pending"},afterDelivery:{amount:Number(R.payAfter||0),note:R.payAfterNote||"",status:"pending"},total:ka},contractUrl:((ee=Ge.find(de=>de.type==="sozlesme"))==null?void 0:ee.id)||null,stockNeeds:[],estimatedAssembly:R.estimatedAssemblyDate?{date:R.estimatedAssemblyDate,note:R.estimatedAssemblyNote||"",setAt:new Date().toISOString()}:null},T=await d6(t.id,u);return Fl(t.id,{approval:{paymentPlan:u.paymentPlan},offer:{...t.offer,total:Mt},estimatedAssembly:u.estimatedAssembly}),T}),children:" Anlamay Tamamla - Stok Kontrolne Ge"})}),!Ca&&e.jsxs("div",{className:"text-muted",style:{fontSize:12,color:"var(--color-danger)"},children:[" deme toplam teklif tutaryla elemiyor. Fark: ",Le(Math.abs(Mt-ka))," "]})]})]})]}),un("stock")&&e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header",style:{alignItems:"center"},children:[e.jsx("h3",{className:"card-title",children:"Stok / Rezervasyon"}),t.status==="SONRA_URETILECEK"?e.jsx("div",{className:"badge badge-info",children:" Sonra retilecek"}):ae?e.jsx("div",{className:"badge badge-success",children:(fg=t.stock)!=null&&fg.ready?" retime Alnd":" Rezerve Edildi"}):e.jsxs("div",{className:"badge badge-secondary",children:["Mevcut: ",to.total,"  Kritik: ",to.critical]})]}),e.jsx("div",{className:"card-body",style:{display:"grid",gap:12},children:t.status==="SONRA_URETILECEK"?e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{background:"linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%)",padding:16,borderRadius:12,border:"1px solid #3b82f6",marginBottom:8},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[e.jsx("span",{style:{fontSize:28},children:""}),e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:700,color:"#1e40af",marginBottom:4},children:"Bu i sonra retilmek zere bekletiliyor"}),e.jsx("div",{style:{fontSize:13,color:"#1e40af"},children:'Stok rezerve edilmi durumda. Hazr olduunda "retime Al" butonuna tklayn.'}),((gg=t.stock)==null?void 0:gg.estimatedDate)&&e.jsxs("div",{style:{fontSize:12,color:"#3b82f6",marginTop:4},children:[" Tahmini Tarih: ",e.jsx("strong",{children:new Date(t.stock.estimatedDate).toLocaleDateString("tr-TR")})]})]})]})}),((yg=t.stock)==null?void 0:yg.purchaseNotes)&&e.jsxs("div",{className:"text-muted",style:{fontStyle:"italic",marginBottom:8},children:[" ",t.stock.purchaseNotes]}),e.jsxs("div",{className:"card subtle-card",children:[e.jsxs("div",{className:"card-header",style:{padding:"12px 16px"},children:[e.jsx("h4",{className:"card-title",style:{fontSize:14},children:"Rezerve Edilen rnler"}),e.jsxs("span",{className:"badge badge-info",children:[((vg=(xg=t.stock)==null?void 0:xg.items)==null?void 0:vg.length)||0," kalem"]})]}),(((bg=(jg=t.stock)==null?void 0:jg.items)==null?void 0:bg.length)||0)===0?e.jsx("div",{className:"text-muted",style:{padding:16},children:"Bu i iin stok bilgisi kaydedilmemi."}):e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"table",style:{fontSize:13},children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"rn"}),e.jsx("th",{children:"rn Kodu"}),e.jsx("th",{children:"Renk"}),e.jsx("th",{children:"Rezerve"}),e.jsx("th",{children:"Gncel Stok"}),e.jsx("th",{children:"Durum"})]})}),e.jsx("tbody",{children:t.stock.items.map((u,T)=>{const Y=h.find(ze=>ze.id===u.id),ee=(Y==null?void 0:Y.available)||0,de=(Y==null?void 0:Y.onHand)||0,ge=de>=u.qty,Te=ee<u.qty&&de>=u.qty;return e.jsxs("tr",{style:{background:ge?Te?"rgba(251, 191, 36, 0.1)":"transparent":"rgba(239, 68, 68, 0.1)"},children:[e.jsx("td",{style:{fontWeight:600},children:u.name}),e.jsx("td",{children:e.jsx("code",{style:{fontSize:11},children:u.productCode||"-"})}),e.jsx("td",{children:e.jsx("span",{className:"badge badge-secondary",style:{fontSize:10},children:u.colorCode||"-"})}),e.jsxs("td",{children:[e.jsx("strong",{children:u.qty})," ",u.unit||"adet"]}),e.jsx("td",{children:e.jsxs("span",{style:{color:ge?"var(--color-success)":"var(--color-danger)"},children:[ee,"/",de]})}),e.jsx("td",{children:ge?Te?e.jsx("span",{style:{color:"var(--color-warning)",fontSize:12},children:" Rezerve stoktan kullanlacak"}):e.jsx("span",{style:{color:"var(--color-success)",fontSize:12},children:" Hazr"}):e.jsxs("span",{style:{color:"var(--color-danger)",fontSize:12},children:[" Stok yetersiz (",u.qty-de," eksik)"]})})]},T)})})]})})]}),(()=>{var de;const u=(((de=t.stock)==null?void 0:de.items)||[]).map(ge=>{const Te=h.find(Xe=>Xe.id===ge.id),ze=(Te==null?void 0:Te.onHand)||0,Fe=(Te==null?void 0:Te.available)||0;return{...ge,currentOnHand:ze,currentAvailable:Fe,hasEnough:ze>=ge.qty,usesReserved:Fe<ge.qty&&ze>=ge.qty,shortage:Math.max(0,ge.qty-ze)}}),T=u.filter(ge=>!ge.hasEnough),Y=u.filter(ge=>ge.usesReserved),ee=T.length===0;return e.jsxs(e.Fragment,{children:[T.length>0&&e.jsxs("div",{style:{background:"rgba(239, 68, 68, 0.1)",border:"1px solid var(--color-danger)",borderRadius:8,padding:12},children:[e.jsx("div",{style:{fontWeight:600,color:"var(--color-danger)",marginBottom:8},children:" Stok Yetersiz - retime Alnamaz"}),e.jsx("div",{style:{fontSize:12,color:"var(--color-text-secondary)"},children:"Bu i iin planlanan stok, baka ilerde kullanlm veya eksik kalm:"}),e.jsx("ul",{style:{margin:"8px 0 0 0",paddingLeft:20,fontSize:12},children:T.map((ge,Te)=>e.jsxs("li",{children:[e.jsx("strong",{children:ge.name}),": ",ge.qty," gerekli, ",ge.currentOnHand," mevcut (",ge.shortage," eksik)"]},Te))})]}),Y.length>0&&T.length===0&&e.jsxs("div",{style:{background:"rgba(251, 191, 36, 0.1)",border:"1px solid var(--color-warning)",borderRadius:8,padding:12},children:[e.jsx("div",{style:{fontWeight:600,color:"var(--color-warning)",marginBottom:4},children:" Dikkat: Baka ilere ait rezerve stok kullanlacak"}),e.jsx("div",{style:{fontSize:12},children:"Bu ilem devam ederse, aadaki rnler iin baka ilerin stou etkilenecektir."})]}),e.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:8},children:e.jsx("button",{className:"btn btn-success",type:"button",style:{padding:"12px 24px"},disabled:i||!ee,onClick:()=>tt(async()=>{var Xe,We,Kt,At;if(Y.length>0&&!window.confirm(`Baz rnler iin baka ilere ait rezerve stok kullanlacak.
Bu, dier ilerin stok ihtiyacn etkileyecektir.

Devam etmek istiyor musunuz?`))return;const ge={jobId:t.id,items:(((Xe=t.stock)==null?void 0:Xe.items)||[]).map(Ot=>({itemId:Ot.id,qty:Ot.qty})),reserveType:"consume",note:"retime alnd - Stoktan dld"},Te=await Au(ge),ze={ready:!0,purchaseNotes:((We=t.stock)==null?void 0:We.purchaseNotes)||"retime alnd",items:((Kt=t.stock)==null?void 0:Kt.items)||[]},Fe=await ko(t.id,ze);return await Je("stock_consumed","retime alnd - Stoktan dld",{consumed:(At=t.stock)==null?void 0:At.items}),Te.results&&k(Ot=>Ot.map(Me=>{const He=Te.results.find(mt=>mt.itemId===Me.id);return He?{...Me,onHand:He.newOnHand,reserved:He.newReserved,available:He.available}:Me})),Fe}),children:i?" leniyor...":" retime Al"})})]})})()]}):ae?e.jsxs(e.Fragment,{children:[((Sg=t.stock)==null?void 0:Sg.purchaseNotes)&&e.jsxs("div",{className:"text-muted",style:{fontStyle:"italic",marginBottom:8},children:[" ",t.stock.purchaseNotes]}),e.jsxs("div",{className:"card subtle-card",children:[e.jsxs("div",{className:"card-header",style:{padding:"12px 16px"},children:[e.jsx("h4",{className:"card-title",style:{fontSize:14},children:"Kullanlan Stok Kalemleri"}),e.jsxs("span",{className:"badge badge-secondary",children:[((kg=(Ng=t.stock)==null?void 0:Ng.items)==null?void 0:kg.length)||0," kalem"]})]}),(((wg=(Cg=t.stock)==null?void 0:Cg.items)==null?void 0:wg.length)||0)===0?e.jsx("div",{className:"text-muted",style:{padding:16},children:"Bu i iin stok bilgisi kaydedilmemi."}):e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"rn"}),e.jsx("th",{children:"rn Kodu"}),e.jsx("th",{children:"Renk Kodu"}),e.jsx("th",{children:"Miktar"}),e.jsx("th",{children:"Birim"})]})}),e.jsx("tbody",{children:t.stock.items.map((u,T)=>e.jsxs("tr",{children:[e.jsx("td",{style:{fontWeight:600},children:u.name}),e.jsx("td",{children:e.jsx("code",{children:u.productCode||"-"})}),e.jsx("td",{children:u.colorCode||"-"}),e.jsx("td",{children:e.jsx("strong",{children:u.qty})}),e.jsx("td",{children:u.unit||"adet"})]},T))})]})})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:12},children:[e.jsx("div",{className:"text-muted",children:" iin birden fazla kalem rezerve edebilirsiniz."}),e.jsx("button",{className:"btn btn-primary",type:"button",onClick:()=>$(!0),children:" Stoktan Kalem Ekle"})]}),e.jsxs("div",{className:"card subtle-card",children:[e.jsxs("div",{className:"card-header",style:{padding:"12px 16px"},children:[e.jsx("h4",{className:"card-title",style:{fontSize:14},children:"Seili Kalemler"}),e.jsxs("span",{className:"badge badge-secondary",children:[B.length," kalem"]})]}),B.length===0?e.jsx("div",{className:"text-muted",style:{padding:16},children:'Henz ekleme yapmadnz. "Stoktan Ekle" butonuna tklayn.'}):e.jsx("div",{className:"table-container",style:{maxHeight:200,overflow:"auto"},children:e.jsxs("table",{className:"table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Kalem"}),e.jsx("th",{children:"Kod"}),e.jsx("th",{children:"Renk"}),e.jsx("th",{children:"Mevcut"}),e.jsx("th",{children:"Miktar"}),e.jsx("th",{})]})}),e.jsx("tbody",{children:B.map(u=>e.jsxs("tr",{children:[e.jsx("td",{style:{fontWeight:600},children:u.name}),e.jsx("td",{className:"text-muted",children:u.productCode||u.sku}),e.jsx("td",{children:e.jsx("span",{className:"badge badge-secondary",children:u.colorCode||u.color||"-"})}),e.jsxs("td",{children:[u.available," ",u.unit]}),e.jsx("td",{style:{minWidth:100},children:e.jsx("input",{type:"number",className:"form-input",min:"1",value:u.qty,onChange:T=>{const Y=Number(T.target.value)||1;q(ee=>ee.map(de=>de.id===u.id?{...de,qty:Y}:de))},style:{width:80}})}),e.jsx("td",{children:e.jsx("button",{className:"btn btn-danger btn-small btn-icon",type:"button",onClick:()=>hf(u.id),title:"Satr Kaldr",children:""})})]},u.id))})]})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Rezervasyon Notu"}),e.jsx("textarea",{className:"form-textarea",placeholder:"Satnalma / rezervasyon notu",value:R.stockNote,onChange:u=>Ne(T=>({...T,stockNote:u.target.value})),rows:3})]}),!gr.required&&e.jsxs("div",{className:"card",style:{border:"2px solid var(--color-info)",background:"rgba(59, 130, 246, 0.05)",padding:16,marginBottom:12},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:8},children:[e.jsx("span",{style:{fontSize:20},children:""}),e.jsx("strong",{style:{color:"var(--color-info)"},children:"D retim i"})]}),e.jsxs("div",{className:"text-muted",style:{fontSize:13},children:[gr.reason,". Stok eklemeden dorudan retime geebilirsiniz."]})]}),B.some(u=>u.qty>u.available)&&e.jsxs("div",{className:"card",style:{border:"2px solid var(--color-danger)",background:"var(--color-danger-bg)",padding:16},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:8},children:[e.jsx("span",{style:{fontSize:20},children:""}),e.jsx("strong",{style:{color:"var(--color-danger)"},children:"Yetersiz Stok"})]}),e.jsx("div",{className:"text-muted",style:{marginBottom:8},children:"Aadaki kalemler iin stok yetersiz. Sipari oluturmanz gerekiyor:"}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:4},children:B.filter(u=>u.qty>u.available).map(u=>e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"6px 8px",background:"white",borderRadius:4,fontSize:13},children:[e.jsxs("span",{children:[e.jsx("strong",{children:u.name})," (",u.productCode||u.sku,")"]}),e.jsxs("span",{children:["Talep: ",e.jsx("strong",{children:u.qty}),"  Mevcut: ",e.jsx("strong",{style:{color:"var(--color-danger)"},children:u.available})," ",e.jsxs("span",{style:{color:"var(--color-danger)",fontWeight:600},children:[" Eksik: ",u.qty-u.available]})]})]},u.id))}),e.jsx("button",{className:"btn btn-warning",type:"button",style:{marginTop:12},onClick:()=>{const u=B.filter(T=>T.qty>T.available);alert(`${u.length} kalem iin sipari oluturulacak. (Satnalma modlne ynlendirilecek)`)},children:" Eksik rnler in Sipari Olutur"})]}),e.jsxs("div",{style:{display:"flex",gap:12,marginTop:8,flexWrap:"wrap"},children:[e.jsx("button",{className:"btn btn-secondary",type:"button",style:{flex:1,padding:"14px 20px",minWidth:150},disabled:i,onClick:()=>{le(!0),E(""),G("")},children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:4},children:[e.jsx("span",{style:{fontSize:20},children:""}),e.jsx("span",{style:{fontWeight:600},children:"Sonra ret"}),e.jsx("span",{style:{fontSize:11,opacity:.8},children:gr.required?"Stok rezerve edilir":"D retim"})]})}),e.jsx("button",{className:"btn btn-success",type:"button",style:{flex:1,padding:"14px 20px",minWidth:150},disabled:i||B.length>0&&B.some(u=>u.qty>(u.onHand||u.available)),onClick:()=>tt(async()=>{if(B.length===0){const ge={ready:!0,purchaseNotes:R.stockNote||(gr.required?"retime alnd":"D retim - stoksuz devam"),items:[],skipStock:!gr.required};return await ko(t.id,ge)}if(B.some(ge=>ge.qty>ge.available&&ge.qty<=(ge.onHand||0))&&!window.confirm(`Baz rnler iin rezerve edilmi stok kullanlacak.
Bu, baka ilerin stok ihtiyacn etkileyebilir.

Devam etmek istiyor musunuz?`))return;const T={jobId:t.id,items:B.map(ge=>({itemId:ge.id,qty:ge.qty})),reserveType:"consume",note:R.stockNote||"retime alnd - Stoktan dld"},Y=await Au(T),ee={ready:!0,purchaseNotes:R.stockNote||"retime alnd - Stoktan dld",items:B.map(ge=>({id:ge.id,name:ge.name,productCode:ge.productCode,colorCode:ge.colorCode,qty:ge.qty,unit:ge.unit}))},de=await ko(t.id,ee);return Fl(t.id,{pendingPO:[]}),X([]),await Je("stock_consumed","retime alnd - Stoktan dld",{consumed:B}),Y.results&&k(ge=>ge.map(Te=>{const ze=Y.results.find(Fe=>Fe.itemId===Te.id);return ze?{...Te,onHand:ze.newOnHand,reserved:ze.newReserved,available:ze.available}:Te})),q([]),de}),children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:4},children:[e.jsx("span",{style:{fontSize:20},children:""}),e.jsx("span",{style:{fontWeight:600},children:"Hemen retime Al"}),e.jsx("span",{style:{fontSize:11,opacity:.8},children:B.length>0?"Stoktan dlr":gr.required?"retime ge":"D retim"})]})})]}),B.some(u=>u.qty>(u.onHand||u.available))&&e.jsx("div",{className:"text-muted",style:{fontSize:12,marginTop:8,textAlign:"center"},children:" Yetersiz fiziksel stok olduu iin retime alnamaz. nce sipari oluturun."}),B.some(u=>u.qty>u.available&&u.qty<=(u.onHand||0))&&e.jsx("div",{style:{fontSize:12,marginTop:8,textAlign:"center",color:"var(--color-warning)"},children:" Baz rnler iin baka ilere ait rezerve stok kullanlacak!"})]})})]}),e.jsx(qe,{open:P,title:" Stoktan Kalem Ekle",size:"xxlarge",onClose:()=>{$(!1),S(null),z(1),w(""),f(""),b(""),Z(!1),O(null)},actions:e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{flex:1,textAlign:"left",fontSize:13,color:"var(--text-muted)"},children:B.length>0&&` ${B.length} kalem seildi`}),e.jsx("button",{className:"btn btn-secondary",type:"button",onClick:()=>$(!1),children:"ptal"}),e.jsxs("button",{className:"btn btn-success",type:"button",onClick:()=>{$(!1),w(""),f(""),b("")},disabled:B.length===0,children:[" Seimi Tamamla (",B.length," kalem)"]})]}),children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:16,minHeight:550},children:[e.jsxs("div",{style:{background:"linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%)",padding:16,borderRadius:12,border:"1px solid var(--color-border)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:12},children:[e.jsx("span",{style:{fontSize:18},children:""}),e.jsx("span",{style:{fontWeight:600},children:"Hzl rn Ara"}),e.jsx("span",{className:"text-muted",style:{fontSize:12},children:"(rne tklayarak sepete ekle)"})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr 1fr auto",gap:12,alignItems:"end"},children:[e.jsxs("div",{className:"form-group",style:{margin:0},children:[e.jsx("label",{className:"form-label",style:{fontSize:11,marginBottom:4},children:"rn Ad / Tedariki"}),e.jsx("input",{id:"stock-search-modal",className:"form-input",placeholder:"rn ara...",value:x,onChange:u=>w(u.target.value),autoFocus:!0,style:{fontSize:14,padding:"10px 14px"}})]}),e.jsxs("div",{className:"form-group",style:{margin:0},children:[e.jsx("label",{className:"form-label",style:{fontSize:11,marginBottom:4},children:"rn Kodu"}),e.jsx("input",{className:"form-input",placeholder:"Kod...",value:N,onChange:u=>f(u.target.value),style:{fontSize:14,padding:"10px 14px"}})]}),e.jsxs("div",{className:"form-group",style:{margin:0},children:[e.jsx("label",{className:"form-label",style:{fontSize:11,marginBottom:4},children:"Renk Kodu"}),e.jsx("input",{className:"form-input",placeholder:"Renk...",value:v,onChange:u=>b(u.target.value),style:{fontSize:14,padding:"10px 14px"}})]}),(x||N||v)&&e.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>{w(""),f(""),b("")},style:{height:44},children:"Temizle"})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16,flex:1},children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:8},children:[e.jsxs("h4",{style:{margin:0,fontSize:14,display:"flex",alignItems:"center",gap:8},children:[" Seilen rnler",B.length>0&&e.jsx("span",{className:"badge badge-success",children:B.length})]}),B.length>0&&e.jsx("button",{type:"button",className:"btn btn-danger btn-small",onClick:()=>q([]),children:"Tmn Temizle"})]}),e.jsx("div",{style:{flex:1,border:"2px dashed var(--color-border)",borderRadius:12,overflow:"hidden",background:B.length===0?"var(--color-bg-secondary)":"var(--color-bg)"},children:B.length===0?e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",padding:40,color:"var(--color-text-light)"},children:[e.jsx("div",{style:{fontSize:48,marginBottom:12},children:""}),e.jsx("div",{style:{fontWeight:600,marginBottom:8},children:"Henz rn seilmedi"}),e.jsxs("div",{style:{fontSize:13,textAlign:"center"},children:["Sa taraftaki listeden rnlere tklayarak",e.jsx("br",{}),"sepete ekleyebilirsiniz"]})]}):e.jsx("div",{style:{maxHeight:380,overflow:"auto"},children:e.jsxs("table",{className:"table",style:{fontSize:13},children:[e.jsx("thead",{style:{position:"sticky",top:0,background:"var(--color-bg)",zIndex:1},children:e.jsxs("tr",{children:[e.jsx("th",{children:"rn"}),e.jsx("th",{style:{width:"15%"},children:"Kod"}),e.jsx("th",{style:{width:"10%"},children:"Renk"}),e.jsx("th",{style:{width:"15%"},children:"Miktar"}),e.jsx("th",{style:{width:"10%"},children:"Stok"}),e.jsx("th",{style:{width:"8%"}})]})}),e.jsx("tbody",{children:B.map(u=>{const T=u.qty>(u.available||0),Y=u.qty>(u.available||0)&&u.qty<=(u.onHand||0);return e.jsxs("tr",{style:{background:T?Y?"rgba(251, 191, 36, 0.1)":"rgba(239, 68, 68, 0.1)":"transparent"},children:[e.jsxs("td",{children:[e.jsx("div",{style:{fontWeight:600},children:u.name}),u.colorName&&e.jsx("div",{className:"text-muted",style:{fontSize:11},children:u.colorName})]}),e.jsx("td",{children:e.jsx("code",{style:{fontSize:11},children:u.productCode})}),e.jsx("td",{children:e.jsx("span",{className:"badge badge-secondary",style:{fontSize:11},children:u.colorCode||"-"})}),e.jsxs("td",{children:[e.jsx("input",{type:"number",className:"form-input",style:{width:70,padding:"4px 8px",fontSize:13,textAlign:"center",border:T?"2px solid var(--color-warning)":void 0},value:u.qty,min:"1",max:u.onHand||999,onChange:ee=>{const de=Number(ee.target.value);q(ge=>ge.map(Te=>Te.id===u.id?{...Te,qty:de}:Te))}}),e.jsx("span",{className:"text-muted",style:{fontSize:11,marginLeft:4},children:u.unit})]}),e.jsx("td",{children:e.jsxs("span",{style:{fontSize:12,color:(u.available||0)>=u.qty?"var(--color-success)":"var(--color-warning)"},children:[u.available,"/",u.onHand]})}),e.jsx("td",{children:e.jsx("button",{type:"button",className:"btn btn-danger btn-small btn-icon",onClick:()=>hf(u.id),style:{padding:"4px 8px"},title:"Satr Kaldr",children:""})})]},u.id)})})]})})}),B.some(u=>u.qty>(u.available||0)&&u.qty<=(u.onHand||0))&&e.jsx("div",{style:{marginTop:8,padding:"8px 12px",background:"rgba(251, 191, 36, 0.15)",border:"1px solid var(--color-warning)",borderRadius:8,fontSize:12,color:"var(--color-warning)"},children:" Baz rnler iin baka ilere ait rezerve stok kullanlacak!"}),B.some(u=>u.qty>(u.onHand||0))&&e.jsx("div",{style:{marginTop:8,padding:"8px 12px",background:"rgba(239, 68, 68, 0.15)",border:"1px solid var(--color-danger)",borderRadius:8,fontSize:12,color:"var(--color-danger)"},children:" Baz rnler iin yeterli stok yok! Ltfen miktarlar dzeltin."})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:8},children:[e.jsx("h4",{style:{margin:0,fontSize:14},children:" Stok Listesi"}),e.jsxs("span",{className:"text-muted",style:{fontSize:12},children:[Tl.length," rn"]})]}),d?e.jsx("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(kt,{size:"small",text:"Stok listesi ykleniyor..."})}):p?e.jsxs("div",{className:"card error-card",children:[e.jsx("div",{className:"error-title",children:"Stok alnamad"}),e.jsx("div",{className:"error-message",children:p})]}):e.jsx("div",{style:{flex:1,border:"1px solid var(--color-border)",borderRadius:12,overflow:"hidden"},children:e.jsx("div",{style:{maxHeight:380,overflow:"auto"},children:e.jsxs("table",{className:"table",style:{fontSize:12},children:[e.jsx("thead",{style:{position:"sticky",top:0,background:"var(--color-bg)",zIndex:1},children:e.jsxs("tr",{children:[e.jsx("th",{children:"rn"}),e.jsx("th",{style:{width:"12%"},children:"Kod"}),e.jsx("th",{style:{width:"8%"},children:"Renk"}),e.jsx("th",{style:{width:"15%"},children:"Stok"}),e.jsx("th",{style:{width:"10%"}})]})}),e.jsx("tbody",{children:Tl.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:5,children:e.jsxs("div",{style:{padding:30,textAlign:"center"},children:[e.jsx("div",{style:{fontSize:24,marginBottom:8},children:""}),e.jsx("div",{style:{fontWeight:600},children:"rn Bulunamad"})]})})}):Tl.slice(0,100).map(u=>{const T=B.some(de=>de.id===u.id),Y=(u.reserved||0)>0,ee=(u.onHand||0)>0&&!T;return e.jsxs("tr",{style:{background:T?"var(--color-success-bg, rgba(34, 197, 94, 0.1))":Y?"rgba(251, 191, 36, 0.05)":"transparent",cursor:ee?"pointer":"not-allowed",opacity:ee?1:.6},onClick:()=>ee&&mf(u),children:[e.jsxs("td",{children:[e.jsx("div",{style:{fontWeight:600,fontSize:12},children:u.name}),e.jsx("div",{className:"text-muted",style:{fontSize:10},children:u.supplierName||u.supplier||"-"})]}),e.jsx("td",{children:e.jsx("code",{style:{fontSize:10,padding:"2px 4px"},children:u.productCode||u.sku})}),e.jsx("td",{children:e.jsx("span",{className:"badge badge-secondary",style:{fontSize:10},children:u.colorCode||u.color||"-"})}),e.jsxs("td",{children:[e.jsxs("div",{style:{fontSize:12},children:[e.jsx("strong",{style:{color:(u.available||0)>0?"var(--color-success)":(u.onHand||0)>0?"var(--color-warning)":"var(--color-danger)"},children:u.available||0}),e.jsxs("span",{className:"text-muted",children:["/",u.onHand||0]})]}),Y&&e.jsxs("div",{style:{fontSize:10,color:"var(--color-warning)"},children:[" ",u.reserved," res."]})]}),e.jsx("td",{children:T?e.jsx("span",{style:{color:"var(--color-success)",fontSize:16},children:""}):ee?e.jsx("button",{type:"button",className:"btn btn-primary btn-small",style:{padding:"4px 8px",fontSize:11},onClick:de=>{de.stopPropagation(),mf(u)},children:"+ Ekle"}):e.jsx("span",{className:"text-muted",style:{fontSize:10},children:(u.onHand||0)===0?"Stok yok":"Eklendi"})})]},u.id)})})]})})})]})]})]})}),e.jsx(qe,{open:C,title:"Miktar Girin",size:"small",onClose:()=>{Z(!1),O(null),fe(1)},actions:e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"btn btn-secondary",type:"button",onClick:()=>{Z(!1),O(null)},children:"ptal"}),e.jsx("button",{className:"btn btn-success",type:"button",onClick:pf,disabled:!A||_<=0||_>((A==null?void 0:A.onHand)||0),children:" Sepete Ekle"})]}),children:A&&e.jsxs("div",{children:[e.jsxs("div",{style:{background:"var(--color-bg-secondary)",padding:16,borderRadius:8,marginBottom:16},children:[e.jsx("div",{style:{fontWeight:700,fontSize:16,marginBottom:8},children:A.name}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8},children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted",style:{fontSize:11},children:"Kod: "}),e.jsx("code",{children:A.productCode||A.sku})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted",style:{fontSize:11},children:"Renk: "}),e.jsx("span",{className:"badge badge-secondary",children:A.colorCode||"-"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted",style:{fontSize:11},children:"Kullanlabilir: "}),e.jsx("strong",{style:{color:"var(--color-success)"},children:A.available||0})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted",style:{fontSize:11},children:"Fiziksel: "}),e.jsx("strong",{children:A.onHand||0})]})]})]}),((A==null?void 0:A.reserved)||0)>0&&e.jsxs("div",{style:{background:"rgba(251, 191, 36, 0.15)",border:"1px solid var(--color-warning)",borderRadius:8,padding:12,marginBottom:16,fontSize:12},children:[e.jsx("strong",{style:{color:"var(--color-warning)"},children:" Bu stok rezerve edilmi!"}),e.jsxs("div",{className:"text-muted",children:["Baka i iin ",A.reserved," adet rezerve. Yine de kullanabilirsiniz."]})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:["Miktar (",A.unit||"adet",")"]}),e.jsx("input",{type:"number",className:"form-input",value:_,onChange:u=>fe(Number(u.target.value)),onKeyDown:u=>{u.key==="Enter"&&_>0&&_<=((A==null?void 0:A.onHand)||0)&&(u.preventDefault(),pf())},min:"1",max:(A==null?void 0:A.onHand)||999,autoFocus:!0,style:{fontSize:24,padding:"16px",textAlign:"center",fontWeight:700}}),_>((A==null?void 0:A.available)||0)&&_<=((A==null?void 0:A.onHand)||0)&&e.jsxs("div",{style:{color:"var(--color-warning)",fontSize:12,marginTop:8},children:[" Rezerve stoktan kullanlacak! (",_-((A==null?void 0:A.available)||0)," adet)"]}),_>((A==null?void 0:A.onHand)||0)&&e.jsxs("div",{style:{color:"var(--color-danger)",fontSize:12,marginTop:8},children:[" Stok yetersiz! Maksimum: ",(A==null?void 0:A.onHand)||0]}),e.jsx("div",{className:"text-muted",style:{fontSize:11,marginTop:8,textAlign:"center"},children:" Enter tuu ile hzlca ekleyebilirsiniz"})]})]})}),e.jsx(qe,{open:Q,title:" Sonra retilecek - zet",size:"medium",onClose:()=>le(!1),actions:e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"btn btn-secondary",type:"button",onClick:()=>le(!1),children:"ptal"}),e.jsx("button",{className:"btn btn-primary",type:"button",disabled:i||!ye,onClick:()=>tt(async()=>{const u={jobId:t.id,items:B.map(ge=>({itemId:ge.id,qty:ge.qty})),reserveType:"reserve",note:D||"Sonra retilecek - Rezerve edildi"},T=await Au(u),Y={ready:!1,purchaseNotes:D||"Sonra retilecek - Rezerve edildi",estimatedDate:ye,items:B.map(ge=>({id:ge.id,name:ge.name,productCode:ge.productCode,colorCode:ge.colorCode,qty:ge.qty,unit:ge.unit,available:ge.available,onHand:ge.onHand}))},ee=await ko(t.id,Y),de=B.filter(ge=>ge.qty>ge.available).map(ge=>({...ge,missing:ge.qty-ge.available}));if(de.length>0){const ge=O6(t.id,de);Fl(t.id,{pendingPO:de,estimatedDate:ye}),X(de),await Je("stock_reserved","Stok rezerve edildi - Sonra retilecek",{reserved:B,pending:de,estimatedDate:ye,poId:ge==null?void 0:ge.id})}else Fl(t.id,{pendingPO:[],estimatedDate:ye}),X([]),await Je("stock_reserved","Stok rezerve edildi",{reserved:B,estimatedDate:ye});return T.results&&k(ge=>ge.map(Te=>{const ze=T.results.find(Fe=>Fe.itemId===Te.id);return ze?{...Te,onHand:ze.newOnHand,reserved:ze.newReserved,available:ze.available}:Te})),q([]),le(!1),ee}),children:i?" leniyor...":" Rezerve Et ve Kaydet"}),!ye&&e.jsx("div",{style:{color:"var(--color-danger)",fontSize:12,marginTop:4},children:" Tahmini hazr olma tarihi seiniz"})]}),children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:20},children:[e.jsxs("div",{style:{background:"linear-gradient(135deg, #fef3c7 0%, #fde68a 100%)",padding:16,borderRadius:12,border:"1px solid #f59e0b"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:8},children:[e.jsx("span",{style:{fontSize:20},children:""}),e.jsx("span",{style:{fontWeight:700},children:"Sonra retilecek"})]}),e.jsx("div",{style:{fontSize:13,color:"#92400e"},children:'Bu i iin stok rezerve edilecek ve sonra retilmek zere bekletilecek.  listesinde "Sonra retilecek" durumunda grnecektir.'})]}),e.jsxs("div",{children:[e.jsxs("h4",{style:{margin:"0 0 12px 0",fontSize:14},children:[" Seilen rnler (",B.length," kalem)"]}),e.jsx("div",{style:{maxHeight:150,overflow:"auto",border:"1px solid var(--color-border)",borderRadius:8},children:e.jsxs("table",{className:"table",style:{fontSize:12,marginBottom:0},children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"rn"}),e.jsx("th",{style:{width:"20%"},children:"Kod"}),e.jsx("th",{style:{width:"15%"},children:"Miktar"}),e.jsx("th",{style:{width:"15%"},children:"Durum"})]})}),e.jsx("tbody",{children:B.map(u=>{const T=u.qty>(u.available||0);return e.jsxs("tr",{children:[e.jsx("td",{style:{fontWeight:600},children:u.name}),e.jsx("td",{children:e.jsx("code",{style:{fontSize:10},children:u.productCode})}),e.jsxs("td",{children:[u.qty," ",u.unit]}),e.jsx("td",{children:T?e.jsxs("span",{style:{color:"var(--color-warning)",fontSize:11},children:[" ",u.qty-(u.available||0)," eksik"]}):e.jsx("span",{style:{color:"var(--color-success)",fontSize:11},children:" Yeterli"})})]},u.id)})})]})})]}),e.jsxs("div",{className:"form-group",style:{margin:0},children:[e.jsxs("label",{className:"form-label",children:[" Tahmini Hazr Olma Tarihi ",e.jsx("span",{style:{color:"var(--color-danger)"},children:"*"})]}),e.jsx(gt,{value:ye,onChange:u=>E(u),min:new Date().toISOString().split("T")[0],style:{fontSize:16}}),e.jsx("div",{className:"text-muted",style:{fontSize:11,marginTop:4},children:"Bu tarih, iin ne zaman retime alnabileceini gsterir"})]}),e.jsxs("div",{className:"form-group",style:{margin:0},children:[e.jsx("label",{className:"form-label",children:" Not (Opsiyonel)"}),e.jsx("textarea",{className:"form-input",value:D,onChange:u=>G(u.target.value),placeholder:"rn: Mteri talebiyle ertelendi, Malzeme bekliyor...",rows:2,style:{resize:"vertical"}})]})]})}),un("production")&&e.jsxs("div",{className:"card",children:[ae&&e.jsxs("div",{style:{background:"linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%)",borderBottom:"1px solid var(--color-border)",padding:"12px 16px",display:"flex",alignItems:"center",gap:10,color:"#475569"},children:[e.jsx("span",{style:{fontSize:18},children:""}),e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:600,fontSize:13},children:"Ariv Grnm"}),e.jsx("div",{style:{fontSize:11,opacity:.8},children:"Bu aama tamamland. Sadece grntleme modundasnz."})]})]}),e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:" retim & Tedarik Takip"})}),e.jsxs("div",{className:"card-body",style:{gap:12},children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"0.75rem",marginBottom:"1rem"},children:[e.jsxs("div",{style:{background:"var(--bg-secondary)",padding:"0.75rem",borderRadius:"8px",textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"1.25rem",fontWeight:700},children:((Tg=U.summary)==null?void 0:Tg.totalOrders)||0}),e.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-muted)"},children:"Toplam Sipari"})]}),e.jsxs("div",{style:{background:"rgba(var(--warning-rgb), 0.1)",padding:"0.75rem",borderRadius:"8px",textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"1.25rem",fontWeight:700,color:"var(--warning)"},children:((zg=U.summary)==null?void 0:zg.totalItems)-((Dg=U.summary)==null?void 0:Dg.receivedItems)||0}),e.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-muted)"},children:"Bekleyen Adet"})]}),e.jsxs("div",{style:{background:"rgba(var(--danger-rgb), 0.1)",padding:"0.75rem",borderRadius:"8px",textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"1.25rem",fontWeight:700,color:"var(--danger)"},children:((Rg=U.summary)==null?void 0:Rg.pendingIssues)||0}),e.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-muted)"},children:"Sorun"})]}),e.jsxs("div",{style:{background:(Ag=U.summary)!=null&&Ag.readyForAssembly?"rgba(var(--success-rgb), 0.15)":"var(--bg-secondary)",padding:"0.75rem",borderRadius:"8px",textAlign:"center",border:(Eg=U.summary)!=null&&Eg.readyForAssembly?"2px solid var(--success)":"none"},children:[e.jsx("div",{style:{fontSize:"1.25rem"},children:(Ig=U.summary)!=null&&Ig.readyForAssembly?"":""}),e.jsx("div",{style:{fontSize:"0.7rem",color:(Mg=U.summary)!=null&&Mg.readyForAssembly?"var(--success)":"var(--text-muted)"},children:(Pg=U.summary)!=null&&Pg.readyForAssembly?"Montaja Hazr":"Bekleniyor"})]})]}),!ae&&((Lg=t.roles)==null?void 0:Lg.length)>0&&e.jsxs("div",{style:{marginBottom:"1rem"},children:[e.jsx("div",{style:{fontSize:"0.85rem",fontWeight:600,marginBottom:"0.5rem",color:"var(--text-muted)"},children:"  Kollar - Hzl Sipari"}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:t.roles.map(u=>{var Xe;const T=re.find(We=>We.id===u.id||We.name===u.name),ee=(u.productionType||(T==null?void 0:T.productionType)||"internal")==="internal",de=u.requiresGlass!==void 0?u.requiresGlass:(T==null?void 0:T.requiresGlass)||!1,ge=((Xe=U.orders)==null?void 0:Xe.filter(We=>We.roleId===u.id))||[],Te=ge.some(We=>We.orderType==="internal"||We.orderType==="external"),ze=ge.some(We=>We.orderType==="glass"),Fe=Te&&(!de||ze);return e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0.75rem 1rem",background:Fe?"rgba(var(--success-rgb), 0.05)":"var(--bg-secondary)",borderRadius:"8px",borderLeft:`4px solid ${Fe?"var(--success)":ee?"var(--primary)":"var(--warning)"}`},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[e.jsxs("div",{children:[e.jsxs("div",{style:{fontWeight:600,display:"flex",alignItems:"center",gap:"0.5rem"},children:[u.name,Fe&&e.jsx("span",{style:{color:"var(--success)"},children:""})]}),e.jsxs("div",{style:{fontSize:"0.7rem",color:"var(--text-muted)"},children:[ee?"  retim":" D Sipari",de&&e.jsx("span",{children:"   Cam Gerekli"})]})]}),e.jsxs("div",{style:{display:"flex",gap:"0.25rem"},children:[Te&&e.jsx("span",{className:"badge badge-primary",style:{fontSize:"0.6rem"},children:" retim Emri"}),de&&ze&&e.jsx("span",{className:"badge badge-info",style:{fontSize:"0.6rem"},children:" Cam Siparii"})]})]}),e.jsxs("div",{children:[!Fe&&e.jsx("button",{className:"btn btn-sm btn-primary",onClick:async()=>{await ss();const We=new Date;We.setDate(We.getDate()+((T==null?void 0:T.estimatedDays)||5));const Kt=new Date;Kt.setDate(Kt.getDate()+7);let At="",Ot="";if(!ee&&(T!=null&&T.defaultSupplier)){const mt=be.find(ln=>ln.id===T.defaultSupplier);mt&&(At=mt.id,Ot=mt.name)}let Me="",He="";if(de&&(T!=null&&T.defaultGlassSupplier)){const mt=be.find(ln=>ln.id===T.defaultGlassSupplier);mt&&(Me=mt.id,He=mt.name)}De({roleId:u.id||"",roleName:u.name||"",productionType:ee?"internal":"external",productionDescription:"",productionQty:1,productionUnit:"adet",productionEstDelivery:We.toISOString().slice(0,10),productionNotes:"",productionSupplierId:At,productionSupplierName:Ot,requiresGlass:de||!1,includeGlass:de&&!ze,glassItems:[{glassType:"",glassName:"",quantity:1,combination:""}],glassSupplierId:Me,glassSupplierName:He,glassEstDelivery:Kt.toISOString().slice(0,10),skipProduction:Te}),J(!0)},children:Te?" Cam Sipari Ge":" Sipari Olutur"}),Fe&&e.jsx("span",{className:"badge badge-success",children:" Sipariler Verildi"})]})]},u.id||u.name)})})]}),oe?e.jsx("div",{style:{textAlign:"center",padding:"2rem",color:"var(--text-muted)"},children:"Ykleniyor..."}):((Bg=U.orders)==null?void 0:Bg.length)===0?e.jsxs("div",{style:{textAlign:"center",padding:"2rem",background:"var(--bg-secondary)",borderRadius:"8px"},children:[e.jsx("div",{style:{fontSize:"2rem",marginBottom:"0.5rem"},children:""}),e.jsx("div",{style:{fontWeight:600,marginBottom:"0.25rem"},children:"Henz sipari yok"}),e.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)"},children:"Yukardan i kollarna gre sipari oluturabilirsiniz"})]}):e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:U.orders.map(u=>{var Te,ze,Fe;const T=((Te=u.items)==null?void 0:Te.reduce((Xe,We)=>Xe+(We.quantity||0),0))||0,Y=((ze=u.items)==null?void 0:ze.reduce((Xe,We)=>Xe+(We.receivedQty||0),0))||0,ee=((Fe=u.issues)==null?void 0:Fe.filter(Xe=>Xe.status==="pending").length)||0,de={internal:"var(--success)",external:"var(--warning)",glass:"var(--info)"},ge={internal:"  retim",external:" D Sipari",glass:" Cam"};return e.jsxs("div",{style:{background:"var(--bg-secondary)",borderRadius:"8px",padding:"0.75rem",borderLeft:`4px solid ${de[u.orderType]||"var(--border-color)"}`},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"0.5rem"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:600},children:u.roleName}),e.jsxs("div",{style:{fontSize:"0.7rem",color:"var(--text-muted)"},children:[ge[u.orderType]," ",u.supplierName&&` ${u.supplierName}`]})]}),e.jsxs("div",{style:{display:"flex",gap:"0.25rem"},children:[e.jsx("span",{className:`badge badge-${u.status==="completed"?"success":u.status==="partial"?"info":"primary"}`,children:u.status==="completed"?" Tamamland":u.status==="partial"?" Ksmi Teslim":" Siparite"}),u.isOverdue&&e.jsx("span",{className:"badge badge-danger",children:"GECKT"}),ee>0&&e.jsxs("span",{className:"badge badge-danger",children:[" ",ee]})]})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem"},children:[e.jsx("div",{style:{flex:1,height:"6px",background:"var(--bg-tertiary)",borderRadius:"3px",overflow:"hidden"},children:e.jsx("div",{style:{width:`${T>0?Y/T*100:0}%`,height:"100%",background:u.status==="completed"?"var(--success)":"var(--primary)",transition:"width 0.3s"}})}),e.jsxs("span",{style:{fontSize:"0.75rem",fontWeight:600,minWidth:"60px"},children:[Y," / ",T]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{style:{fontSize:"0.7rem",color:"var(--text-muted)"},children:["Tahmini: ",u.estimatedDelivery?Yu(u.estimatedDelivery):""]}),!ae&&u.status!=="completed"&&e.jsx("button",{className:"btn btn-xs btn-success",onClick:()=>{M(u),se({deliveries:u.items.map((Xe,We)=>({lineIndex:We,receivedQty:0,problemQty:0,problemType:"",problemNote:""})),deliveryDate:new Date().toISOString().slice(0,10),deliveryNote:""}),ie(!0)},children:" Teslim Kaydet"})]})]},u.id)})}),((Og=U.summary)==null?void 0:Og.readyForAssembly)&&!ae&&e.jsxs("div",{style:{marginTop:"1rem",padding:"1rem",background:"linear-gradient(135deg, rgba(var(--success-rgb), 0.1) 0%, rgba(var(--success-rgb), 0.05) 100%)",borderRadius:"8px",border:"1px solid var(--success)",textAlign:"center"},children:[e.jsx("div",{style:{fontWeight:600,marginBottom:"0.75rem",color:"var(--success)"},children:" Tm sipariler tamamland!"}),e.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center",flexWrap:"wrap"},children:[e.jsx("button",{className:"btn btn-success",disabled:i,onClick:async()=>{try{o(!0),await O4(t.id),await uj(t.id,{status:"MONTAJA_HAZIR",deliveryType:"montajli"});const u=await tc(t.id);s(_s(u))}catch(u){alert(Ia(u))}finally{o(!1)}},children:" Montaja Ge"}),e.jsx("button",{className:"btn btn-info",disabled:i,onClick:async()=>{if(confirm(`Bu i demonte/fabrikadan teslim olarak iaretlenecek.
Montaj aamas atlanacak ve direkt finans aamasna geilecek.

Devam etmek istiyor musunuz?`))try{o(!0),await uj(t.id,{status:"TESLIME_HAZIR",deliveryType:"demonte"});const u=await tc(t.id);s(_s(u))}catch(u){alert(Ia(u))}finally{o(!1)}},children:" Teslime Ge (Demonte)"})]}),e.jsx("div",{style:{marginTop:"0.5rem",fontSize:"0.85rem",color:"var(--color-text-secondary)"},children:'Montajl teslim iin "Montaja Ge", fabrikadan/demonte teslim iin "Teslime Ge" sein'})]})]})]}),e.jsxs(qe,{isOpen:F,onClose:()=>J(!1),title:` ${ue.roleName||"Sipari"} - Sipari Olutur`,size:"large",children:[!ue.skipProduction&&e.jsxs("div",{style:{marginBottom:"1.5rem"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"1rem",padding:"0.5rem 0.75rem",background:ue.productionType==="internal"?"rgba(var(--success-rgb), 0.1)":"rgba(var(--warning-rgb), 0.1)",borderRadius:"6px",borderLeft:`3px solid ${ue.productionType==="internal"?"var(--success)":"var(--warning)"}`},children:[e.jsx("span",{style:{fontSize:"1.1rem"},children:ue.productionType==="internal"?"":""}),e.jsx("span",{style:{fontWeight:600},children:ue.productionType==="internal"?" retim":"D Sipari"})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr 1fr",gap:"0.75rem"},children:[e.jsxs("div",{className:"form-group",style:{margin:0},children:[e.jsx("label",{className:"form-label",style:{fontSize:"0.75rem"},children:"Aklama"}),e.jsx("input",{type:"text",className:"form-input",placeholder:"r: Villa projesi pencereler...",value:ue.productionDescription,onChange:u=>De(T=>({...T,productionDescription:u.target.value}))})]}),e.jsxs("div",{className:"form-group",style:{margin:0},children:[e.jsx("label",{className:"form-label",style:{fontSize:"0.75rem"},children:"Adet"}),e.jsxs("div",{style:{display:"flex",gap:"0.25rem"},children:[e.jsx("input",{type:"number",className:"form-input",min:1,value:ue.productionQty,onChange:u=>De(T=>({...T,productionQty:parseInt(u.target.value)||1})),style:{flex:1}}),e.jsxs("select",{className:"form-select",value:ue.productionUnit,onChange:u=>De(T=>({...T,productionUnit:u.target.value})),style:{width:"70px"},children:[e.jsx("option",{value:"adet",children:"adet"}),e.jsx("option",{value:"set",children:"set"}),e.jsx("option",{value:"m",children:"m"})]})]})]}),e.jsxs("div",{className:"form-group",style:{margin:0},children:[e.jsx("label",{className:"form-label",style:{fontSize:"0.75rem"},children:"Tahmini Teslim"}),e.jsx(gt,{value:ue.productionEstDelivery,onChange:u=>De(T=>({...T,productionEstDelivery:u}))})]})]}),ue.productionType==="external"&&e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.75rem",marginTop:"0.75rem"},children:[e.jsxs("div",{className:"form-group",style:{margin:0},children:[e.jsx("label",{className:"form-label",style:{fontSize:"0.75rem"},children:"D retim Tedarikisi"}),e.jsxs("select",{className:"form-select",value:ue.productionSupplierId,onChange:u=>{const T=be.find(Y=>Y.id===u.target.value);De(Y=>({...Y,productionSupplierId:(T==null?void 0:T.id)||"",productionSupplierName:(T==null?void 0:T.name)||""}))},children:[e.jsx("option",{value:"",children:"Tedariki sein..."}),be.filter(u=>u.supplyType==="production"&&(u.jobRoleId===ue.roleId||!u.jobRoleId)).map(u=>e.jsx("option",{value:u.id,children:u.name},u.id))]})]}),e.jsxs("div",{className:"form-group",style:{margin:0},children:[e.jsx("label",{className:"form-label",style:{fontSize:"0.75rem"},children:"Not"}),e.jsx("input",{type:"text",className:"form-input",placeholder:"Opsiyonel notlar...",value:ue.productionNotes,onChange:u=>De(T=>({...T,productionNotes:u.target.value}))})]})]})]}),ue.requiresGlass&&e.jsxs("div",{style:{padding:"1rem",background:ue.includeGlass?"rgba(var(--info-rgb), 0.05)":"var(--bg-secondary)",borderRadius:"8px",border:ue.includeGlass?"1px solid var(--info)":"1px dashed var(--border-color)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:ue.includeGlass?"1rem":0},children:[e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},children:[e.jsx("input",{type:"checkbox",checked:ue.includeGlass,onChange:u=>De(T=>({...T,includeGlass:u.target.checked})),style:{width:"18px",height:"18px"}}),e.jsx("span",{style:{fontSize:"1.1rem"},children:""}),e.jsx("span",{style:{fontWeight:600},children:"Cam Siparii Dahil Et"})]}),!ue.skipProduction&&ue.requiresGlass&&e.jsx("span",{className:"badge badge-info",style:{fontSize:"0.65rem"},children:"Bu i kolu iin cam gerekli"})]}),ue.includeGlass&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{marginBottom:"1rem"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[e.jsx("label",{className:"form-label",style:{margin:0,fontSize:"0.75rem"},children:"Cam Kalemleri"}),e.jsx("button",{type:"button",className:"btn btn-xs btn-info",onClick:()=>De(u=>({...u,glassItems:[...u.glassItems,{glassType:"",glassName:"",quantity:1,combination:""}]})),children:"+ Cam Tipi Ekle"})]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:ue.glassItems.map((u,T)=>e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 80px 30px",gap:"0.5rem",padding:"0.5rem",background:"white",borderRadius:"6px",border:"1px solid var(--border-color)"},children:[e.jsxs("select",{className:"form-select",value:u.glassType,onChange:Y=>{const ee=W.find(ge=>ge.code===Y.target.value),de=[...ue.glassItems];de[T]={...de[T],glassType:Y.target.value,glassName:(ee==null?void 0:ee.name)||""},De(ge=>({...ge,glassItems:de}))},style:{fontSize:"0.8rem"},children:[e.jsxs("option",{value:"",children:["Cam tipi sein... (",W.length," adet)"]}),W.map(Y=>e.jsx("option",{value:Y.code,children:Y.name},Y.id))]}),e.jsx("input",{type:"text",className:"form-input",placeholder:"Kombinasyon (r: Sinerji, Low-E)",value:u.combination,onChange:Y=>{const ee=[...ue.glassItems];ee[T]={...ee[T],combination:Y.target.value},De(de=>({...de,glassItems:ee}))},style:{fontSize:"0.8rem"},list:"combinationsList"}),e.jsx("input",{type:"number",className:"form-input",min:1,placeholder:"Adet",value:u.quantity,onChange:Y=>{const ee=[...ue.glassItems];ee[T]={...ee[T],quantity:parseInt(Y.target.value)||1},De(de=>({...de,glassItems:ee}))},style:{fontSize:"0.8rem",textAlign:"center"}}),e.jsx("button",{type:"button",className:"btn btn-xs btn-ghost",onClick:()=>{ue.glassItems.length>1&&De(Y=>({...Y,glassItems:Y.glassItems.filter((ee,de)=>de!==T)}))},style:{color:"var(--danger)"},disabled:ue.glassItems.length===1,children:""})]},T))}),e.jsx("datalist",{id:"combinationsList",children:I.map((u,T)=>e.jsx("option",{value:u},T))})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.75rem"},children:[e.jsxs("div",{className:"form-group",style:{margin:0},children:[e.jsx("label",{className:"form-label",style:{fontSize:"0.75rem"},children:"Cam Tedarikisi"}),e.jsxs("select",{className:"form-select",value:ue.glassSupplierId,onChange:u=>{const T=be.find(Y=>Y.id===u.target.value);De(Y=>({...Y,glassSupplierId:(T==null?void 0:T.id)||"",glassSupplierName:(T==null?void 0:T.name)||""}))},children:[e.jsx("option",{value:"",children:"Tedariki sein..."}),be.filter(u=>u.supplyType==="glass"&&(u.jobRoleId===ue.roleId||!u.jobRoleId)).map(u=>e.jsx("option",{value:u.id,children:u.name},u.id))]})]}),e.jsxs("div",{className:"form-group",style:{margin:0},children:[e.jsx("label",{className:"form-label",style:{fontSize:"0.75rem"},children:"Tahmini Cam Teslimi"}),e.jsx(gt,{value:ue.glassEstDelivery,onChange:u=>De(T=>({...T,glassEstDelivery:u}))})]})]})]})]}),e.jsx("div",{style:{marginTop:"1.5rem",padding:"0.75rem",background:"var(--bg-secondary)",borderRadius:"6px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:e.jsxs("div",{style:{fontSize:"0.85rem",color:"var(--text-muted)"},children:[e.jsx("strong",{children:"Oluturulacak:"})," ",!ue.skipProduction&&e.jsx("span",{className:"badge badge-primary",style:{marginRight:"0.25rem"},children:"1x retim"}),ue.includeGlass&&e.jsxs("span",{className:"badge badge-info",children:["1x Cam Siparii (",ue.glassItems.reduce((u,T)=>u+(T.quantity||0),0)," adet)"]}),ue.skipProduction&&!ue.includeGlass&&e.jsx("span",{style:{color:"var(--danger)"},children:"Hibir ey seilmedi"})]})}),e.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"0.5rem",marginTop:"1rem"},children:[e.jsx("button",{className:"btn btn-ghost",onClick:()=>J(!1),children:"ptal"}),e.jsx("button",{className:"btn btn-primary",disabled:i||!ue.skipProduction&&!ue.productionDescription||ue.skipProduction&&!ue.includeGlass,onClick:async()=>{try{o(!0);const u=[];ue.skipProduction||u.push(ip({jobId:t.id,roleId:ue.roleId,roleName:ue.roleName,orderType:ue.productionType,supplierId:ue.productionSupplierId,supplierName:ue.productionSupplierName,items:[{notes:ue.productionDescription,quantity:ue.productionQty,unit:ue.productionUnit}],estimatedDelivery:ue.productionEstDelivery,notes:ue.productionNotes})),ue.includeGlass&&ue.glassItems.length>0&&u.push(ip({jobId:t.id,roleId:ue.roleId,roleName:ue.roleName,orderType:"glass",supplierId:ue.glassSupplierId,supplierName:ue.glassSupplierName,items:ue.glassItems.map(ee=>({glassType:ee.glassType,glassName:ee.glassName,quantity:ee.quantity,unit:"adet",combination:ee.combination})),estimatedDelivery:ue.glassEstDelivery,notes:""})),await Promise.all(u);const T=await Eu(t.id);H(T||{orders:[],summary:{}}),(t.roles||[]).every(ee=>{const de=ee.id||`role-${ee.name}`,ge=((T==null?void 0:T.orders)||[]).filter(We=>We.roleId===de||We.roleName===ee.name),Te=re.find(We=>We.id===de||We.name===ee.name),ze=ge.some(We=>We.orderType==="internal"||We.orderType==="external"),Fe=ge.some(We=>We.orderType==="glass"),Xe=(Te==null?void 0:Te.requiresGlass)||ee.requiresGlass;return ze&&(!Xe||Fe)})&&t.status==="URETIME_HAZIR"&&(await Gt(t.id,{status:"URETIMDE"}),Fl(t.id,{status:"URETIMDE"})),J(!1)}catch(u){l(Ia(u))}finally{o(!1)}},children:i?"Kaydediliyor...":" Siparileri Olutur"})]})]}),e.jsx(qe,{isOpen:xe,onClose:()=>ie(!1),title:`Teslim Kaydet - ${(he==null?void 0:he.roleName)||""}`,size:"large",children:he&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{marginBottom:"1rem",padding:"0.75rem",background:"var(--bg-secondary)",borderRadius:"6px"},children:[e.jsxs("div",{children:[e.jsx("strong",{children:" Kolu:"})," ",he.roleName]}),he.supplierName&&e.jsxs("div",{children:[e.jsx("strong",{children:"Tedariki:"})," ",he.supplierName]})]}),e.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"1rem"},children:[e.jsx(gt,{value:Re.deliveryDate,onChange:u=>se(T=>({...T,deliveryDate:u})),style:{width:"200px"}}),e.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>{se(u=>({...u,deliveries:u.deliveries.map((T,Y)=>{var ee,de;return{...T,receivedQty:Math.max(0,(((ee=he.items[Y])==null?void 0:ee.quantity)||0)-(((de=he.items[Y])==null?void 0:de.receivedQty)||0))}})}))},children:"Tmn Doldur"})]}),e.jsx("div",{style:{maxHeight:"300px",overflowY:"auto"},children:e.jsxs("table",{className:"data-table",style:{fontSize:"0.85rem"},children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Kalem"}),e.jsx("th",{style:{width:"70px"},children:"Sipari"}),e.jsx("th",{style:{width:"70px"},children:"Alnan"}),e.jsx("th",{style:{width:"70px"},children:"Teslim"}),e.jsx("th",{style:{width:"70px"},children:"Sorunlu"}),e.jsx("th",{style:{width:"100px"},children:"Sorun Tipi"})]})}),e.jsx("tbody",{children:he.items.map((u,T)=>{const Y=(u.quantity||0)-(u.receivedQty||0),ee=Re.deliveries[T]||{};return e.jsxs("tr",{children:[e.jsxs("td",{children:[u.glassName||u.notes||`Kalem ${T+1}`,u.combination&&e.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-muted)"},children:u.combination})]}),e.jsxs("td",{children:[u.quantity," ",u.unit]}),e.jsx("td",{style:{color:Y===0?"var(--success)":"inherit"},children:u.receivedQty||0}),e.jsx("td",{children:e.jsx("input",{type:"number",className:"form-input",value:ee.receivedQty||"",onChange:de=>{const ge=[...Re.deliveries];ge[T]={...ge[T],receivedQty:parseInt(de.target.value)||0},se(Te=>({...Te,deliveries:ge}))},min:0,max:Y,style:{width:"60px",padding:"0.25rem",textAlign:"center"}})}),e.jsx("td",{children:e.jsx("input",{type:"number",className:"form-input",value:ee.problemQty||"",onChange:de=>{const ge=[...Re.deliveries];ge[T]={...ge[T],problemQty:parseInt(de.target.value)||0},se(Te=>({...Te,deliveries:ge}))},min:0,style:{width:"60px",padding:"0.25rem",textAlign:"center"}})}),e.jsx("td",{children:ee.problemQty>0&&e.jsxs("select",{className:"form-select",value:ee.problemType||"",onChange:de=>{const ge=[...Re.deliveries];ge[T]={...ge[T],problemType:de.target.value},se(Te=>({...Te,deliveries:ge}))},style:{padding:"0.25rem",fontSize:"0.75rem"},children:[e.jsx("option",{value:"",children:"Sein..."}),e.jsx("option",{value:"broken",children:" Krk"}),e.jsx("option",{value:"missing",children:" Eksik"}),e.jsx("option",{value:"wrong",children:" Yanl"}),e.jsx("option",{value:"other",children:" Dier"})]})})]},T)})})]})}),e.jsxs("div",{className:"form-group",style:{marginTop:"1rem"},children:[e.jsx("label",{className:"form-label",children:"Teslimat Notu"}),e.jsx("input",{type:"text",className:"form-input",value:Re.deliveryNote,onChange:u=>se(T=>({...T,deliveryNote:u.target.value})),placeholder:"Opsiyonel not..."})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"0.5rem",marginTop:"1.5rem"},children:[e.jsx("button",{className:"btn btn-ghost",onClick:()=>ie(!1),children:"ptal"}),e.jsx("button",{className:"btn btn-success",disabled:i,onClick:async()=>{if(!Re.deliveries.some(T=>T.receivedQty>0||T.problemQty>0)){alert("En az bir teslim miktar girin");return}try{o(!0),await OS(he.id,Re);const T=await Eu(t.id);H(T||{orders:[],summary:{}}),ie(!1)}catch(T){l(Ia(T))}finally{o(!1)}},children:i?"Kaydediliyor...":" Teslim Kaydet"})]})]})}),un("assembly")&&e.jsxs("div",{className:"card",children:[ae&&e.jsxs("div",{style:{background:"linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%)",borderBottom:"1px solid var(--color-border)",padding:"12px 16px",display:"flex",alignItems:"center",gap:10,color:"#475569"},children:[e.jsx("span",{style:{fontSize:18},children:""}),e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:600,fontSize:13},children:"Ariv Grnm"}),e.jsx("div",{style:{fontSize:11,opacity:.8},children:"Bu aama tamamland. Sadece grntleme modundasnz."})]})]}),t.deliveryType==="demonte"&&e.jsxs("div",{style:{background:"linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%)",borderBottom:"1px solid #60a5fa",padding:"16px",display:"flex",alignItems:"center",gap:12,color:"#1e40af"},children:[e.jsx("span",{style:{fontSize:28},children:""}),e.jsxs("div",{style:{flex:1},children:[e.jsx("div",{style:{fontWeight:600,fontSize:15},children:"Demonte / Fabrikadan Teslim"}),e.jsx("div",{style:{fontSize:12,opacity:.8,marginTop:4},children:"Bu i montajsz olarak teslim edilecek. Montaj grevleri oluturulmad."})]}),!ae&&t.status==="TESLIME_HAZIR"&&e.jsx("button",{className:"btn btn-primary",disabled:i,onClick:async()=>{if(confirm("Teslim onayland m?  finans kapan aamasna geecek."))try{o(!0),await Gt(t.id,{status:"MUHASEBE_BEKLIYOR"});const u=await tc(t.id);s(_s(u))}catch(u){alert(Ia(u))}finally{o(!1)}},children:" Teslim Onayland"})]}),t.deliveryType!=="demonte"&&(($g=L.roles)==null?void 0:$g.length)>0&&e.jsxs("div",{style:{padding:"1rem",background:"var(--bg-secondary)",borderBottom:"1px solid var(--border-color)"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.75rem"},children:[e.jsx("h4",{style:{margin:0,fontSize:"0.9rem"},children:" Montaj Grevleri"}),e.jsx("a",{href:"/isler/montaj-takip/planlanan",style:{fontSize:"0.8rem",color:"var(--primary)"},children:"Tmn Gr "})]}),e.jsxs("div",{style:{display:"flex",gap:"1rem",flexWrap:"wrap",marginBottom:"0.75rem"},children:[e.jsxs("div",{style:{padding:"0.5rem 0.75rem",background:"var(--success)",color:"#fff",borderRadius:6,fontSize:"0.8rem"},children:[" ",((_g=L.summary)==null?void 0:_g.completedTasks)||0," Tamamland"]}),e.jsxs("div",{style:{padding:"0.5rem 0.75rem",background:"var(--warning)",color:"#fff",borderRadius:6,fontSize:"0.8rem"},children:[" ",((Fg=L.summary)==null?void 0:Fg.inProgressTasks)||0," Devam Ediyor"]}),e.jsxs("div",{style:{padding:"0.5rem 0.75rem",background:"var(--info)",color:"#fff",borderRadius:6,fontSize:"0.8rem"},children:[" ",((Wg=L.summary)==null?void 0:Wg.pendingTasks)||0," Bekliyor"]}),((Ug=L.summary)==null?void 0:Ug.pendingIssues)>0&&e.jsxs("div",{style:{padding:"0.5rem 0.75rem",background:"var(--danger)",color:"#fff",borderRadius:6,fontSize:"0.8rem"},children:[" ",(Kg=L.summary)==null?void 0:Kg.pendingIssues," Sorun"]})]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:(Hg=L.roles)==null?void 0:Hg.map(u=>e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.5rem 0.75rem",background:u.isComplete?"rgba(34, 197, 94, 0.1)":"#fff",borderRadius:6,border:`1px solid ${u.isComplete?"var(--success)":"var(--border-color)"}`},children:[e.jsx("span",{children:u.isComplete?"":""}),e.jsx("span",{style:{fontWeight:500,flex:1},children:u.roleName}),e.jsxs("span",{style:{fontSize:"0.75rem",color:"var(--text-muted)"},children:[u.completedCount,"/",u.totalCount," aama"]}),e.jsx("div",{style:{width:80,height:6,background:"var(--border-color)",borderRadius:3,overflow:"hidden"},children:e.jsx("div",{style:{width:`${u.completedCount/u.totalCount*100}%`,height:"100%",background:u.isComplete?"var(--success)":"var(--primary)",transition:"width 0.3s"}})})]},u.roleId))}),((Vg=L.summary)==null?void 0:Vg.allCompleted)&&e.jsx("div",{style:{marginTop:"0.75rem",padding:"0.75rem",background:"linear-gradient(135deg, rgba(34, 197, 94, 0.1), rgba(34, 197, 94, 0.05))",borderRadius:6,border:"1px solid var(--success)",textAlign:"center",color:"var(--success)",fontWeight:600},children:" Tm montaj grevleri tamamland!"})]}),e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Montaj Termin"})}),e.jsxs("div",{className:"card-body grid grid-1",style:{gap:12},children:[e.jsxs("div",{className:"grid grid-3",style:{gap:12},children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Montaj Tarihi"}),e.jsx(gt,{value:((qg=R.assemblyDate)==null?void 0:qg.split("T")[0])||R.assemblyDate||"",onChange:u=>{const T=R.assemblyTime||"09:00";Ne(Y=>({...Y,assemblyDate:u?`${u}T${T}`:""}))}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Saat"}),e.jsx("input",{className:"form-input",type:"time",value:(Yg=R.assemblyDate)!=null&&Yg.includes("T")?(Gg=R.assemblyDate.split("T")[1])==null?void 0:Gg.slice(0,5):"09:00",onChange:u=>{var Y;const T=((Y=R.assemblyDate)==null?void 0:Y.split("T")[0])||"";T&&Ne(ee=>({...ee,assemblyDate:`${T}T${u.target.value}`}))}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Ekip"}),e.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:4,marginBottom:8},children:R.assemblyTeam.map(u=>{const T=pe.find(Y=>Y.id===u);return T?e.jsxs("span",{style:{background:"#4f46e5",color:"#fff",padding:"4px 10px",borderRadius:16,fontSize:13,display:"flex",alignItems:"center",gap:6},children:[T.ad,e.jsx("button",{type:"button",onClick:()=>Ne(Y=>({...Y,assemblyTeam:Y.assemblyTeam.filter(ee=>ee!==u)})),style:{background:"transparent",border:"none",color:"#fff",cursor:"pointer",padding:0,fontSize:14,lineHeight:1},children:""})]},u):null})}),e.jsxs("select",{className:"form-input",value:"",onChange:u=>{u.target.value&&!R.assemblyTeam.includes(u.target.value)&&Ne(T=>({...T,assemblyTeam:[...T.assemblyTeam,u.target.value]}))},children:[e.jsx("option",{value:"",children:"Ekip ekle..."}),pe.filter(u=>!R.assemblyTeam.includes(u.id)).map(u=>e.jsx("option",{value:u.id,children:u.ad},u.id))]})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Montaj Notu"}),e.jsx("textarea",{className:"form-textarea",placeholder:"Montaj notu, adres detaylar vb.",value:R.assemblyNote,onChange:u=>Ne(T=>({...T,assemblyNote:u.target.value}))})]}),e.jsxs("div",{className:"btn-group",style:{gap:8},children:[e.jsx("button",{className:"btn btn-primary",type:"button",disabled:i||!R.assemblyDate,onClick:async()=>{var T;const u=((T=R.assemblyDate)==null?void 0:T.split("T")[0])||R.assemblyDate;await tt(async()=>{var ee,de;await mj(t.id,{date:u,note:R.assemblyNote||""});const Y=Array.isArray(R.assemblyTeam)?R.assemblyTeam.join(", "):R.assemblyTeam;if(await u6(t.id,{date:R.assemblyDate,note:R.assemblyNote,team:Y}),R.assemblyTeam.length>0){const ge=R.assemblyTeam.map(Te=>{var ze;return((ze=pe.find(Fe=>Fe.id===Te))==null?void 0:ze.ad)||Te}).join(", ");try{await zS({baslik:`Montaj: ${(r==null?void 0:r.name)||t.title||t.id}`,aciklama:`: ${t.id}
Mteri: ${(r==null?void 0:r.name)||"-"}
Adres: ${(r==null?void 0:r.address)||"-"}
Not: ${R.assemblyNote||"-"}
Ekip: ${ge}`,oncelik:"high",durum:"todo",baslangicTarihi:((ee=R.assemblyDate)==null?void 0:ee.split("T")[0])||"",bitisTarihi:((de=R.assemblyDate)==null?void 0:de.split("T")[0])||"",jobId:t.id,teamIds:R.assemblyTeam})}catch(Te){console.warn("Grev oluturulamad:",Te)}}},{transition:t.status})},children:" Termin Kaydet"}),e.jsx("button",{className:"btn btn-success",type:"button",disabled:i||((Jg=L.roles)==null?void 0:Jg.length)>0&&!((Qg=L.summary)!=null&&Qg.allCompleted),title:((Xg=L.roles)==null?void 0:Xg.length)>0&&!((Zg=L.summary)!=null&&Zg.allCompleted)?` ${((ey=L.summary)==null?void 0:ey.totalTasks)-((ty=L.summary)==null?void 0:ty.completedTasks)} montaj grevi bekliyor`:"Montaj tamamla ve finansa ge",onClick:()=>{var u,T,Y,ee;if(((u=L.roles)==null?void 0:u.length)>0&&!((T=L.summary)!=null&&T.allCompleted)){const de=((Y=L.summary)==null?void 0:Y.totalTasks)-((ee=L.summary)==null?void 0:ee.completedTasks);if(!confirm(` ${de} montaj grevi henz tamamlanmad.

Yine de ii finansa geirmek istiyor musunuz?`))return}tt(async()=>{const de=Array.isArray(R.assemblyTeam)?R.assemblyTeam.join(", "):R.assemblyTeam,ge=await m6(t.id,{date:R.assemblyDate,note:R.assemblyNote,team:de,completed:!0});return await Je("assembly.completed","Montaj tamamland",{team:de}),ge})},children:" Montaj Bitti  Finansa Ge"})]})]})]}),un("finance")&&e.jsxs("div",{className:"card",children:[ae&&e.jsxs("div",{style:{background:"linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%)",borderBottom:"1px solid var(--color-border)",padding:"12px 16px",display:"flex",alignItems:"center",gap:10,color:"#475569"},children:[e.jsx("span",{style:{fontSize:18},children:""}),e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:600,fontSize:13},children:"Ariv Grnm"}),e.jsx("div",{style:{fontSize:11,opacity:.8},children:"Bu aama tamamland. Sadece grntleme modundasnz."})]})]}),e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Son Mutabakat (Kapan)"})}),e.jsxs("div",{className:"card-body grid grid-1",style:{gap:16},children:[e.jsxs("div",{className:"card subtle-card",children:[e.jsx("div",{className:"card-header",style:{padding:"12px 16px"},children:e.jsx("h4",{className:"card-title",style:{fontSize:14},children:"Finansal zet"})}),e.jsx("div",{className:"card-body",style:{padding:16},children:e.jsxs("div",{className:"grid grid-2",style:{gap:16},children:[e.jsxs("div",{children:[e.jsxs("div",{className:"metric-row",children:[e.jsx("span",{className:"metric-label",children:"Teklif Tutar"}),e.jsxs("span",{className:"metric-value",children:[Le(Mt)," "]})]}),e.jsxs("div",{className:"metric-row",children:[e.jsx("span",{className:"metric-label",children:"n Alnan"}),e.jsxs("span",{className:"metric-value",children:[Le(Dn((sy=(ny=t.approval)==null?void 0:ny.paymentPlan)==null?void 0:sy.cash)+Dn((ay=(ry=t.approval)==null?void 0:ry.paymentPlan)==null?void 0:ay.card)+Dn((iy=(ly=t.approval)==null?void 0:ly.paymentPlan)==null?void 0:iy.cheque))," "]})]}),e.jsxs("div",{className:"metric-row",children:[e.jsx("span",{className:"metric-label",children:"Teslimat Sonras"}),e.jsxs("span",{className:"metric-value",children:[Le(Dn((cy=(oy=t.approval)==null?void 0:oy.paymentPlan)==null?void 0:cy.afterDelivery))," "]})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"metric-row",children:[e.jsx("span",{className:"metric-label",children:"Beklenen Toplam"}),e.jsxs("span",{className:"metric-value",children:[Le(Dn((uy=(dy=t.approval)==null?void 0:dy.paymentPlan)==null?void 0:uy.cash)+Dn((py=(my=t.approval)==null?void 0:my.paymentPlan)==null?void 0:py.card)+Dn((fy=(hy=t.approval)==null?void 0:hy.paymentPlan)==null?void 0:fy.cheque)+Dn((yy=(gy=t.approval)==null?void 0:gy.paymentPlan)==null?void 0:yy.afterDelivery))," "]})]}),Math.abs(Mt-(Dn((vy=(xy=t.approval)==null?void 0:xy.paymentPlan)==null?void 0:vy.cash)+Dn((by=(jy=t.approval)==null?void 0:jy.paymentPlan)==null?void 0:by.card)+Dn((Ny=(Sy=t.approval)==null?void 0:Sy.paymentPlan)==null?void 0:Ny.cheque)+Dn((Cy=(ky=t.approval)==null?void 0:ky.paymentPlan)==null?void 0:Cy.afterDelivery)))>1&&e.jsx("div",{className:"badge badge-warning",style:{marginTop:8},children:"deme plan teklif tutaryla elemiyor!"})]})]})})]}),e.jsxs("div",{className:"card subtle-card",children:[e.jsx("div",{className:"card-header",style:{padding:"12px 16px"},children:e.jsx("h4",{className:"card-title",style:{fontSize:14},children:" Bitiminde Alnan Tutar"})}),e.jsxs("div",{className:"card-body",style:{padding:16},children:[e.jsxs("div",{className:"grid grid-4",style:{gap:12},children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Nakit"}),e.jsx(gn,{placeholder:"0",value:R.financeCash,onChange:u=>Ne(T=>({...T,financeCash:u}))})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Kredi Kart"}),e.jsx(gn,{placeholder:"0",value:R.financeCard,onChange:u=>Ne(T=>({...T,financeCard:u}))})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"ek"}),e.jsx(gn,{placeholder:"0",value:R.financeCheque,onChange:u=>Ne(T=>({...T,financeCheque:u}))})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Toplam Alnan"}),e.jsxs("div",{className:"form-input",style:{background:"#f9fafb",display:"flex",alignItems:"center"},children:[Le(Number(R.financeCash||0)+Number(R.financeCard||0)+Number(R.financeCheque||0))," "]})]})]}),(()=>{var ge,Te,ze,Fe,Xe,We;const u=Dn((Te=(ge=t.approval)==null?void 0:ge.paymentPlan)==null?void 0:Te.cash)+Dn((Fe=(ze=t.approval)==null?void 0:ze.paymentPlan)==null?void 0:Fe.card)+Dn((We=(Xe=t.approval)==null?void 0:Xe.paymentPlan)==null?void 0:We.cheque),T=Number(R.financeCash||0)+Number(R.financeCard||0)+Number(R.financeCheque||0),Y=Number(R.discountAmount||0),ee=u+T+Y,de=Mt-ee;return e.jsxs("div",{style:{marginTop:12,padding:12,background:de===0?"#ecfdf5":"#fef2f2",borderRadius:8},children:[e.jsxs("div",{className:"metric-row",children:[e.jsx("span",{className:"metric-label",children:"n Alnan"}),e.jsxs("span",{children:[Le(u)," "]})]}),e.jsxs("div",{className:"metric-row",children:[e.jsx("span",{className:"metric-label",children:"imdi Alnan"}),e.jsxs("span",{children:[Le(T)," "]})]}),Y>0&&e.jsxs("div",{className:"metric-row",children:[e.jsx("span",{className:"metric-label",children:"skonto"}),e.jsxs("span",{children:[Le(Y)," "]})]}),e.jsx("hr",{style:{margin:"8px 0",borderColor:"rgba(0,0,0,0.1)"}}),e.jsxs("div",{className:"metric-row",children:[e.jsx("span",{className:"metric-label",style:{fontWeight:700},children:"Toplam"}),e.jsxs("span",{style:{fontWeight:700},children:[Le(ee)," "]})]}),e.jsxs("div",{className:"metric-row",style:{color:de===0?"#059669":"#dc2626"},children:[e.jsx("span",{className:"metric-label",children:"Bakiye Fark"}),e.jsxs("span",{style:{fontWeight:700},children:[de>0?`+${Le(de)}`:Le(de)," "]})]}),de!==0&&e.jsx("div",{className:"badge badge-danger",style:{marginTop:8},children:de>0?"Eksik tahsilat!":"Fazla tahsilat!"})]})})()]})]}),e.jsxs("div",{className:"grid grid-2",style:{gap:12},children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"skonto Tutar (opsiyonel)"}),e.jsx(gn,{placeholder:"0",value:R.discountAmount,onChange:u=>Ne(T=>({...T,discountAmount:u}))})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"skonto Notu"}),e.jsx("input",{className:"form-input",placeholder:"skonto sebebi",value:R.discountNote,onChange:u=>Ne(T=>({...T,discountNote:u.target.value}))})]})]}),e.jsx("button",{className:"btn btn-success",type:"button",disabled:i,onClick:()=>tt(()=>p6(t.id,{total:Number(R.financeTotal||Mt),payments:{cash:Number(R.financeCash||0),card:Number(R.financeCard||0),cheque:Number(R.financeCheque||0)},discount:Number(R.discountAmount||0)>0?{amount:Number(R.discountAmount||0),note:R.discountNote||""}:null})),children:"i Kapat (Bakiye 0 olmal)"})]})]}),As&&un("service_schedule")&&e.jsxs("div",{className:"card",children:[ae&&e.jsxs("div",{style:{background:"linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%)",borderBottom:"1px solid var(--color-border)",padding:"12px 16px",display:"flex",alignItems:"center",gap:10,color:"#475569"},children:[e.jsx("span",{style:{fontSize:18},children:""}),e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:600,fontSize:13},children:"Ariv Grnm"}),e.jsx("div",{style:{fontSize:11,opacity:.8},children:"Bu aama tamamland. Sadece grntleme modundasnz."})]})]}),e.jsxs("div",{className:"card-header",children:[e.jsx("h3",{className:"card-title",children:" Servis Randevusu"}),e.jsx("span",{className:"badge badge-warning",children:"Randevu Belirlenmedi"})]}),e.jsxs("div",{className:"card-body grid grid-1",style:{gap:16},children:[e.jsx("div",{className:"card subtle-card",style:{padding:12},children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:600},children:t.customerName}),e.jsx("div",{className:"text-muted",style:{fontSize:12},children:t.title})]}),e.jsxs("div",{style:{textAlign:"right"},children:[e.jsx("div",{className:"text-muted",style:{fontSize:12},children:" Kodu"}),e.jsx("div",{style:{fontWeight:600},children:t.id})]})]})}),e.jsxs("div",{className:"grid grid-3",style:{gap:12},children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:" Randevu Tarihi *"}),e.jsx(gt,{value:R.serviceAppointmentDate||"",onChange:u=>Ne(T=>({...T,serviceAppointmentDate:u}))})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:" Saat *"}),e.jsx("input",{className:"form-input",type:"time",value:R.serviceAppointmentTime||"10:00",onChange:u=>Ne(T=>({...T,serviceAppointmentTime:u.target.value}))})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:" Sabit Servis creti () *"}),e.jsx(gn,{placeholder:"rn: 500",value:R.serviceFixedFee||"",onChange:u=>Ne(T=>({...T,serviceFixedFee:u}))})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:" Mteri Talebi / Adres / Not"}),e.jsx("textarea",{className:"form-textarea",placeholder:"Mterinin ikayeti, servis adresi, zel notlar...",rows:3,value:R.serviceNote||"",onChange:u=>Ne(T=>({...T,serviceNote:u.target.value}))})]}),(!R.serviceAppointmentDate||!R.serviceFixedFee)&&e.jsx("div",{style:{padding:12,background:"var(--color-warning-bg)",borderRadius:8,fontSize:13},children:" Randevu tarihi ve servis creti zorunludur."}),e.jsx("button",{className:"btn btn-success",type:"button",style:{padding:"14px 24px",fontSize:16},disabled:i||!R.serviceAppointmentDate||!R.serviceFixedFee,onClick:()=>tt(()=>Gt(t.id,{status:"SERVIS_RANDEVULU",service:{...t.service,fixedFee:Number(R.serviceFixedFee||0),note:R.serviceNote,visits:[{id:1,appointmentDate:R.serviceAppointmentDate,appointmentTime:R.serviceAppointmentTime||"10:00",status:"scheduled"}]}}),{transition:"SERVIS_RANDEVULU"}),children:" Randevuyu Kaydet ve Onayla"})]})]}),As&&un("service_start")&&e.jsxs("div",{className:"card",children:[ae&&e.jsxs("div",{style:{background:"linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%)",borderBottom:"1px solid var(--color-border)",padding:"12px 16px",display:"flex",alignItems:"center",gap:10,color:"#475569"},children:[e.jsx("span",{style:{fontSize:18},children:""}),e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:600,fontSize:13},children:"Ariv Grnm"}),e.jsx("div",{style:{fontSize:11,opacity:.8},children:"Bu aama tamamland. Sadece grntleme modundasnz."})]})]}),e.jsxs("div",{className:"card-header",children:[e.jsx("h3",{className:"card-title",children:" Servise Bala"}),e.jsx("span",{className:"badge badge-primary",children:"Randevu Alnd"})]}),e.jsxs("div",{className:"card-body grid grid-1",style:{gap:16},children:[e.jsxs("div",{className:"card subtle-card",style:{padding:16},children:[e.jsxs("div",{className:"grid grid-3",style:{gap:16},children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-muted",style:{fontSize:12},children:"MTER"}),e.jsx("div",{style:{fontWeight:600},children:t.customerName})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-muted",style:{fontSize:12},children:"RANDEVU"}),e.jsx("div",{style:{fontWeight:600},children:(()=>{var T,Y;const u=(Y=(T=t.service)==null?void 0:T.visits)==null?void 0:Y.find(ee=>ee.status==="scheduled");return u?`${new Date(u.appointmentDate).toLocaleDateString("tr-TR")} ${u.appointmentTime}`:"-"})()})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-muted",style:{fontSize:12},children:"SABT CRET"}),e.jsxs("div",{style:{fontWeight:600,color:"var(--color-primary)"},children:[Le(((wy=t.service)==null?void 0:wy.fixedFee)||0)," "]})]})]}),((Ty=t.service)==null?void 0:Ty.note)&&e.jsxs("div",{style:{marginTop:12,padding:10,background:"var(--color-warning-bg)",borderRadius:6},children:[e.jsx("strong",{children:"Not:"})," ",t.service.note]})]}),e.jsxs("div",{style:{padding:16,background:"var(--color-bg-secondary)",borderRadius:12},children:[e.jsx("h4",{style:{marginBottom:12},children:" Gidi Bilgilerini Girin"}),e.jsxs("div",{className:"grid grid-2",style:{gap:12},children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Gidi Tarihi *"}),e.jsx(gt,{value:R.serviceVisitDate||new Date().toISOString().split("T")[0],onChange:u=>Ne(T=>({...T,serviceVisitDate:u}))})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Gidi Saati *"}),e.jsx("input",{className:"form-input",type:"time",value:R.serviceVisitTime||new Date().toTimeString().slice(0,5),onChange:u=>Ne(T=>({...T,serviceVisitTime:u.target.value}))})]})]})]}),e.jsx("button",{className:"btn btn-success",type:"button",style:{padding:"14px 24px",fontSize:16},disabled:i,onClick:()=>{var Y;const u=[...((Y=t.service)==null?void 0:Y.visits)||[]],T=u.findIndex(ee=>ee.status==="scheduled");T>=0&&(u[T]={...u[T],visitedAt:`${R.serviceVisitDate||new Date().toISOString().split("T")[0]}T${R.serviceVisitTime||new Date().toTimeString().slice(0,5)}`,status:"in_progress"}),tt(()=>Gt(t.id,{status:"SERVIS_YAPILIYOR",service:{...t.service,visits:u}}),{transition:"SERVIS_YAPILIYOR"})},children:" Servise Bala"})]})]}),As&&un("service_work")&&e.jsxs("div",{className:"card",children:[ae&&e.jsxs("div",{style:{background:"linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%)",borderBottom:"1px solid var(--color-border)",padding:"12px 16px",display:"flex",alignItems:"center",gap:10,color:"#475569"},children:[e.jsx("span",{style:{fontSize:18},children:""}),e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:600,fontSize:13},children:"Ariv Grnm"}),e.jsx("div",{style:{fontSize:11,opacity:.8},children:"Bu aama tamamland. Sadece grntleme modundasnz."})]})]}),e.jsxs("div",{className:"card-header",children:[e.jsx("h3",{className:"card-title",children:" Servis almas"}),e.jsx("span",{className:`badge badge-${t.status==="SERVIS_DEVAM_EDIYOR"?"warning":"primary"}`,children:t.status==="SERVIS_DEVAM_EDIYOR"?"Devam Ziyareti":`Ziyaret #${((Dy=(zy=t.service)==null?void 0:zy.visits)==null?void 0:Dy.length)||1}`})]}),e.jsxs("div",{className:"card-body grid grid-1",style:{gap:16},children:[((Ay=(Ry=t.service)==null?void 0:Ry.visits)==null?void 0:Ay.filter(u=>u.status==="completed").length)>0&&e.jsxs("div",{className:"card subtle-card",children:[e.jsx("div",{className:"card-header",style:{padding:"12px 16px"},children:e.jsx("h4",{className:"card-title",style:{fontSize:14},children:" nceki Ziyaretler"})}),e.jsx("div",{className:"card-body",style:{padding:0},children:t.service.visits.filter(u=>u.status==="completed").map((u,T)=>e.jsxs("div",{style:{padding:"12px 16px",borderBottom:"1px solid var(--color-border)",background:T%2===0?"transparent":"var(--color-bg-secondary)"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsxs("strong",{children:["#",u.id]})," - ",new Date(u.appointmentDate).toLocaleDateString("tr-TR")," ",u.appointmentTime]}),e.jsx("span",{className:"badge badge-success",children:" Tamamland"})]}),u.visitedAt&&e.jsxs("div",{className:"text-muted",style:{fontSize:12,marginTop:4},children:["Gidi: ",new Date(u.visitedAt).toLocaleString("tr-TR")]}),u.workNote&&e.jsxs("div",{style:{marginTop:8,fontSize:13},children:[e.jsx("strong",{children:"lem:"})," ",u.workNote]}),u.materials&&e.jsxs("div",{style:{marginTop:4,fontSize:13},children:[e.jsx("strong",{children:"Malzeme:"})," ",u.materials]}),u.extraCost>0&&e.jsxs("div",{style:{marginTop:4,fontSize:13,color:"var(--color-primary)"},children:[e.jsx("strong",{children:"Ekstra:"})," ",Le(u.extraCost)," "]})]},u.id))})]}),t.status==="SERVIS_DEVAM_EDIYOR"&&e.jsxs("div",{className:"card",style:{border:"2px solid var(--color-warning)",background:"var(--color-warning-bg)"},children:[e.jsx("div",{className:"card-header",style:{padding:"12px 16px"},children:e.jsx("h4",{className:"card-title",style:{fontSize:14},children:" Yeni Randevu Belirle"})}),e.jsxs("div",{className:"card-body",style:{padding:16},children:[e.jsxs("div",{className:"grid grid-3",style:{gap:12},children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Randevu Tarihi *"}),e.jsx(gt,{value:R.serviceNewAppointmentDate||"",onChange:u=>Ne(T=>({...T,serviceNewAppointmentDate:u}))})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Saat *"}),e.jsx("input",{className:"form-input",type:"time",value:R.serviceNewAppointmentTime||"10:00",onChange:u=>Ne(T=>({...T,serviceNewAppointmentTime:u.target.value}))})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Gidi Tarihi"}),e.jsx(gt,{value:R.serviceVisitDate||"",onChange:u=>Ne(T=>({...T,serviceVisitDate:u}))})]})]}),e.jsxs("div",{className:"form-group",style:{marginTop:12},children:[e.jsx("label",{className:"form-label",children:"Not"}),e.jsx("input",{className:"form-input",placeholder:"Eksik para, ilave ilem vb...",value:R.serviceNewAppointmentNote||"",onChange:u=>Ne(T=>({...T,serviceNewAppointmentNote:u.target.value}))})]}),e.jsx("button",{className:"btn btn-primary",type:"button",style:{marginTop:12},disabled:i||!R.serviceNewAppointmentDate,onClick:()=>{var Y;const u=[...((Y=t.service)==null?void 0:Y.visits)||[]],T={id:u.length+1,appointmentDate:R.serviceNewAppointmentDate,appointmentTime:R.serviceNewAppointmentTime||"10:00",note:R.serviceNewAppointmentNote,visitedAt:R.serviceVisitDate?`${R.serviceVisitDate}T${R.serviceVisitTime||"10:00"}`:null,status:R.serviceVisitDate?"in_progress":"scheduled"};u.push(T),tt(()=>Gt(t.id,{status:R.serviceVisitDate?"SERVIS_YAPILIYOR":"SERVIS_RANDEVULU",service:{...t.service,visits:u}}),{transition:R.serviceVisitDate?"SERVIS_YAPILIYOR":"SERVIS_RANDEVULU"})},children:R.serviceVisitDate?" Randevuyu Kaydet ve Servise Git":" Randevuyu Kaydet"})]})]}),t.status==="SERVIS_YAPILIYOR"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"card subtle-card",style:{padding:16},children:[e.jsxs("div",{className:"grid grid-3",style:{gap:16},children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-muted",style:{fontSize:12},children:"MTER"}),e.jsx("div",{style:{fontWeight:600},children:t.customerName})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-muted",style:{fontSize:12},children:"SABT CRET"}),e.jsxs("div",{style:{fontWeight:600,color:"var(--color-primary)"},children:[Le(((Ey=t.service)==null?void 0:Ey.fixedFee)||0)," "]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-muted",style:{fontSize:12},children:"TOPLAM ZYARET"}),e.jsx("div",{style:{fontWeight:600},children:((My=(Iy=t.service)==null?void 0:Iy.visits)==null?void 0:My.length)||1})]})]}),((Py=t.service)==null?void 0:Py.note)&&e.jsxs("div",{style:{marginTop:12,padding:10,background:"var(--color-warning-bg)",borderRadius:6},children:[e.jsx("strong",{children:"Mteri Talebi:"})," ",t.service.note]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:" Yaplan lem Detay *"}),e.jsx("textarea",{className:"form-textarea",placeholder:"Servis srasnda yaplan ilemleri detayl yazn...",rows:3,value:R.serviceWorkNote||"",onChange:u=>Ne(T=>({...T,serviceWorkNote:u.target.value}))})]}),e.jsxs("div",{className:"grid grid-2",style:{gap:12},children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:" Kullanlan Malzemeler"}),e.jsx("textarea",{className:"form-textarea",placeholder:"Malzeme listesi...",rows:2,value:R.serviceMaterials||"",onChange:u=>Ne(T=>({...T,serviceMaterials:u.target.value}))})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:" Bu Ziyaret Ekstra Malzeme Tutar ()"}),e.jsx(gn,{placeholder:"0",value:R.serviceExtraCost||"",onChange:u=>Ne(T=>({...T,serviceExtraCost:u}))}),e.jsx("div",{className:"text-muted",style:{fontSize:11,marginTop:4},children:"Sabit crete ek malzeme tutar"})]})]}),e.jsxs("div",{className:"card subtle-card",children:[e.jsxs("div",{className:"card-header",style:{padding:"12px 16px"},children:[e.jsx("h4",{className:"card-title",style:{fontSize:14},children:" Fotoraflar (stee Bal)"}),nt&&e.jsx(kt,{size:"small"})]}),e.jsx("div",{className:"card-body",style:{padding:16},children:e.jsxs("div",{className:"grid grid-2",style:{gap:12},children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"ncesi"}),e.jsxs("div",{className:"file-upload-zone",children:[e.jsx("input",{type:"file",id:"service-before-photo",accept:".jpg,.jpeg,.png,.gif,.webp",style:{display:"none"},onChange:async u=>{var Y;const T=(Y=u.target.files)==null?void 0:Y[0];T&&(await an(T,"servis_oncesi","Servis ncesi"),u.target.value="")}}),e.jsx("label",{htmlFor:"service-before-photo",className:"btn btn-secondary btn-small",style:{cursor:"pointer"},children:" Se"}),Ge.some(u=>u.type==="servis_oncesi")&&e.jsx("span",{className:"badge badge-success",style:{marginLeft:8},children:""})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Sonras"}),e.jsxs("div",{className:"file-upload-zone",children:[e.jsx("input",{type:"file",id:"service-after-photo",accept:".jpg,.jpeg,.png,.gif,.webp",style:{display:"none"},onChange:async u=>{var Y;const T=(Y=u.target.files)==null?void 0:Y[0];T&&(await an(T,"servis_sonrasi","Servis Sonras"),u.target.value="")}}),e.jsx("label",{htmlFor:"service-after-photo",className:"btn btn-secondary btn-small",style:{cursor:"pointer"},children:" Se"}),Ge.some(u=>u.type==="servis_sonrasi")&&e.jsx("span",{className:"badge badge-success",style:{marginLeft:8},children:""})]})]})]})})]}),e.jsxs("div",{style:{display:"flex",gap:12,marginTop:8},children:[e.jsx("button",{className:"btn btn-warning",type:"button",style:{flex:1},disabled:i||!R.serviceWorkNote,onClick:()=>{var Y;const u=[...((Y=t.service)==null?void 0:Y.visits)||[]],T=u.findIndex(ee=>ee.status==="in_progress");T>=0&&(u[T]={...u[T],workNote:R.serviceWorkNote,materials:R.serviceMaterials,extraCost:Number(R.serviceExtraCost||0),status:"completed",completedAt:new Date().toISOString()}),tt(()=>Gt(t.id,{status:"SERVIS_DEVAM_EDIYOR",service:{...t.service,visits:u}}),{transition:"SERVIS_DEVAM_EDIYOR"})},children:" Servis Devam Ediyor (Yeni Randevu)"}),e.jsx("button",{className:"btn btn-success",type:"button",style:{flex:1},disabled:i||!R.serviceWorkNote,onClick:()=>{var ee;const u=[...((ee=t.service)==null?void 0:ee.visits)||[]],T=u.findIndex(de=>de.status==="in_progress");T>=0&&(u[T]={...u[T],workNote:R.serviceWorkNote,materials:R.serviceMaterials,extraCost:Number(R.serviceExtraCost||0),status:"completed",completedAt:new Date().toISOString()});const Y=u.reduce((de,ge)=>de+(ge.extraCost||0),0);tt(()=>{var de;return Gt(t.id,{status:"SERVIS_ODEME_BEKLIYOR",service:{...t.service,visits:u,totalExtraCost:Y,totalCost:(((de=t.service)==null?void 0:de.fixedFee)||0)+Y}})},{transition:"SERVIS_ODEME_BEKLIYOR"})},children:" demeye Ge"})]}),!R.serviceWorkNote&&e.jsx("div",{className:"text-muted",style:{fontSize:12},children:' Devam etmek iin "Yaplan lem Detay" alann doldurun.'})]})]})]}),As&&un("service_payment")&&(()=>{var Xe,We,Kt,At,Ot;const u=((Xe=t.service)==null?void 0:Xe.fixedFee)||0,T=((We=t.service)==null?void 0:We.totalExtraCost)||0,Y=((Kt=t.service)==null?void 0:Kt.totalCost)||u+T,ee=Number(R.servicePaymentCash||0),de=Number(R.servicePaymentCard||0),ge=Number(R.servicePaymentTransfer||0),Te=Number(R.serviceDiscount||0),ze=ee+de+ge+Te,Fe=Y-ze;return e.jsxs("div",{className:"card",children:[ae&&e.jsxs("div",{style:{background:"linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%)",borderBottom:"1px solid var(--color-border)",padding:"12px 16px",display:"flex",alignItems:"center",gap:10,color:"#475569"},children:[e.jsx("span",{style:{fontSize:18},children:""}),e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:600,fontSize:13},children:"Ariv Grnm"}),e.jsx("div",{style:{fontSize:11,opacity:.8},children:"Bu aama tamamland. Sadece grntleme modundasnz."})]})]}),e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:" Servis deme"})}),e.jsxs("div",{className:"card-body grid grid-1",style:{gap:16},children:[((Ot=(At=t.service)==null?void 0:At.visits)==null?void 0:Ot.length)>0&&e.jsxs("div",{className:"card subtle-card",children:[e.jsx("div",{className:"card-header",style:{padding:"12px 16px"},children:e.jsxs("h4",{className:"card-title",style:{fontSize:14},children:[" Ziyaret zeti (",t.service.visits.length," ziyaret)"]})}),e.jsx("div",{className:"card-body",style:{padding:0},children:t.service.visits.filter(Me=>Me.status==="completed").map(Me=>e.jsx("div",{style:{padding:"12px 16px",borderBottom:"1px solid var(--color-border)"},children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsxs("div",{children:[e.jsxs("strong",{children:["#",Me.id]})," - ",new Date(Me.appointmentDate).toLocaleDateString("tr-TR"),e.jsx("div",{className:"text-muted",style:{fontSize:12},children:Me.workNote})]}),Me.extraCost>0&&e.jsxs("div",{style:{color:"var(--color-primary)",fontWeight:600},children:["+",Le(Me.extraCost)," "]})]})},Me.id))})]}),e.jsx("div",{className:"card",style:{background:"var(--color-bg-secondary)",border:"2px solid var(--color-border)"},children:e.jsx("div",{style:{padding:20},children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:8},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{children:"Sabit Servis creti"}),e.jsxs("span",{style:{fontWeight:600},children:[Le(u)," "]})]}),T>0&&e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{children:"Ekstra Malzeme Toplam"}),e.jsxs("span",{style:{fontWeight:600},children:[Le(T)," "]})]}),e.jsx("div",{style:{borderTop:"2px solid var(--color-border)",paddingTop:8,marginTop:8},children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{style:{fontSize:18,fontWeight:700},children:"TOPLAM"}),e.jsxs("span",{style:{fontSize:24,fontWeight:700,color:"var(--color-primary)"},children:[Le(Y)," "]})]})})]})})}),e.jsxs("div",{className:"card subtle-card",children:[e.jsx("div",{className:"card-header",style:{padding:"12px 16px"},children:e.jsx("h4",{className:"card-title",style:{fontSize:14},children:" deme Bilgileri"})}),e.jsxs("div",{className:"card-body",style:{padding:16},children:[e.jsxs("div",{className:"grid grid-3",style:{gap:12},children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:" Nakit"}),e.jsx(gn,{placeholder:"0",value:R.servicePaymentCash||"",onChange:Me=>Ne(He=>({...He,servicePaymentCash:Me}))})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:" Kredi Kart"}),e.jsx(gn,{placeholder:"0",value:R.servicePaymentCard||"",onChange:Me=>Ne(He=>({...He,servicePaymentCard:Me}))})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:" Havale/EFT"}),e.jsx(gn,{placeholder:"0",value:R.servicePaymentTransfer||"",onChange:Me=>Ne(He=>({...He,servicePaymentTransfer:Me}))})]})]}),e.jsx("div",{style:{marginTop:16,padding:12,background:"var(--color-bg-secondary)",borderRadius:8},children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("span",{children:"Alnan Toplam:"}),e.jsxs("span",{style:{fontWeight:600,fontSize:18},children:[Le(ee+de+ge)," "]})]})})]})]}),e.jsxs("div",{className:"card subtle-card",children:[e.jsx("div",{className:"card-header",style:{padding:"12px 16px"},children:e.jsx("h4",{className:"card-title",style:{fontSize:14},children:" skonto (stee Bal)"})}),e.jsxs("div",{className:"card-body",style:{padding:16},children:[Fe>0&&Te===0&&e.jsxs("div",{style:{marginBottom:12,padding:10,background:"var(--color-warning-bg)",borderRadius:6,color:"var(--color-warning-dark)"},children:[" Toplam tutara ",Le(Fe),"  eksik. skonto yaplacaksa aaya girin."]}),e.jsxs("div",{className:"grid grid-2",style:{gap:12},children:[e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:["skonto Tutar ",Fe>0&&Te===0?"*":""]}),e.jsx(gn,{placeholder:"0",value:R.serviceDiscount||"",onChange:Me=>Ne(He=>({...He,serviceDiscount:Me}))})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:["skonto Aklamas ",Te>0?"*":""]}),e.jsx("input",{className:"form-input",placeholder:"rn: Sadk mteri indirimi",value:R.serviceDiscountNote||"",onChange:Me=>Ne(He=>({...He,serviceDiscountNote:Me.target.value}))})]})]}),Te>0&&!R.serviceDiscountNote&&e.jsx("div",{className:"text-muted",style:{fontSize:12,marginTop:8,color:"var(--color-danger)"},children:" skonto tutar girildiyse aklama zorunludur."})]})]}),e.jsx("div",{style:{padding:16,borderRadius:12,background:Fe===0?"var(--color-success-bg)":Fe>0?"var(--color-warning-bg)":"var(--color-danger-bg)",border:`2px solid ${Fe===0?"var(--color-success)":Fe>0?"var(--color-warning)":"var(--color-danger)"}`},children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("span",{style:{fontWeight:600},children:"Bakiye:"}),e.jsx("span",{style:{fontWeight:700,fontSize:20,color:Fe===0?"var(--color-success)":Fe>0?"var(--color-warning-dark)":"var(--color-danger)"},children:Fe===0?" 0  (Tamam)":`${Le(Fe)} `})]})}),e.jsxs("div",{style:{display:"flex",gap:12,marginTop:8},children:[e.jsx("button",{className:"btn btn-warning",type:"button",style:{flex:1},disabled:i,onClick:()=>tt(()=>Gt(t.id,{status:"SERVIS_DEVAM_EDIYOR",service:{...t.service,payments:{cash:ee,card:de,transfer:ge},discount:Te>0?{amount:Te,note:R.serviceDiscountNote}:null}}),{transition:"SERVIS_DEVAM_EDIYOR"}),children:" Servis Devam Ediyor"}),e.jsx("button",{className:"btn btn-success",type:"button",style:{flex:1},disabled:i||Fe!==0||Te>0&&!R.serviceDiscountNote,onClick:()=>tt(()=>Gt(t.id,{status:"SERVIS_KAPALI",service:{...t.service,payments:{cash:ee,card:de,transfer:ge},discount:Te>0?{amount:Te,note:R.serviceDiscountNote}:null,paymentStatus:"paid",completedAt:new Date().toISOString()}}),{transition:"SERVIS_KAPALI"}),children:" Servisi Kapat"})]}),Fe!==0&&e.jsxs("div",{className:"text-muted",style:{fontSize:12,color:"var(--color-danger)"},children:[" Servisi kapatmak iin bakiye 0 olmal. Eksik: ",Le(Fe)," "]})]})]})})(),As&&un("service_done")&&(()=>{var ee,de,ge,Te,ze,Fe,Xe,We,Kt,At,Ot,Me,He,mt,ln,zn;const u=((ee=t.service)==null?void 0:ee.payments)||{},T=(u.cash||0)+(u.card||0)+(u.transfer||0),Y=((ge=(de=t.service)==null?void 0:de.discount)==null?void 0:ge.amount)||0;return e.jsxs("div",{className:"card",style:{border:"2px solid var(--color-success)"},children:[ae&&e.jsxs("div",{style:{background:"linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%)",borderBottom:"1px solid var(--color-border)",padding:"12px 16px",display:"flex",alignItems:"center",gap:10,color:"#475569"},children:[e.jsx("span",{style:{fontSize:18},children:""}),e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:600,fontSize:13},children:"Ariv Grnm"}),e.jsx("div",{style:{fontSize:11,opacity:.8},children:"Bu aama tamamland. Sadece grntleme modundasnz."})]})]}),e.jsxs("div",{className:"card-header",style:{background:"var(--color-success)",color:"white"},children:[e.jsx("h3",{className:"card-title",style:{color:"white"},children:" Servis Tamamland"}),e.jsx("span",{className:"badge",style:{background:"white",color:"var(--color-success)"},children:((Te=t.service)==null?void 0:Te.paymentStatus)==="paid"?"dendi":"deme Bekliyor"})]}),e.jsxs("div",{className:"card-body",style:{padding:20},children:[e.jsxs("div",{className:"grid grid-4",style:{gap:12,marginBottom:20},children:[e.jsxs("div",{style:{padding:16,background:"var(--color-success-bg)",borderRadius:12,textAlign:"center"},children:[e.jsx("div",{style:{fontSize:11,color:"var(--color-text-light)",marginBottom:4},children:"TOPLAM"}),e.jsxs("div",{style:{fontSize:20,fontWeight:700,color:"var(--color-success)"},children:[Le(((ze=t.service)==null?void 0:ze.totalCost)||0)," "]})]}),e.jsxs("div",{style:{padding:16,background:"var(--color-bg-secondary)",borderRadius:12,textAlign:"center"},children:[e.jsx("div",{style:{fontSize:11,color:"var(--color-text-light)",marginBottom:4},children:"ZYARET"}),e.jsx("div",{style:{fontSize:20,fontWeight:600},children:((Xe=(Fe=t.service)==null?void 0:Fe.visits)==null?void 0:Xe.length)||1})]}),e.jsxs("div",{style:{padding:16,background:"var(--color-bg-secondary)",borderRadius:12,textAlign:"center"},children:[e.jsx("div",{style:{fontSize:11,color:"var(--color-text-light)",marginBottom:4},children:"ALINAN"}),e.jsxs("div",{style:{fontSize:20,fontWeight:600},children:[Le(T)," "]})]}),e.jsxs("div",{style:{padding:16,background:"var(--color-bg-secondary)",borderRadius:12,textAlign:"center"},children:[e.jsx("div",{style:{fontSize:11,color:"var(--color-text-light)",marginBottom:4},children:"TARH"}),e.jsx("div",{style:{fontSize:12,fontWeight:600},children:(We=t.service)!=null&&We.completedAt?new Date(t.service.completedAt).toLocaleDateString("tr-TR"):"-"})]})]}),e.jsxs("div",{className:"card subtle-card",style:{marginBottom:16},children:[e.jsx("div",{className:"card-header",style:{padding:"10px 16px"},children:e.jsx("h4",{className:"card-title",style:{fontSize:13},children:" Mteri Bilgisi"})}),e.jsxs("div",{className:"card-body",style:{padding:16},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:600,fontSize:16},children:t.customerName}),e.jsx("div",{className:"text-muted",children:t.title})]}),e.jsxs("div",{style:{textAlign:"right"},children:[e.jsx("div",{className:"text-muted",style:{fontSize:11},children:" Kodu"}),e.jsx("div",{style:{fontWeight:600},children:t.id})]})]}),((Kt=t.service)==null?void 0:Kt.note)&&e.jsxs("div",{style:{marginTop:12,padding:10,background:"var(--color-bg-secondary)",borderRadius:6,fontSize:13},children:[e.jsx("strong",{children:"Mteri Talebi:"})," ",t.service.note]})]})]}),((Ot=(At=t.service)==null?void 0:At.visits)==null?void 0:Ot.length)>0&&e.jsxs("div",{className:"card subtle-card",style:{marginBottom:16},children:[e.jsx("div",{className:"card-header",style:{padding:"10px 16px"},children:e.jsx("h4",{className:"card-title",style:{fontSize:13},children:" Ziyaret Gemii"})}),e.jsx("div",{className:"card-body",style:{padding:0},children:t.service.visits.map((ft,rs)=>e.jsxs("div",{style:{padding:"12px 16px",borderBottom:rs<t.service.visits.length-1?"1px solid var(--color-border)":"none",background:rs%2===0?"transparent":"var(--color-bg-secondary)"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[e.jsxs("div",{style:{flex:1},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:4},children:[e.jsxs("strong",{children:["#",ft.id]}),e.jsx("span",{className:"badge badge-success",style:{fontSize:10},children:""})]}),e.jsxs("div",{style:{fontSize:12,color:"var(--color-text-light)"},children:[" Randevu: ",new Date(ft.appointmentDate).toLocaleDateString("tr-TR")," ",ft.appointmentTime]}),ft.visitedAt&&e.jsxs("div",{style:{fontSize:12,color:"var(--color-text-light)"},children:[" Gidi: ",new Date(ft.visitedAt).toLocaleString("tr-TR")]})]}),ft.extraCost>0&&e.jsxs("div",{style:{textAlign:"right"},children:[e.jsx("div",{style:{fontSize:11,color:"var(--color-text-light)"},children:"Ekstra"}),e.jsxs("div",{style:{fontWeight:600,color:"var(--color-primary)"},children:["+",Le(ft.extraCost)," "]})]})]}),ft.workNote&&e.jsxs("div",{style:{marginTop:8,fontSize:13,padding:8,background:"var(--color-bg-secondary)",borderRadius:4},children:[" ",ft.workNote]}),ft.materials&&e.jsxs("div",{style:{marginTop:4,fontSize:12,color:"var(--color-text-light)"},children:[" ",ft.materials]})]},ft.id))})]}),e.jsxs("div",{className:"card subtle-card",style:{marginBottom:16},children:[e.jsx("div",{className:"card-header",style:{padding:"10px 16px"},children:e.jsx("h4",{className:"card-title",style:{fontSize:13},children:" deme Detaylar"})}),e.jsx("div",{className:"card-body",style:{padding:16},children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:8},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{children:"Sabit Servis creti"}),e.jsxs("span",{children:[Le(((Me=t.service)==null?void 0:Me.fixedFee)||0)," "]})]}),(((He=t.service)==null?void 0:He.totalExtraCost)||0)>0&&e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{children:"Ekstra Malzeme"}),e.jsxs("span",{children:[Le(t.service.totalExtraCost)," "]})]}),e.jsxs("div",{style:{borderTop:"1px solid var(--color-border)",paddingTop:8,display:"flex",justifyContent:"space-between",fontWeight:600},children:[e.jsx("span",{children:"Toplam"}),e.jsxs("span",{children:[Le(((mt=t.service)==null?void 0:mt.totalCost)||0)," "]})]}),e.jsxs("div",{style:{borderTop:"1px dashed var(--color-border)",paddingTop:8,marginTop:8},children:[u.cash>0&&e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:13},children:[e.jsx("span",{children:" Nakit"}),e.jsxs("span",{children:[Le(u.cash)," "]})]}),u.card>0&&e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:13},children:[e.jsx("span",{children:" Kart"}),e.jsxs("span",{children:[Le(u.card)," "]})]}),u.transfer>0&&e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:13},children:[e.jsx("span",{children:" Havale"}),e.jsxs("span",{children:[Le(u.transfer)," "]})]}),Y>0&&e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:13,color:"var(--color-warning-dark)"},children:[e.jsxs("span",{children:[" skonto (",((zn=(ln=t.service)==null?void 0:ln.discount)==null?void 0:zn.note)||"",")"]}),e.jsxs("span",{children:["-",Le(Y)," "]})]})]})]})})]}),Ge.filter(ft=>ft.type==="servis_oncesi"||ft.type==="servis_sonrasi").length>0&&e.jsxs("div",{style:{marginBottom:16},children:[e.jsx("div",{style:{fontSize:13,fontWeight:600,marginBottom:8},children:" Fotoraflar"}),e.jsx("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:Ge.filter(ft=>ft.type==="servis_oncesi"||ft.type==="servis_sonrasi").map(ft=>e.jsxs("a",{href:ls(ft.id),target:"_blank",rel:"noopener noreferrer",style:{padding:"8px 16px",background:"var(--color-primary-bg)",borderRadius:8,fontSize:12,textDecoration:"none",color:"var(--color-primary)"},children:[" ",ft.type==="servis_oncesi"?"ncesi":"Sonras"]},ft.id))})]})]})]})})(),Ln&&un("inquiry_files")&&e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h3",{className:"card-title",children:" Mteri ls - Dosya Ykleme"}),ta(t.status)]}),e.jsxs("div",{className:"card-body grid grid-1",style:{gap:16},children:[e.jsxs("div",{style:{padding:16,background:"var(--color-info-bg)",borderRadius:8,border:"1px solid var(--color-info)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:8},children:[e.jsx("span",{style:{fontSize:20},children:""}),e.jsx("strong",{children:"Fiyat Sorgusu"})]}),e.jsx("div",{style:{fontSize:13,color:"var(--color-text-secondary)"},children:"Mterinin getirdii l ve teknik izim dosyalarn ykleyin."})]}),((Ly=t.roles)==null?void 0:Ly.length)>0&&e.jsxs("div",{className:"card subtle-card",children:[e.jsx("div",{className:"card-header",style:{padding:"12px 16px"},children:e.jsx("h4",{className:"card-title",style:{fontSize:14},children:"  Kolu Dosyalar"})}),e.jsx("div",{className:"card-body",style:{padding:16},children:t.roles.map(u=>{const T=u.id||u.name,Y=Ge.filter(ze=>ze.type===`measure_${T}`),ee=Ge.filter(ze=>ze.type===`technical_${T}`),de=Y.length>0,ge=ee.length>0,Te=de&&ge;return e.jsxs("div",{style:{marginBottom:16,padding:16,background:Te?"var(--color-success-bg)":"var(--color-bg-secondary)",borderRadius:8,border:Te?"1px solid var(--color-success)":"1px solid var(--color-border)"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[e.jsxs("div",{style:{fontWeight:600,display:"flex",alignItems:"center",gap:8},children:[Te&&e.jsx("span",{style:{color:"var(--color-success)"},children:""}),u.name]}),Te&&e.jsx("span",{className:"badge badge-success",children:"Tamamland"})]}),e.jsxs("div",{className:"grid grid-2",style:{gap:12},children:[e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:["l izimi ",!de&&e.jsx("span",{style:{color:"var(--color-danger)"},children:"*"})]}),e.jsxs("div",{className:"file-upload-zone",children:[e.jsx("input",{type:"file",id:`inq-measure-file-${T}`,accept:".pdf,.jpg,.jpeg,.png,.dwg,.dxf",style:{display:"none"},onChange:async ze=>{var Xe;const Fe=(Xe=ze.target.files)==null?void 0:Xe[0];Fe&&(await an(Fe,`measure_${T}`,`${u.name} - l izimi`),ze.target.value="")}}),e.jsx("label",{htmlFor:`inq-measure-file-${T}`,className:"btn btn-secondary btn-small",style:{cursor:"pointer"},children:" Dosya Se"}),de&&e.jsx("span",{className:"badge badge-success",style:{marginLeft:8},children:""})]}),Y.map(ze=>e.jsxs("div",{style:{marginTop:8,display:"flex",alignItems:"center",gap:8,fontSize:12},children:[e.jsxs("a",{href:ls(ze.id),target:"_blank",rel:"noopener noreferrer",style:{color:"var(--color-primary)"},children:[" ",ze.originalName]}),e.jsx("button",{type:"button",className:"btn btn-danger btn-small btn-icon",style:{padding:"2px 6px",fontSize:10},onClick:()=>Es(ze.id),title:"Sil",children:""})]},ze.id))]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:["Teknik izim ",!ge&&e.jsx("span",{style:{color:"var(--color-danger)"},children:"*"})]}),e.jsxs("div",{className:"file-upload-zone",children:[e.jsx("input",{type:"file",id:`inq-tech-file-${T}`,accept:".pdf,.jpg,.jpeg,.png,.dwg,.dxf",style:{display:"none"},onChange:async ze=>{var Xe;const Fe=(Xe=ze.target.files)==null?void 0:Xe[0];Fe&&(await an(Fe,`technical_${T}`,`${u.name} - Teknik izim`),ze.target.value="")}}),e.jsx("label",{htmlFor:`inq-tech-file-${T}`,className:"btn btn-secondary btn-small",style:{cursor:"pointer"},children:" Dosya Se"}),ge&&e.jsx("span",{className:"badge badge-success",style:{marginLeft:8},children:""})]}),ee.map(ze=>e.jsxs("div",{style:{marginTop:8,display:"flex",alignItems:"center",gap:8,fontSize:12},children:[e.jsxs("a",{href:ls(ze.id),target:"_blank",rel:"noopener noreferrer",style:{color:"var(--color-primary)"},children:[" ",ze.originalName]}),e.jsx("button",{type:"button",className:"btn btn-danger btn-small btn-icon",style:{padding:"2px 6px",fontSize:10},onClick:()=>Es(ze.id),title:"Sil",children:""})]},ze.id))]})]})]},T)})})]}),!ae&&(()=>{var T;const u=((T=t.roles)==null?void 0:T.every(Y=>{const ee=Y.id||Y.name,de=Ge.some(Te=>Te.type===`measure_${ee}`),ge=Ge.some(Te=>Te.type===`technical_${ee}`);return de&&ge}))||!1;return e.jsx("button",{className:"btn btn-primary",type:"button",style:{width:"100%",padding:"12px 16px"},disabled:i,onClick:()=>{!u&&!window.confirm("Baz i kollar iin dosyalar eksik. Yine de devam etmek istiyor musunuz?")||tt(()=>Gt(t.id,{status:"FIYATLANDIRMA"}),{transition:"FIYATLANDIRMA"})},children:u?" Fiyatlandrmaya Ge ":"Fiyatlandrmaya Ge "})})()]})]}),Ln&&un("inquiry_pricing")&&e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h3",{className:"card-title",children:" Fiyatlandrma"}),ta(t.status)]}),e.jsxs("div",{className:"card-body grid grid-1",style:{gap:16},children:[(()=>{var T;const u=((T=t.roles)==null?void 0:T.reduce((Y,ee)=>{const de=ee.id||ee.name;return Y+Ge.filter(ge=>ge.type===`measure_${de}`||ge.type===`technical_${de}`).length},0))||0;return u>0&&e.jsxs("div",{style:{padding:12,background:"var(--color-success-bg)",borderRadius:8,display:"flex",alignItems:"center",gap:8},children:[e.jsx("span",{children:""}),e.jsxs("span",{style:{fontSize:13},children:[u," dosya yklendi"]})]})})(),((By=t.roles)==null?void 0:By.length)>0&&e.jsxs("div",{className:"card subtle-card",children:[e.jsx("div",{className:"card-header",style:{padding:"12px 16px"},children:e.jsx("h4",{className:"card-title",style:{fontSize:14},children:"  Kolu Fiyatlar"})}),e.jsxs("div",{className:"card-body",style:{padding:16},children:[t.roles.map(u=>{var de,ge;const T=u.id||u.name,Y=((ge=(de=t.offer)==null?void 0:de.rolePrices)==null?void 0:ge[T])||0,ee=R[`rolePrice_${T}`]??(Y>0?String(Y):"");return e.jsxs("div",{style:{marginBottom:12,padding:12,background:"var(--color-bg-secondary)",borderRadius:8,display:"flex",alignItems:"center",gap:12},children:[e.jsx("div",{style:{flex:1,fontWeight:500},children:u.name}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[e.jsx("input",{type:"text",className:"form-input",placeholder:"0",style:{width:150,textAlign:"right",fontFamily:"monospace"},value:ee?Le(Number(ee.toString().replace(/\./g,"").replace(",","."))):"",onChange:Te=>{const ze=Te.target.value.replace(/\./g,"").replace(",","."),Fe=parseFloat(ze)||0;Ne(Xe=>({...Xe,[`rolePrice_${T}`]:Fe}))},disabled:ae||t.status==="FIYAT_VERILDI"}),e.jsx("span",{style:{fontWeight:500},children:""})]})]},T)}),(()=>{const u=t.roles.reduce((T,Y)=>{var Te,ze;const ee=Y.id||Y.name,de=((ze=(Te=t.offer)==null?void 0:Te.rolePrices)==null?void 0:ze[ee])||0,ge=R[`rolePrice_${ee}`]??de;return T+(Number(ge)||0)},0);return e.jsxs("div",{style:{marginTop:16,padding:16,background:"var(--color-primary-bg)",borderRadius:8,display:"flex",justifyContent:"space-between",fontWeight:700,fontSize:18},children:[e.jsx("span",{children:"TOPLAM TEKLF:"}),e.jsxs("span",{children:[Le(u)," "]})]})})()]})]}),!ae&&t.status!=="FIYAT_VERILDI"&&t.status!=="FIYAT_SORGUSU_BEKLIYOR"&&e.jsx("button",{className:"btn btn-success",type:"button",style:{width:"100%",padding:"12px 16px"},disabled:i,onClick:()=>{var Y;const u={};let T=0;if((Y=t.roles)==null||Y.forEach(ee=>{const de=ee.id||ee.name,ge=Number(R[`rolePrice_${de}`])||0;u[de]=ge,T+=ge}),T===0){alert("Ltfen en az bir i kolu iin fiyat girin.");return}tt(()=>{var ee;return c6(t.id,{lines:((ee=t.roles)==null?void 0:ee.map(de=>({role:de.name,price:u[de.id||de.name]})))||[],total:T,rolePrices:u,notifiedDate:new Date().toISOString(),status:"FIYAT_VERILDI"})},{transition:"FIYAT_VERILDI"})},children:" Fiyat Ver"}),!ae&&(t.status==="FIYAT_VERILDI"||t.status==="FIYAT_SORGUSU_BEKLIYOR")&&e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:12},children:[e.jsx("div",{style:{padding:16,background:"var(--color-warning-bg)",borderRadius:8,border:"1px solid var(--color-warning)"},children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:12,color:"var(--color-text-secondary)"},children:"VERLEN TEKLF"}),e.jsxs("div",{style:{fontSize:24,fontWeight:700},children:[Le(((Oy=t.offer)==null?void 0:Oy.total)||0)," "]})]}),e.jsxs("div",{style:{textAlign:"right"},children:[e.jsx("div",{style:{fontSize:12,color:"var(--color-text-secondary)"},children:"TARH"}),e.jsx("div",{children:($y=t.offer)!=null&&$y.notifiedDate?new Date(t.offer.notifiedDate).toLocaleDateString("tr-TR"):"-"})]})]})}),e.jsxs("div",{style:{display:"flex",gap:12},children:[e.jsx("button",{className:"btn btn-success",type:"button",style:{flex:1,padding:"12px 16px"},disabled:i,onClick:()=>tt(()=>Co(t.id,{decision:"ONAY",note:"Teklif onayland"}),{transition:"FIYAT_SORGUSU_ONAY"}),children:" Onayland"}),e.jsx("button",{className:"btn btn-warning",type:"button",style:{flex:1,padding:"12px 16px"},disabled:i,onClick:()=>tt(()=>Gt(t.id,{status:"FIYAT_SORGUSU_BEKLIYOR"}),{transition:"FIYAT_SORGUSU_BEKLIYOR"}),children:" Beklemede"}),e.jsx("button",{className:"btn btn-danger",type:"button",style:{flex:1,padding:"12px 16px"},disabled:i,onClick:()=>Ne(u=>({...u,showInquiryRejectModal:!0})),children:" Reddedildi"})]}),R.showInquiryRejectModal&&e.jsxs("div",{className:"card",style:{border:"2px solid var(--color-danger)",background:"var(--color-danger-bg)"},children:[e.jsx("div",{className:"card-header",style:{padding:"12px 16px"},children:e.jsx("h4",{className:"card-title",style:{fontSize:14,color:"var(--color-danger)"},children:" Red Nedeni"})}),e.jsxs("div",{className:"card-body",style:{padding:16},children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Neden *"}),e.jsxs("select",{className:"form-select",value:R.inquiryRejectReason||"",onChange:u=>Ne(T=>({...T,inquiryRejectReason:u.target.value})),children:[e.jsx("option",{value:"",children:"Sein..."}),Be.map(u=>e.jsx("option",{value:u.id,children:u.name},u.id))]})]}),e.jsxs("div",{className:"form-group",style:{marginTop:12},children:[e.jsx("label",{className:"form-label",children:"Not"}),e.jsx("textarea",{className:"form-textarea",rows:2,value:R.inquiryRejectNote||"",onChange:u=>Ne(T=>({...T,inquiryRejectNote:u.target.value}))})]}),e.jsxs("div",{style:{display:"flex",gap:12,marginTop:12},children:[e.jsx("button",{className:"btn btn-secondary",type:"button",onClick:()=>Ne(u=>({...u,showInquiryRejectModal:!1})),children:"ptal"}),e.jsx("button",{className:"btn btn-danger",type:"button",disabled:i||!R.inquiryRejectReason,onClick:()=>tt(()=>Co(t.id,{decision:"RED",cancelReason:R.inquiryRejectReason,note:R.inquiryRejectNote}),{transition:"FIYAT_SORGUSU_RED"}),children:"Reddet"})]})]})]})]})]})]}),Ln&&un("inquiry_decision")&&(()=>{var de,ge;const u=t.status==="FIYAT_SORGUSU_ONAY",T=t.status==="FIYAT_SORGUSU_RED",Y=t.inquiry||{},ee=((de=t.offer)==null?void 0:de.total)||0;return e.jsxs("div",{className:"card",style:{border:`2px solid ${u?"var(--color-success)":"var(--color-danger)"}`},children:[e.jsx("div",{className:"card-header",style:{background:u?"var(--color-success)":"var(--color-danger)",color:"white"},children:e.jsx("h3",{className:"card-title",style:{color:"white"},children:u?" Fiyat Sorgusu - Onayland":" Fiyat Sorgusu - Reddedildi"})}),e.jsxs("div",{className:"card-body",style:{padding:20},children:[e.jsxs("div",{className:"grid grid-3",style:{gap:12,marginBottom:20},children:[e.jsxs("div",{style:{padding:16,background:u?"var(--color-success-bg)":"var(--color-danger-bg)",borderRadius:12,textAlign:"center"},children:[e.jsx("div",{style:{fontSize:11,color:"var(--color-text-light)",marginBottom:4},children:"TEKLF TUTARI"}),e.jsxs("div",{style:{fontSize:20,fontWeight:700,color:u?"var(--color-success)":"var(--color-danger)"},children:[Le(ee)," "]})]}),e.jsxs("div",{style:{padding:16,background:"var(--color-bg-secondary)",borderRadius:12,textAlign:"center"},children:[e.jsx("div",{style:{fontSize:11,color:"var(--color-text-light)",marginBottom:4},children:"MTER"}),e.jsx("div",{style:{fontSize:14,fontWeight:600},children:t.customerName})]}),e.jsxs("div",{style:{padding:16,background:"var(--color-bg-secondary)",borderRadius:12,textAlign:"center"},children:[e.jsx("div",{style:{fontSize:11,color:"var(--color-text-light)",marginBottom:4},children:"KARAR TARH"}),e.jsx("div",{style:{fontSize:12,fontWeight:600},children:Y.decidedAt?new Date(Y.decidedAt).toLocaleDateString("tr-TR"):"-"})]})]}),e.jsxs("div",{className:"card subtle-card",style:{marginBottom:16},children:[e.jsx("div",{className:"card-header",style:{padding:"10px 16px"},children:e.jsx("h4",{className:"card-title",style:{fontSize:13},children:"  Bilgileri"})}),e.jsxs("div",{className:"card-body",style:{padding:16},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8},children:[e.jsx("span",{className:"text-muted",children:" Kodu"}),e.jsx("span",{style:{fontWeight:600},children:t.id})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8},children:[e.jsx("span",{className:"text-muted",children:" Bal"}),e.jsx("span",{style:{fontWeight:600},children:t.title})]}),((ge=t.roles)==null?void 0:ge.length)>0&&e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8},children:[e.jsx("span",{className:"text-muted",children:" Kollar"}),e.jsx("div",{style:{display:"flex",gap:4,flexWrap:"wrap"},children:t.roles.map(Te=>e.jsx("span",{className:"badge badge-secondary",children:Te.name},Te.id||Te.name))})]})]})]}),T&&Y.cancelReason&&e.jsxs("div",{className:"card subtle-card",style:{marginBottom:16,border:"1px solid var(--color-danger)"},children:[e.jsx("div",{className:"card-header",style:{padding:"10px 16px",background:"var(--color-danger-bg)"},children:e.jsx("h4",{className:"card-title",style:{fontSize:13,color:"var(--color-danger)"},children:" Red Bilgisi"})}),e.jsxs("div",{className:"card-body",style:{padding:16},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8},children:[e.jsx("span",{className:"text-muted",children:"Red Nedeni"}),e.jsx("span",{style:{fontWeight:600},children:Y.cancelReason})]}),Y.note&&e.jsxs("div",{style:{marginTop:8,padding:10,background:"var(--color-bg-secondary)",borderRadius:6,fontSize:13},children:[e.jsx("strong",{children:"Not:"})," ",Y.note]})]})]}),u&&e.jsxs("div",{style:{padding:16,background:"var(--color-info-bg)",borderRadius:8,border:"1px solid var(--color-info)",textAlign:"center"},children:[e.jsx("div",{style:{fontSize:14,marginBottom:8},children:" Teklif onayland! Mteri iin yeni i balatabilirsiniz."}),e.jsx("button",{className:"btn btn-primary",onClick:()=>{setShowModal(!0),setForm(Te=>({...Te,customerId:t.customerId,customerName:t.customerName,startType:"OLCU",title:"",roles:t.roles||[],newCustomer:!1})),setCustomerSearch(t.customerName||"")},children:" Bu Mteri in Yeni  Balat"})]})]})]})})(),(Gd==="KAPALI"||Gd==="SERVIS_KAPALI")&&e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:16},children:[e.jsxs("div",{style:{background:"linear-gradient(135deg, #059669 0%, #047857 100%)",borderRadius:12,padding:"20px 24px",color:"white",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:16},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:14,opacity:.9,marginBottom:4},children:Gd==="SERVIS_KAPALI"?"SERVS TAMAMLANDI":" BAARIYLA TAMAMLANDI"}),e.jsxs("div",{style:{fontSize:24,fontWeight:700,display:"flex",alignItems:"center",gap:8},children:[" ",t.title]}),e.jsxs("div",{style:{marginTop:8,fontSize:13,opacity:.9},children:[" Kapatma: ",(_y=t.finance)!=null&&_y.closedAt?new Date(t.finance.closedAt).toLocaleDateString("tr-TR",{day:"numeric",month:"long",year:"numeric"}):"-"]})]}),e.jsxs("div",{style:{background:"rgba(255,255,255,0.2)",padding:"16px 24px",borderRadius:8,textAlign:"center"},children:[e.jsx("div",{style:{fontSize:12,opacity:.9},children:"TOPLAM TAHSLAT"}),e.jsxs("div",{style:{fontSize:28,fontWeight:700},children:[Le(((Fy=t.finance)==null?void 0:Fy.total)||Mt)," "]})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:16},children:[e.jsx("div",{className:"card",style:{margin:0},children:e.jsxs("div",{className:"card-body",style:{padding:16},children:[e.jsx("div",{style:{fontWeight:600,marginBottom:12,color:"#64748b",fontSize:11},children:" MTER"}),e.jsx("div",{style:{fontWeight:700,fontSize:16,marginBottom:4},children:t.customerName}),e.jsx("div",{style:{fontSize:12,color:"#64748b"},children:t.address||"-"})]})}),e.jsx("div",{className:"card",style:{margin:0},children:e.jsxs("div",{className:"card-body",style:{padding:16},children:[e.jsx("div",{style:{fontWeight:600,marginBottom:12,color:"#64748b",fontSize:11},children:"  KOLLARI"}),e.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:6},children:((Wy=t.roles)==null?void 0:Wy.map((u,T)=>e.jsx("span",{className:"badge badge-primary",style:{fontSize:11},children:u.name||u},T)))||e.jsx("span",{className:"text-muted",children:"-"})})]})}),e.jsx("div",{className:"card",style:{margin:0},children:e.jsxs("div",{className:"card-body",style:{padding:16},children:[e.jsx("div",{style:{fontWeight:600,marginBottom:12,color:"#64748b",fontSize:11},children:" TARH ZET"}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:4,fontSize:12},children:[e.jsxs("div",{children:[e.jsx("span",{style:{color:"#64748b"},children:"Balang:"})," ",t.createdAt?new Date(t.createdAt).toLocaleDateString("tr-TR"):"-"]}),e.jsxs("div",{children:[e.jsx("span",{style:{color:"#64748b"},children:"Montaj:"})," ",(Ky=(Uy=t.assembly)==null?void 0:Uy.schedule)!=null&&Ky.date?new Date(t.assembly.schedule.date).toLocaleDateString("tr-TR"):"-"]}),e.jsxs("div",{children:[e.jsx("span",{style:{color:"#64748b"},children:"Kapan:"})," ",(Hy=t.finance)!=null&&Hy.closedAt?new Date(t.finance.closedAt).toLocaleDateString("tr-TR"):"-"]})]})]})})]}),e.jsxs("div",{className:"card",style:{margin:0,border:"2px solid #22c55e"},children:[e.jsx("div",{className:"card-header",style:{background:"#f0fdf4",borderBottom:"1px solid #bbf7d0"},children:e.jsx("h4",{className:"card-title",style:{fontSize:14,color:"#166534"},children:" Finansal zet"})}),e.jsx("div",{className:"card-body",style:{padding:16},children:e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:16},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:600,marginBottom:12,color:"#64748b",fontSize:11,borderBottom:"1px solid #e2e8f0",paddingBottom:8},children:" N DEMELER"}),e.jsxs("div",{className:"metric-row",style:{padding:"4px 0",fontSize:13},children:[e.jsx("span",{children:"Nakit"}),e.jsxs("span",{children:[Le(((qy=(Vy=t.finance)==null?void 0:Vy.prePayments)==null?void 0:qy.cash)||0)," "]})]}),e.jsxs("div",{className:"metric-row",style:{padding:"4px 0",fontSize:13},children:[e.jsx("span",{children:"Kart"}),e.jsxs("span",{children:[Le(((Gy=(Yy=t.finance)==null?void 0:Yy.prePayments)==null?void 0:Gy.card)||0)," "]})]}),e.jsxs("div",{className:"metric-row",style:{padding:"4px 0",fontSize:13},children:[e.jsx("span",{children:"ek"}),e.jsxs("span",{children:[Le(((Qy=(Jy=t.finance)==null?void 0:Jy.prePayments)==null?void 0:Qy.cheque)||0)," "]})]}),((Zy=(Xy=t.finance)==null?void 0:Xy.prePayments)==null?void 0:Zy.afterDelivery)>0&&e.jsxs("div",{className:"metric-row",style:{padding:"4px 0",fontSize:13},children:[e.jsx("span",{children:"Teslim Sonras"}),e.jsxs("span",{children:[Le(((tx=(ex=t.finance)==null?void 0:ex.prePayments)==null?void 0:tx.afterDelivery)||0)," "]})]})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:600,marginBottom:12,color:"#64748b",fontSize:11,borderBottom:"1px solid #e2e8f0",paddingBottom:8},children:" SON DEMELER"}),e.jsxs("div",{className:"metric-row",style:{padding:"4px 0",fontSize:13},children:[e.jsx("span",{children:"Nakit"}),e.jsxs("span",{children:[Le(((sx=(nx=t.finance)==null?void 0:nx.finalPayments)==null?void 0:sx.cash)||0)," "]})]}),e.jsxs("div",{className:"metric-row",style:{padding:"4px 0",fontSize:13},children:[e.jsx("span",{children:"Kart"}),e.jsxs("span",{children:[Le(((ax=(rx=t.finance)==null?void 0:rx.finalPayments)==null?void 0:ax.card)||0)," "]})]}),e.jsxs("div",{className:"metric-row",style:{padding:"4px 0",fontSize:13},children:[e.jsx("span",{children:"ek"}),e.jsxs("span",{children:[Le(((ix=(lx=t.finance)==null?void 0:lx.finalPayments)==null?void 0:ix.cheque)||0)," "]})]})]}),e.jsxs("div",{style:{background:"#f0fdf4",padding:16,borderRadius:8},children:[e.jsx("div",{style:{fontWeight:600,marginBottom:12,color:"#166534",fontSize:11,borderBottom:"1px solid #bbf7d0",paddingBottom:8},children:" SONU"}),e.jsxs("div",{className:"metric-row",style:{padding:"4px 0",fontSize:13},children:[e.jsx("span",{children:"Teklif Tutar"}),e.jsxs("span",{style:{fontWeight:600},children:[Le(((ox=t.finance)==null?void 0:ox.total)||Mt)," "]})]}),((dx=(cx=t.finance)==null?void 0:cx.discount)==null?void 0:dx.amount)>0&&e.jsxs("div",{className:"metric-row",style:{padding:"4px 0",fontSize:13,color:"#b45309"},children:[e.jsx("span",{children:"skonto"}),e.jsxs("span",{children:["-",Le(t.finance.discount.amount)," "]})]}),e.jsx("hr",{style:{margin:"8px 0",borderColor:"#bbf7d0"}}),e.jsxs("div",{className:"metric-row",style:{padding:"4px 0"},children:[e.jsx("span",{style:{fontWeight:700,color:"#166534"},children:"NET TAHSLAT"}),e.jsxs("span",{style:{fontWeight:700,fontSize:16,color:"#166534"},children:[Le((((ux=t.finance)==null?void 0:ux.total)||Mt)-(((px=(mx=t.finance)==null?void 0:mx.discount)==null?void 0:px.amount)||0))," "]})]}),((fx=(hx=t.finance)==null?void 0:hx.discount)==null?void 0:fx.note)&&e.jsxs("div",{style:{fontSize:11,color:"#64748b",marginTop:8},children:[" skonto Notu: ",t.finance.discount.note]})]})]})})]}),e.jsxs("div",{style:{background:"#f1f5f9",borderRadius:8,padding:"12px 16px",display:"flex",alignItems:"center",gap:12,fontSize:13,color:"#64748b"},children:[e.jsx("span",{style:{fontSize:18},children:""}),e.jsx("span",{children:"Bu i kapatlmtr. Deiiklik yapmak iin yetkili onay gereklidir."})]})]}),Se.length>0?e.jsxs("div",{className:"card subtle-card",children:[e.jsxs("div",{className:"card-header",style:{justifyContent:"space-between"},children:[e.jsx("h3",{className:"card-title",children:" Gnl"}),e.jsx("button",{className:"btn btn-secondary btn-small",type:"button",onClick:()=>je(u=>!u),children:K?"Gizle":"Gster"})]}),K?e.jsx("div",{className:"timeline",children:Se.map(u=>e.jsxs("div",{className:"timeline-item",children:[e.jsx("div",{className:"timeline-point"}),e.jsxs("div",{children:[e.jsxs("div",{className:"timeline-title",children:[new Date(u.createdAt).toLocaleString("tr-TR"),"  ",u.action]}),e.jsx("div",{className:"timeline-subtitle",children:u.detail})]})]},u.id))}):null,Qe?e.jsx("div",{className:"error-text",children:Qe}):null]}):null,i&&e.jsx("div",{className:"loader-overlay",children:e.jsx(kt,{text:"lem yaplyor..."})}),e.jsx(qe,{isOpen:bt,onClose:()=>Un(!1),title:" l Sorunu Bildir",size:"md",children:e.jsxs("div",{style:{padding:20},children:[e.jsx("p",{style:{marginBottom:16,fontSize:13,color:"var(--color-text-secondary)"},children:"l aamasnda tespit edilen sorunu bildirin. Bu bilgi raporlama ve takip iin kullanlacaktr."}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Sorun Tipi *"}),e.jsxs("select",{className:"form-select",value:Kn.issueType,onChange:u=>js(T=>({...T,issueType:u.target.value})),children:[e.jsx("option",{value:"",children:"Sein..."}),dt.map(u=>e.jsx("option",{value:u.id,children:u.name},u.id)),dt.length===0&&e.jsxs(e.Fragment,{children:[e.jsx("option",{value:"measurement_error",children:"l Hatas"}),e.jsx("option",{value:"wrong_measurement",children:"Yanl l"}),e.jsx("option",{value:"missing_info",children:"Eksik Bilgi"}),e.jsx("option",{value:"customer_change",children:"Mteri Deiiklii"})]})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Hata Kayna *"}),e.jsxs("select",{className:"form-select",value:Kn.faultSource,onChange:u=>js(T=>({...T,faultSource:u.target.value})),children:[e.jsx("option",{value:"",children:"Sein..."}),ot.map(u=>e.jsx("option",{value:u.id,children:u.name},u.id)),ot.length===0&&e.jsxs(e.Fragment,{children:[e.jsx("option",{value:"measurement",children:"l Ekibi"}),e.jsx("option",{value:"customer",children:"Mteri"}),e.jsx("option",{value:"design",children:"izim/Tasarm"}),e.jsx("option",{value:"other",children:"Dier"})]})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Aklama *"}),e.jsx("textarea",{className:"form-input",rows:"3",value:Kn.description,onChange:u=>js(T=>({...T,description:u.target.value})),placeholder:"Sorun hakknda detayl aklama yazn..."})]}),e.jsxs("div",{style:{display:"flex",gap:12,marginTop:20},children:[e.jsx("button",{className:"btn btn-secondary",style:{flex:1},onClick:()=>Un(!1),children:"ptal"}),e.jsx("button",{className:"btn btn-warning",style:{flex:1},disabled:!Kn.issueType||!Kn.faultSource||!Kn.description,onClick:async()=>{try{const u=await i6(t.id,Kn);setSelectedJob(_s(u)),Un(!1),js({issueType:"",faultSource:"",description:"",responsiblePersonId:"",photoUrl:""}),alert("Sorun baaryla bildirildi.")}catch(u){alert("Hata: "+(u.message||"Sorun bildirilemedi"))}},children:" Sorunu Bildir"})]})]})})]})},Vl={OLCU_RANDEVU_BEKLIYOR:"#9ca3af",OLCU_RANDEVULU:"#f59e0b",MUSTERI_OLCUSU_BEKLENIYOR:"#3b82f6",OLCU_ALINDI:"#10b981"},Mo={OLCU_RANDEVU_BEKLIYOR:"Randevu Bekliyor",OLCU_RANDEVULU:"Randevu Verildi",MUSTERI_OLCUSU_BEKLENIYOR:"l Bekleniyor",OLCU_ALINDI:"l Alnd"},nI=["OLCU_RANDEVU_BEKLIYOR","OLCU_RANDEVULU","MUSTERI_OLCUSU_BEKLENIYOR","OLCU_ALINDI"],sI=()=>{var ie,L,ne,he,M,re,ke,be,we,W;const t=vs(),[n,s]=c.useState(!0),[r,a]=c.useState([]),[l,i]=c.useState("month"),[o,d]=c.useState(new Date),[m,p]=c.useState(null),[g,h]=c.useState(!1),[k,x]=c.useState(null),[w,N]=c.useState(!1),[f,v]=c.useState(null),[b,y]=c.useState("10:00");c.useEffect(()=>{S()},[]);const S=async()=>{s(!0);try{const I=(await ja()).filter(ce=>nI.includes(ce.status));a(I)}catch(V){console.error("Load error:",V)}finally{s(!1)}},j=c.useMemo(()=>{const V=o.getFullYear(),I=o.getMonth();if(l==="month"){const ce=new Date(V,I,1),ue=new Date(V,I+1,0),De=ce.getDay()===0?6:ce.getDay()-1,Re=[];for(let Se=De-1;Se>=0;Se--){const _e=new Date(V,I,-Se);Re.push({date:_e,isCurrentMonth:!1})}for(let Se=1;Se<=ue.getDate();Se++)Re.push({date:new Date(V,I,Se),isCurrentMonth:!0});const se=42-Re.length;for(let Se=1;Se<=se;Se++)Re.push({date:new Date(V,I+1,Se),isCurrentMonth:!1});return Re}else{const ce=new Date(o),ue=ce.getDay()===0?6:ce.getDay()-1;ce.setDate(ce.getDate()-ue);const De=[];for(let Re=0;Re<7;Re++){const se=new Date(ce);se.setDate(ce.getDate()+Re),De.push({date:se,isCurrentMonth:!0})}return De}},[o,l]),z=c.useMemo(()=>r.filter(V=>{var I,ce;return(ce=(I=V.measure)==null?void 0:I.appointment)==null?void 0:ce.date}),[r]),P=c.useMemo(()=>r.filter(V=>{var I,ce;return V.status==="OLCU_RANDEVU_BEKLIYOR"&&!((ce=(I=V.measure)==null?void 0:I.appointment)!=null&&ce.date)}),[r]),$=c.useMemo(()=>{var I,ce;const V={};for(const ue of z){const De=(ce=(I=ue.measure)==null?void 0:I.appointment)==null?void 0:ce.date;if(!De)continue;const Re=De.slice(0,10);V[Re]||(V[Re]=[]),V[Re].push(ue)}for(const ue in V)V[ue].sort((De,Re)=>{var _e,Qe,Ue,K;const se=((Qe=(_e=De.measure)==null?void 0:_e.appointment)==null?void 0:Qe.date)||"",Se=((K=(Ue=Re.measure)==null?void 0:Ue.appointment)==null?void 0:K.date)||"";return se.localeCompare(Se)});return V},[z]),B=V=>V.toISOString().slice(0,10),q=V=>{var ce,ue;const I=(ue=(ce=V.measure)==null?void 0:ce.appointment)==null?void 0:ue.date;return!I||I.length<16?null:I.slice(11,16)},C=(V,I)=>{p(I),V.dataTransfer.effectAllowed="move",V.dataTransfer.setData("text/plain",I.id)},Z=V=>{V.preventDefault(),V.dataTransfer.dropEffect="move"},A=()=>{p(null)},O=async(V,I)=>{var Re,se;V.preventDefault();const ce=V.dataTransfer.getData("text/plain"),ue=r.find(Se=>Se.id===ce);if(!ue){p(null);return}if((se=(Re=ue.measure)==null?void 0:Re.appointment)==null?void 0:se.date){const Se=q(ue)||"10:00";await _(ue.id,I,Se)}else v({job:ue,date:I}),y("10:00"),N(!0);p(null)},_=async(V,I,ce)=>{const De=`${B(I)}T${ce}`;a(Re=>Re.map(se=>se.id===V?{...se,status:"OLCU_RANDEVULU",measure:{...se.measure,appointment:{date:De}}}:se));try{await ap(V,{appointment:{date:De}}),await Gt(V,{status:"OLCU_RANDEVULU"})}catch(Re){alert("Randevu kaydedilemedi: "+(Re.message||"Bilinmeyen hata")),S()}},fe=async()=>{f&&(await _(f.job.id,f.date,b),N(!1),v(null))},Q=async V=>{var ue,De;V.preventDefault();const I=V.dataTransfer.getData("text/plain"),ce=r.find(Re=>Re.id===I);if(!ce||!((De=(ue=ce.measure)==null?void 0:ue.appointment)!=null&&De.date)){p(null);return}a(Re=>Re.map(se=>se.id===I?{...se,status:"OLCU_RANDEVU_BEKLIYOR",measure:{...se.measure,appointment:null}}:se)),p(null);try{await ap(I,{appointment:null}),await Gt(I,{status:"OLCU_RANDEVU_BEKLIYOR"})}catch(Re){alert("Randevu iptal edilemedi: "+(Re.message||"Bilinmeyen hata")),S()}},le=V=>{x(V),h(!0)},ye=()=>{const V=new Date(o);l==="month"?V.setMonth(V.getMonth()-1):V.setDate(V.getDate()-7),d(V)},E=()=>{const V=new Date(o);l==="month"?V.setMonth(V.getMonth()+1):V.setDate(V.getDate()+7),d(V)},D=()=>{d(new Date)},G=V=>V?new Date(V).toLocaleDateString("tr-TR"):"-",U=V=>V?new Date(V).toLocaleString("tr-TR",{dateStyle:"long",timeStyle:"short"}):"-",H=V=>!V.roles||V.roles.length===0?"":V.roles.map(I=>I.name).join(", "),oe=new Date().toISOString().slice(0,10),te=["Pzt","Sal","ar","Per","Cum","Cmt","Paz"],F=["Pazartesi","Sal","aramba","Perembe","Cuma","Cumartesi","Pazar"],J=["Ocak","ubat","Mart","Nisan","Mays","Haziran","Temmuz","Austos","Eyll","Ekim","Kasm","Aralk"],xe=["09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00"];return n?e.jsx(kt,{text:"Keif/l takvimi ykleniyor..."}):e.jsxs("div",{children:[e.jsx(it,{title:"Keif / l Takvimi",subtitle:"l randevularn takvime srkle-brak ile planlayn"}),e.jsxs("div",{style:{display:"flex",gap:24},children:[e.jsx("div",{style:{width:320,flexShrink:0},children:e.jsxs("div",{className:"card",style:{padding:20,border:(L=(ie=m==null?void 0:m.measure)==null?void 0:ie.appointment)!=null&&L.date?"2px dashed var(--color-primary)":void 0,transition:"border 0.2s",height:l==="week"?"auto":"calc(100vh - 280px)",display:"flex",flexDirection:"column"},onDragOver:Z,onDrop:Q,children:[e.jsxs("h4",{style:{marginBottom:12,display:"flex",alignItems:"center",gap:8},children:[" Randevu Bekleyenler",e.jsx("span",{className:"badge badge-warning",style:{fontSize:12},children:P.length})]}),e.jsx("div",{style:{fontSize:12,color:"var(--color-text-muted)",marginBottom:16},children:"Takvime srkleyin veya takvimden buraya geri brakn (randevu iptal)"}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:10,flex:1,overflowY:"auto"},children:P.length===0?e.jsx("div",{style:{textAlign:"center",padding:40,background:"var(--color-bg-secondary)",borderRadius:12,border:"2px dashed var(--color-border)",color:"var(--color-text-muted)"},children:(he=(ne=m==null?void 0:m.measure)==null?void 0:ne.appointment)!=null&&he.date?e.jsx("span",{style:{color:"var(--color-primary)",fontSize:14},children:" Buraya brakn (randevu iptal)"}):e.jsx(e.Fragment,{children:" Tm ilere randevu verildi"})}):P.map(V=>e.jsxs("div",{draggable:!0,onDragStart:I=>C(I,V),onDragEnd:A,onClick:()=>le(V),style:{padding:"14px 16px",background:"var(--color-bg-secondary)",borderRadius:10,cursor:"grab",borderLeft:`5px solid ${Vl[V.status]||"#ccc"}`,transition:"transform 0.1s, box-shadow 0.1s"},onMouseEnter:I=>{I.currentTarget.style.transform="scale(1.02)",I.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.15)"},onMouseLeave:I=>{I.currentTarget.style.transform="scale(1)",I.currentTarget.style.boxShadow="none"},title:"Detay iin tklayn, takvime srkleyip brakn",children:[e.jsxs("div",{style:{fontWeight:700,fontSize:15,color:"var(--color-primary)",marginBottom:4},children:[" ",V.customerName||"Mteri Yok"]}),e.jsx("div",{style:{fontSize:13,fontWeight:500,marginBottom:6},children:V.title||V.id}),V.roles&&V.roles.length>0&&e.jsx("div",{style:{fontSize:11,color:"var(--color-text-muted)",fontStyle:"italic",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:H(V)}),e.jsx("div",{style:{marginTop:8},children:e.jsx("span",{className:"badge badge-warning",style:{fontSize:10},children:Mo[V.status]||V.status})})]},V.id))})]})}),e.jsxs("div",{style:{flex:1,minWidth:0},children:[e.jsxs("div",{className:"card",style:{padding:20},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16,flexWrap:"wrap",gap:12},children:[e.jsxs("button",{className:"btn btn-secondary",onClick:ye,children:[" ",l==="month"?"nceki Ay":"nceki Hafta"]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:16},children:[e.jsx("h2",{style:{margin:0,fontSize:22},children:l==="month"?`${J[o.getMonth()]} ${o.getFullYear()}`:`${(M=j[0])==null?void 0:M.date.getDate()} - ${(re=j[6])==null?void 0:re.date.getDate()} ${J[o.getMonth()]} ${o.getFullYear()}`}),e.jsx("button",{className:"btn btn-sm btn-outline",onClick:D,style:{fontSize:12,padding:"6px 14px"},children:"Bugn"}),e.jsxs("div",{style:{display:"flex",background:"var(--color-bg-secondary)",borderRadius:8,padding:3},children:[e.jsx("button",{onClick:()=>i("month"),style:{padding:"8px 16px",border:"none",borderRadius:6,cursor:"pointer",fontSize:13,fontWeight:600,background:l==="month"?"var(--color-primary)":"transparent",color:l==="month"?"#fff":"var(--color-text-secondary)",transition:"all 0.2s"},children:" Aylk"}),e.jsx("button",{onClick:()=>i("week"),style:{padding:"8px 16px",border:"none",borderRadius:6,cursor:"pointer",fontSize:13,fontWeight:600,background:l==="week"?"var(--color-primary)":"transparent",color:l==="week"?"#fff":"var(--color-text-secondary)",transition:"all 0.2s"},children:" Haftalk"})]})]}),e.jsxs("button",{className:"btn btn-secondary",onClick:E,children:[l==="month"?"Sonraki Ay":"Sonraki Hafta"," "]})]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:8,marginBottom:8},children:(l==="week"?F:te).map(V=>e.jsx("div",{style:{textAlign:"center",fontWeight:700,fontSize:l==="week"?14:13,padding:l==="week"?12:10,color:"var(--color-text-secondary)",background:"var(--color-bg-secondary)",borderRadius:8},children:V},V))}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:8},children:j.map((V,I)=>{const ce=B(V.date),ue=$[ce]||[],De=ce===oe,Re=V.date<new Date(oe),se=l==="week"?320:160,Se=l==="week"?5:2;return e.jsxs("div",{onDragOver:Z,onDrop:_e=>O(_e,V.date),style:{minHeight:se,padding:l==="week"?12:10,background:De?"rgba(59, 130, 246, 0.1)":Re&&V.isCurrentMonth?"rgba(0,0,0,0.02)":"var(--color-bg-secondary)",borderRadius:10,border:De?"2px solid var(--color-primary)":"1px solid var(--color-border)",opacity:V.isCurrentMonth?1:.4,transition:"background 0.2s"},onDragEnter:_e=>{_e.currentTarget.style.background="rgba(59, 130, 246, 0.15)"},onDragLeave:_e=>{_e.currentTarget.style.background=De?"rgba(59, 130, 246, 0.1)":Re&&V.isCurrentMonth?"rgba(0,0,0,0.02)":"var(--color-bg-secondary)"},children:[e.jsxs("div",{style:{fontWeight:De?700:600,fontSize:l==="week"?18:14,marginBottom:8,color:De?"var(--color-primary)":"inherit",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("span",{children:V.date.getDate()}),ue.length>0&&e.jsx("span",{style:{background:"var(--color-primary)",color:"#fff",borderRadius:"50%",width:22,height:22,display:"flex",alignItems:"center",justifyContent:"center",fontSize:11,fontWeight:700},children:ue.length})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:6},children:[ue.slice(0,Se).map(_e=>{const Qe=Vl[_e.status]||"#3b82f6",Ue=q(_e),K=_e.status==="OLCU_ALINDI";return e.jsxs("div",{draggable:!K,onDragStart:je=>C(je,_e),onDragEnd:A,onClick:je=>{je.stopPropagation(),le(_e)},style:{padding:l==="week"?"10px 12px":"8px 10px",background:Qe,color:"white",borderRadius:8,cursor:K?"default":"grab",transition:"transform 0.1s, box-shadow 0.1s",boxShadow:"0 2px 4px rgba(0,0,0,0.15)",opacity:K?.6:1},onMouseEnter:je=>{K||(je.currentTarget.style.transform="scale(1.03)",je.currentTarget.style.boxShadow="0 4px 8px rgba(0,0,0,0.25)")},onMouseLeave:je=>{je.currentTarget.style.transform="scale(1)",je.currentTarget.style.boxShadow="0 2px 4px rgba(0,0,0,0.15)"},title:`${_e.customerName} - ${_e.title}
${H(_e)}
Durum: ${Mo[_e.status]||_e.status}`,children:[l==="week"&&Ue&&e.jsxs("div",{style:{fontSize:11,opacity:.9,marginBottom:4,background:"rgba(255,255,255,0.2)",display:"inline-block",padding:"2px 6px",borderRadius:4},children:[" ",Ue]}),e.jsx("div",{style:{fontWeight:700,fontSize:l==="week"?14:13,marginBottom:2,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:_e.customerName||"Mteri"}),e.jsx("div",{style:{fontSize:l==="week"?12:11,opacity:.9,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",marginBottom:2},children:_e.title||_e.id}),l==="week"&&_e.roles&&_e.roles.length>0&&e.jsx("div",{style:{fontSize:10,opacity:.75,fontStyle:"italic",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:H(_e)})]},_e.id)}),ue.length>Se&&e.jsxs("div",{style:{fontSize:11,color:"var(--color-primary)",textAlign:"center",padding:6,background:"rgba(59, 130, 246, 0.1)",borderRadius:6,cursor:"pointer",fontWeight:600},onClick:()=>le(ue[Se]),children:["+",ue.length-Se," daha"]})]})]},I)})})]}),e.jsx("div",{className:"card",style:{marginTop:16,padding:16},children:e.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:20,alignItems:"center",justifyContent:"center"},children:[e.jsx("span",{style:{fontWeight:600,color:"var(--color-text-secondary)",marginRight:8},children:"DURUM:"}),Object.entries(Vl).map(([V,I])=>e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[e.jsx("div",{style:{width:16,height:16,borderRadius:4,background:I}}),e.jsx("span",{style:{fontSize:12,fontWeight:500},children:Mo[V]})]},V))]})})]})]}),e.jsx(qe,{isOpen:w,onClose:()=>{N(!1),v(null)},title:"Randevu Saati Sein",size:"sm",children:e.jsx("div",{style:{padding:16},children:f&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{marginBottom:16,padding:12,background:"var(--color-bg-secondary)",borderRadius:8},children:[e.jsx("div",{style:{fontWeight:600},children:f.job.customerName}),e.jsx("div",{style:{fontSize:13,color:"var(--color-text-muted)"},children:f.job.title}),e.jsxs("div",{style:{fontSize:12,color:"var(--color-primary)",marginTop:4},children:[" ",f.date.toLocaleDateString("tr-TR",{weekday:"long",day:"numeric",month:"long"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Randevu Saati"}),e.jsx("select",{className:"form-input",value:b,onChange:V=>y(V.target.value),children:xe.map(V=>e.jsx("option",{value:V,children:V},V))})]}),e.jsxs("div",{style:{display:"flex",gap:10,marginTop:20},children:[e.jsx("button",{className:"btn btn-secondary",onClick:()=>{N(!1),v(null)},style:{flex:1},children:"ptal"}),e.jsx("button",{className:"btn btn-primary",onClick:fe,style:{flex:1},children:" Randevu Ver"})]})]})})}),e.jsx(qe,{isOpen:g,onClose:()=>h(!1),title:" Detay",size:"md",children:k&&e.jsxs("div",{style:{padding:8},children:[e.jsx("div",{style:{background:`linear-gradient(135deg, ${Vl[k.status]||"#3b82f6"} 0%, ${Vl[k.status]||"#3b82f6"}dd 100%)`,padding:20,borderRadius:12,marginBottom:20,color:"#fff"},children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[e.jsxs("div",{children:[e.jsxs("div",{style:{fontWeight:700,fontSize:20,marginBottom:4},children:[" ",k.customerName||"Mteri Yok"]}),e.jsx("div",{style:{fontSize:14,opacity:.9,marginBottom:8},children:k.title||k.id}),k.roles&&k.roles.length>0&&e.jsx("div",{style:{display:"inline-block",background:"rgba(255,255,255,0.2)",padding:"4px 12px",borderRadius:16,fontSize:12,fontWeight:600},children:H(k)})]}),e.jsx("span",{style:{background:"rgba(255,255,255,0.2)",padding:"6px 14px",borderRadius:20,fontSize:12,fontWeight:600},children:Mo[k.status]||k.status})]})}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16,marginBottom:20},children:[e.jsxs("div",{style:{background:"var(--color-bg-secondary)",padding:14,borderRadius:10},children:[e.jsx("div",{className:"text-muted",style:{fontSize:11,marginBottom:4},children:"Randevu Tarihi"}),e.jsx("div",{style:{fontWeight:600,color:(be=(ke=k.measure)==null?void 0:ke.appointment)!=null&&be.date?"var(--color-primary)":"var(--color-text-muted)"},children:(W=(we=k.measure)==null?void 0:we.appointment)!=null&&W.date?U(k.measure.appointment.date):"Randevu Verilmedi"})]}),e.jsxs("div",{style:{background:"var(--color-bg-secondary)",padding:14,borderRadius:10},children:[e.jsx("div",{className:"text-muted",style:{fontSize:11,marginBottom:4},children:"Oluturulma"}),e.jsx("div",{style:{fontWeight:600},children:G(k.createdAt)})]})]}),k.roles&&k.roles.length>0&&e.jsxs("div",{style:{marginBottom:20},children:[e.jsx("div",{style:{fontWeight:600,marginBottom:10,fontSize:14},children:"  Kollar"}),e.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:k.roles.map(V=>e.jsx("span",{style:{background:"var(--color-bg-secondary)",padding:"6px 12px",borderRadius:8,fontSize:13,fontWeight:500},children:V.name},V.id))})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:10,paddingTop:16,borderTop:"1px solid var(--color-border)"},children:[e.jsx("button",{className:"btn btn-secondary",onClick:()=>h(!1),style:{padding:"10px 20px"},children:"Kapat"}),e.jsx("button",{className:"btn btn-primary",style:{padding:"10px 20px"},onClick:()=>{h(!1),t(`/isler/list?job=${k.id}&stage=0`)},children:"e Git "})]})]})})]})},$N=({isOpen:t,onClose:n,onConfirm:s,originalDate:r,newDate:a,delayDays:l,title:i="Gecikme Nedeni Gerekli"})=>{const[o,d]=c.useState([]),[m,p]=c.useState([]),[g,h]=c.useState(!0),[k,x]=c.useState(!1),[w,N]=c.useState({reason:"",responsiblePersonId:"",note:""}),[f,v]=c.useState({});c.useEffect(()=>{t&&b()},[t]);const b=async()=>{try{h(!0);const[z,P]=await Promise.all([Ji(),Sl()]);d((z==null?void 0:z.delayReasons)||[]),p(P||[])}catch(z){console.error("Veri yklenemedi:",z)}finally{h(!1)}};c.useEffect(()=>{t&&(N({reason:"",responsiblePersonId:"",note:""}),v({}))},[t]);const y=()=>{const z={};return w.reason||(z.reason="Gecikme nedeni zorunludur"),w.responsiblePersonId||(z.responsiblePersonId="Sorumlu kii zorunludur"),v(z),Object.keys(z).length===0},S=async()=>{if(y()){x(!0);try{await s({reason:w.reason,responsiblePersonId:w.responsiblePersonId,note:w.note||null})}catch(z){console.error("Gecikme kaydedilemedi:",z)}finally{x(!1)}}},j=z=>{if(!z)return"-";try{return new Date(z).toLocaleDateString("tr-TR")}catch{return z}};return e.jsx(qe,{isOpen:t,onClose:n,title:i,size:"small",children:g?e.jsx("div",{style:{padding:40,textAlign:"center"},children:"Ykleniyor..."}):e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:20},children:[e.jsxs("div",{style:{background:"var(--color-warning-light, #FEF3C7)",border:"1px solid var(--color-warning, #F59E0B)",borderRadius:8,padding:16},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:8},children:[e.jsx(us,{name:"warning",sx:{fontSize:20}}),e.jsxs("span",{style:{fontWeight:600,color:"var(--color-warning-dark, #B45309)"},children:["Tarih ",l," gn ertelendi"]})]}),e.jsxs("div",{style:{display:"flex",gap:20,fontSize:14,color:"#666"},children:[e.jsxs("div",{children:[e.jsx("span",{style:{fontWeight:500},children:"Eski:"})," ",j(r)]}),e.jsxs("div",{children:[e.jsx("span",{style:{fontWeight:500},children:"Yeni:"})," ",j(a)]})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:["Gecikme Nedeni ",e.jsx("span",{style:{color:"var(--color-danger)"},children:"*"})]}),e.jsxs("select",{className:`form-input ${f.reason?"input-error":""}`,value:w.reason,onChange:z=>N(P=>({...P,reason:z.target.value})),children:[e.jsx("option",{value:"",children:"Seiniz..."}),o.filter(z=>z.active!==!1).map(z=>e.jsx("option",{value:z.id,children:z.name},z.id))]}),f.reason&&e.jsx("div",{className:"form-error",children:f.reason})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:["Sorumlu Kii ",e.jsx("span",{style:{color:"var(--color-danger)"},children:"*"})]}),e.jsxs("select",{className:`form-input ${f.responsiblePersonId?"input-error":""}`,value:w.responsiblePersonId,onChange:z=>N(P=>({...P,responsiblePersonId:z.target.value})),children:[e.jsx("option",{value:"",children:"Seiniz..."}),m.map(z=>e.jsxs("option",{value:z.id,children:[z.ad," ",z.soyad||""]},z.id))]}),f.responsiblePersonId&&e.jsx("div",{className:"form-error",children:f.responsiblePersonId})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Aklama (Opsiyonel)"}),e.jsx("textarea",{className:"form-input",rows:3,value:w.note,onChange:z=>N(P=>({...P,note:z.target.value})),placeholder:"Gecikme hakknda ek bilgi..."})]}),e.jsxs("div",{style:{display:"flex",gap:12,justifyContent:"flex-end",marginTop:8},children:[e.jsx("button",{className:"btn btn-secondary",onClick:n,disabled:k,children:"ptal"}),e.jsx("button",{className:"btn btn-primary",onClick:S,disabled:k,children:k?"Kaydediliyor...":"Kaydet ve Devam Et"})]})]})})},Po={pending:"#f59e0b",in_progress:"#3b82f6",completed:"#10b981",cancelled:"#6b7280"},Qu={pending:"Bekliyor",in_progress:"retimde",completed:"Tamamland",cancelled:"ptal"},rI=()=>{const[t,n]=c.useState([]),[s,r]=c.useState([]),[a,l]=c.useState([]),[i,o]=c.useState(!0),[d,m]=c.useState(""),[p,g]=c.useState(new Date),[h,k]=c.useState("monthly"),[x,w]=c.useState(null),[N,f]=c.useState(null),[v,b]=c.useState(!1),[y,S]=c.useState(!1),[j,z]=c.useState(null);c.useEffect(()=>{P()},[]);const P=async()=>{try{o(!0),m("");const[ie,L,ne]=await Promise.all([BS().catch(()=>[]),ja().catch(()=>[]),ba(!0).catch(()=>[])]),he=ie.filter(M=>M.orderType==="internal"&&M.status!=="cancelled").map(M=>{var we;const re=L.find(W=>W.id===M.jobId),ke=ne.find(W=>W.id===M.roleId),be=((we=ke==null?void 0:ke.name)==null?void 0:we.substring(0,3).toUpperCase())||"";return{...M,customerName:M.customerName||(re==null?void 0:re.customerName)||"",jobTitle:(re==null?void 0:re.title)||M.jobTitle||"",roleName:(ke==null?void 0:ke.name)||M.roleName||"",roleShort:be}});n(he),r(L),l(ne)}catch(ie){m(ie.message||"Veriler alnamad")}finally{o(!1)}},$=ie=>{var ne;const L=s.find(he=>he.id===ie);return((ne=L==null?void 0:L.estimatedAssembly)==null?void 0:ne.date)||null},B=c.useMemo(()=>{const ie=p.getFullYear(),L=p.getMonth(),ne=new Date(ie,L,1),he=new Date(ie,L+1,0);let M=ne.getDay();M=M===0?6:M-1;const re=[];for(let be=M-1;be>=0;be--){const we=new Date(ie,L,-be);re.push({date:we,isCurrentMonth:!1})}for(let be=1;be<=he.getDate();be++)re.push({date:new Date(ie,L,be),isCurrentMonth:!0});const ke=42-re.length;for(let be=1;be<=ke;be++)re.push({date:new Date(ie,L+1,be),isCurrentMonth:!1});return re},[p]),q=c.useMemo(()=>{const ie=new Date(p),L=ie.getDay(),ne=L===0?-6:1-L,he=new Date(ie);he.setDate(ie.getDate()+ne);const M=[];for(let re=0;re<7;re++){const ke=new Date(he);ke.setDate(he.getDate()+re),M.push({date:ke,isCurrentMonth:!0})}return M},[p]),C=h==="monthly"?B:q,Z=ie=>{const L=ie.toISOString().split("T")[0];return t.filter(ne=>ne.plannedDate===L)},A=c.useMemo(()=>t.filter(ie=>!ie.plannedDate&&ie.status!=="completed"),[t]),O=(ie,L)=>{w(L),ie.dataTransfer.effectAllowed="move",ie.dataTransfer.setData("text/plain",L.id)},_=ie=>{ie.preventDefault(),ie.dataTransfer.dropEffect="move"},fe=(ie,L)=>{ie.preventDefault();const ne=ie.dataTransfer.getData("text/plain"),he=t.find(ke=>ke.id===ne);if(!he){w(null);return}const M=$(he.jobId);if(M){const ke=new Date(M);if(L>ke){alert(" retim tarihi montaj tarihinden sonra olamaz!"),w(null);return}}const re=L.toISOString().split("T")[0];if(he.plannedDate){const ke=new Date(he.plannedDate),be=new Date(re);if(be>ke){const we=Math.ceil((be-ke)/864e5);z({orderId:ne,oldDate:he.plannedDate,newDate:re,delayDays:we}),S(!0),w(null);return}}n(ke=>ke.map(be=>be.id===ne?{...be,plannedDate:re}:be)),w(null),Iu(ne,{plannedDate:re}).catch(ke=>{console.error("Plan kaydedilemedi:",ke),P(),alert("Plan kaydedilemedi: "+(ke.message||"Bilinmeyen hata"))})},Q=ie=>{ie.preventDefault();const L=ie.dataTransfer.getData("text/plain"),ne=t.find(he=>he.id===L);if(!ne||!ne.plannedDate){w(null);return}n(he=>he.map(M=>M.id===L?{...M,plannedDate:null}:M)),w(null),Iu(L,{plannedDate:null}).catch(he=>{console.error("Plan kaldrlamad:",he),P(),alert("Plan kaldrlamad: "+(he.message||"Bilinmeyen hata"))})},le=()=>{w(null)},ye=async({reason:ie,responsiblePersonId:L,note:ne})=>{if(!j)return;const{orderId:he,newDate:M}=j;try{await Iu(he,{plannedDate:M}),await m4(he,{delayReason:ie,delayNote:ne,responsiblePersonId:L}),n(re=>re.map(ke=>ke.id===he?{...ke,plannedDate:M}:ke))}catch(re){console.error("Erteleme kaydedilemedi:",re),alert("Erteleme kaydedilemedi: "+(re.message||"Bilinmeyen hata"))}finally{S(!1),z(null)}},E=()=>{S(!1),z(null)},D=ie=>{const L=new Date(p);h==="monthly"?L.setMonth(L.getMonth()+ie):L.setDate(L.getDate()+ie*7),g(L)},G=()=>{g(new Date)},U=ie=>{f(ie),b(!0)},H=new Date;H.setHours(0,0,0,0);const oe=["Ocak","ubat","Mart","Nisan","Mays","Haziran","Temmuz","Austos","Eyll","Ekim","Kasm","Aralk"],te=["Pzt","Sal","ar","Per","Cum","Cmt","Paz"],F=["Pazartesi","Sal","aramba","Perembe","Cuma","Cumartesi","Pazar"],J=ie=>ie?new Date(ie).toLocaleDateString("tr-TR"):"-",xe=()=>{if(q.length===0)return"";const ie=q[0].date,L=q[6].date;return`${ie.getDate()} ${oe[ie.getMonth()]} - ${L.getDate()} ${oe[L.getMonth()]} ${L.getFullYear()}`};return i?e.jsx(kt,{text:"retim plan ykleniyor..."}):d?e.jsxs("div",{children:[e.jsx(it,{title:"retim Plan",subtitle:"Takvim bazl retim planlamas"}),e.jsxs("div",{className:"card error-card",children:[e.jsx("div",{className:"error-title",children:"Hata"}),e.jsx("div",{className:"error-message",children:d})]})]}):e.jsxs("div",{children:[e.jsx(it,{title:"retim Plan",subtitle:" retim emirlerini takvime srkle-brak ile planlayn"}),e.jsxs("div",{style:{display:"flex",gap:24},children:[e.jsx("div",{style:{width:320,flexShrink:0},children:e.jsxs("div",{className:"card",style:{padding:20,border:x!=null&&x.plannedDate?"2px dashed var(--color-primary)":void 0,transition:"border 0.2s",height:h==="weekly"?"auto":"calc(100vh - 220px)",display:"flex",flexDirection:"column"},onDragOver:_,onDrop:Q,children:[e.jsxs("h4",{style:{marginBottom:12,display:"flex",alignItems:"center",gap:8},children:[" Planlanmam Emirler",e.jsx("span",{className:"badge badge-warning",style:{fontSize:12},children:A.length})]}),e.jsx("div",{style:{fontSize:12,color:"var(--color-text-muted)",marginBottom:16},children:"Takvime srkleyin veya takvimden buraya geri brakn"}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:10,flex:1,overflowY:"auto"},children:A.length===0?e.jsx("div",{className:"text-muted",style:{textAlign:"center",padding:40,background:"var(--color-bg-secondary)",borderRadius:12,border:"2px dashed var(--color-border)"},children:x!=null&&x.plannedDate?e.jsx("span",{style:{color:"var(--color-primary)",fontSize:14},children:" Buraya brakn"}):e.jsx(e.Fragment,{children:" Tm emirler planland"})}):A.map(ie=>{var ne;const L=$(ie.jobId);return e.jsxs("div",{draggable:!0,onDragStart:he=>O(he,ie),onDragEnd:le,onClick:()=>U(ie),style:{padding:"14px 16px",background:"var(--color-bg-secondary)",borderRadius:10,cursor:"grab",borderLeft:`5px solid ${Po[ie.status]||"#ccc"}`,transition:"transform 0.1s, box-shadow 0.1s"},onMouseEnter:he=>{he.currentTarget.style.transform="scale(1.02)",he.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.15)"},onMouseLeave:he=>{he.currentTarget.style.transform="scale(1)",he.currentTarget.style.boxShadow="none"},title:"Detay iin tklayn, takvime srkleyip brakn",children:[e.jsxs("div",{style:{fontWeight:700,fontSize:15,color:"var(--color-primary)",marginBottom:6},children:[" ",ie.customerName||"Mteri Yok"]}),e.jsx("div",{style:{display:"inline-block",background:"var(--color-primary)",color:"#fff",padding:"3px 10px",borderRadius:12,fontSize:12,fontWeight:600,marginBottom:6},children:ie.roleName||" Kolu"}),e.jsx("div",{style:{fontSize:12,color:"var(--color-text-muted)",marginTop:4},children:ie.id}),e.jsxs("div",{style:{display:"flex",gap:6,marginTop:8,flexWrap:"wrap"},children:[e.jsx("span",{className:`badge badge-${ie.status==="pending"?"warning":"primary"}`,style:{fontSize:10},children:Qu[ie.status]||ie.status}),((ne=ie.items)==null?void 0:ne.length)>0&&e.jsxs("span",{className:"badge badge-secondary",style:{fontSize:10},children:[ie.items.length," kalem"]})]}),L&&e.jsxs("div",{style:{fontSize:11,color:"var(--color-info)",marginTop:6},children:[" Montaj: ",J(L)]})]},ie.id)})})]})}),e.jsxs("div",{style:{flex:1,minWidth:0},children:[e.jsxs("div",{className:"card",style:{padding:20},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:20},children:[e.jsxs("button",{className:"btn btn-secondary",onClick:()=>D(-1),title:h==="monthly"?"nceki Ay":"nceki Hafta",children:[" ",h==="monthly"?"nceki Ay":"nceki Hafta"]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:16},children:[e.jsx("h2",{style:{margin:0,fontSize:22},children:h==="monthly"?`${oe[p.getMonth()]} ${p.getFullYear()}`:xe()}),e.jsx("button",{className:"btn btn-sm btn-outline",onClick:G,style:{fontSize:12,padding:"6px 14px"},children:"Bugn"}),e.jsxs("div",{style:{display:"flex",background:"var(--color-bg-secondary)",borderRadius:8,padding:3},children:[e.jsx("button",{onClick:()=>k("monthly"),style:{padding:"8px 16px",border:"none",borderRadius:6,cursor:"pointer",fontSize:13,fontWeight:600,background:h==="monthly"?"var(--color-primary)":"transparent",color:h==="monthly"?"#fff":"var(--color-text-secondary)",transition:"all 0.2s"},children:" Aylk"}),e.jsx("button",{onClick:()=>k("weekly"),style:{padding:"8px 16px",border:"none",borderRadius:6,cursor:"pointer",fontSize:13,fontWeight:600,background:h==="weekly"?"var(--color-primary)":"transparent",color:h==="weekly"?"#fff":"var(--color-text-secondary)",transition:"all 0.2s"},children:" Haftalk"})]})]}),e.jsxs("button",{className:"btn btn-secondary",onClick:()=>D(1),title:h==="monthly"?"Sonraki Ay":"Sonraki Hafta",children:[h==="monthly"?"Sonraki Ay":"Sonraki Hafta"," "]})]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:8,marginBottom:8},children:(h==="weekly"?F:te).map((ie,L)=>e.jsx("div",{style:{textAlign:"center",fontWeight:700,fontSize:h==="weekly"?14:13,padding:h==="weekly"?12:10,color:"var(--color-text-secondary)",background:"var(--color-bg-secondary)",borderRadius:8},children:ie},ie))}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:8},children:C.map((ie,L)=>{const{date:ne,isCurrentMonth:he}=ie,M=ne.toDateString()===H.toDateString(),re=Z(ne),ke=ne<H,be=h==="weekly"?320:160,we=h==="weekly"?6:2;return e.jsxs("div",{onDragOver:_,onDrop:W=>fe(W,ne),style:{minHeight:be,padding:h==="weekly"?12:10,background:M?"rgba(59, 130, 246, 0.1)":ke&&he?"rgba(0,0,0,0.02)":"var(--color-bg-secondary)",borderRadius:10,border:M?"2px solid var(--color-primary)":"1px solid var(--color-border)",opacity:he?1:.4,transition:"background 0.2s, transform 0.1s"},onDragEnter:W=>{W.currentTarget.style.background="rgba(59, 130, 246, 0.15)"},onDragLeave:W=>{W.currentTarget.style.background=M?"rgba(59, 130, 246, 0.1)":ke&&he?"rgba(0,0,0,0.02)":"var(--color-bg-secondary)"},children:[e.jsxs("div",{style:{fontWeight:M?700:600,fontSize:h==="weekly"?18:14,marginBottom:8,color:M?"var(--color-primary)":"inherit",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("span",{children:ne.getDate()}),re.length>0&&e.jsx("span",{style:{background:"var(--color-primary)",color:"#fff",borderRadius:"50%",width:22,height:22,display:"flex",alignItems:"center",justifyContent:"center",fontSize:11,fontWeight:700},children:re.length})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:6},children:[re.slice(0,we).map(W=>e.jsxs("div",{draggable:!0,onDragStart:V=>O(V,W),onDragEnd:le,onClick:V=>{V.stopPropagation(),U(W)},style:{padding:h==="weekly"?"10px 12px":"8px 10px",background:Po[W.status]||"#ccc",color:"white",borderRadius:8,fontSize:h==="weekly"?14:13,fontWeight:600,cursor:"grab",transition:"transform 0.1s, box-shadow 0.1s",boxShadow:"0 2px 4px rgba(0,0,0,0.15)"},onMouseEnter:V=>{V.currentTarget.style.transform="scale(1.03)",V.currentTarget.style.boxShadow="0 4px 8px rgba(0,0,0,0.25)"},onMouseLeave:V=>{V.currentTarget.style.transform="scale(1)",V.currentTarget.style.boxShadow="0 2px 4px rgba(0,0,0,0.15)"},title:`${W.customerName||"Mteri Yok"} - ${W.roleName||" Kolu"}
Detay iin tklayn`,children:[e.jsx("div",{style:{fontWeight:700,fontSize:h==="weekly"?14:13,marginBottom:4,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:W.customerName||"Mteri"}),e.jsx("div",{style:{display:"inline-block",background:"rgba(255,255,255,0.25)",padding:"3px 8px",borderRadius:6,fontSize:h==="weekly"?12:11,fontWeight:600},children:W.roleName||W.roleShort||" Kolu"})]},W.id)),re.length>we&&e.jsxs("div",{style:{fontSize:11,color:"var(--color-primary)",textAlign:"center",padding:4,background:"rgba(59, 130, 246, 0.1)",borderRadius:4,cursor:"pointer",fontWeight:600},onClick:()=>{U(re[we])},children:["+",re.length-we," daha"]})]})]},L)})})]}),e.jsxs("div",{style:{display:"flex",gap:20,marginTop:16,justifyContent:"center",flexWrap:"wrap",alignItems:"center"},children:[Object.entries(Po).map(([ie,L])=>e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[e.jsx("div",{style:{width:14,height:14,borderRadius:4,background:L}}),e.jsx("span",{style:{fontSize:12,fontWeight:500},children:Qu[ie]})]},ie)),e.jsx("div",{style:{fontSize:12,color:"var(--color-text-muted)",marginLeft:24},children:" Tklayarak detay grn, srkleyerek tayn"})]})]})]}),e.jsx(qe,{isOpen:v,onClose:()=>b(!1),title:"Emir Detay",size:"md",children:N&&e.jsxs("div",{style:{padding:8},children:[e.jsx("div",{style:{background:"linear-gradient(135deg, var(--color-primary) 0%, #6366f1 100%)",padding:20,borderRadius:12,marginBottom:20,color:"#fff"},children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[e.jsxs("div",{children:[e.jsxs("div",{style:{fontWeight:700,fontSize:22,marginBottom:6},children:[" ",N.customerName||"Mteri Bilgisi Yok"]}),e.jsx("div",{style:{display:"inline-block",background:"rgba(255,255,255,0.2)",padding:"4px 12px",borderRadius:16,fontSize:13,fontWeight:600,marginBottom:8},children:N.roleName||" Kolu"}),e.jsxs("div",{style:{fontSize:12,opacity:.9,marginTop:4},children:[" No: ",N.jobId]})]}),e.jsx("span",{style:{background:Po[N.status]||"#ccc",padding:"6px 14px",borderRadius:20,fontSize:12,fontWeight:600},children:Qu[N.status]||N.status})]})}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:20,marginBottom:20},children:[e.jsxs("div",{style:{background:"var(--color-bg-secondary)",padding:16,borderRadius:10},children:[e.jsx("div",{className:"text-muted",style:{fontSize:11,marginBottom:6},children:"Emir No"}),e.jsx("div",{style:{fontWeight:700,fontSize:14},children:N.id})]}),e.jsxs("div",{style:{background:"var(--color-bg-secondary)",padding:16,borderRadius:10},children:[e.jsx("div",{className:"text-muted",style:{fontSize:11,marginBottom:6},children:"Oluturulma"}),e.jsx("div",{style:{fontWeight:600},children:J(N.createdAt)})]}),e.jsxs("div",{style:{background:"var(--color-bg-secondary)",padding:16,borderRadius:10},children:[e.jsx("div",{className:"text-muted",style:{fontSize:11,marginBottom:6},children:"Planlanan Tarih"}),e.jsx("div",{style:{fontWeight:700,fontSize:14,color:N.plannedDate?"var(--color-primary)":"var(--color-text-muted)"},children:N.plannedDate?J(N.plannedDate):"Planlanmad"})]}),e.jsxs("div",{style:{background:"var(--color-bg-secondary)",padding:16,borderRadius:10},children:[e.jsx("div",{className:"text-muted",style:{fontSize:11,marginBottom:6},children:"Montaj Tarihi"}),e.jsx("div",{style:{fontWeight:600,color:"var(--color-info)"},children:J($(N.jobId))})]})]}),N.items&&N.items.length>0&&e.jsxs("div",{style:{marginBottom:20},children:[e.jsx("div",{style:{fontWeight:700,marginBottom:12,fontSize:15},children:" retim Kalemleri"}),e.jsxs("table",{className:"data-table",style:{fontSize:13},children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"rn"}),e.jsx("th",{style:{textAlign:"right"},children:"Miktar"}),e.jsx("th",{style:{textAlign:"right"},children:"Birim"})]})}),e.jsx("tbody",{children:N.items.map((ie,L)=>e.jsxs("tr",{children:[e.jsx("td",{style:{fontWeight:500},children:ie.name||ie.productId||"-"}),e.jsx("td",{style:{textAlign:"right",fontWeight:600},children:ie.quantity}),e.jsx("td",{style:{textAlign:"right"},children:ie.unit||"adet"})]},L))})]})]}),N.notes&&e.jsxs("div",{style:{marginBottom:20},children:[e.jsx("div",{style:{fontWeight:700,marginBottom:8,fontSize:15},children:" Notlar"}),e.jsx("div",{style:{background:"var(--color-bg-secondary)",padding:16,borderRadius:10,fontSize:14,lineHeight:1.6},children:N.notes})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:10,paddingTop:16,borderTop:"1px solid var(--color-border)"},children:[e.jsx("button",{className:"btn btn-secondary",onClick:()=>b(!1),style:{padding:"10px 20px"},children:"Kapat"}),e.jsx("button",{className:"btn btn-primary",style:{padding:"10px 20px"},onClick:()=>{window.location.href=`/isler/list?job=${N.jobId}&stage=4`},children:"e Git "})]})]})}),e.jsx($N,{isOpen:y,onClose:E,onConfirm:ye,originalDate:j==null?void 0:j.oldDate,newDate:j==null?void 0:j.newDate,delayDays:(j==null?void 0:j.delayDays)||0,title:"retim Erteleme - Gecikme Nedeni Gerekli"})]})},aI=()=>e.jsxs("div",{children:[e.jsx(it,{title:"Sayfa bulunamad",subtitle:"Aradnz sayfa kaldrlm olabilir"}),e.jsx("div",{className:"card subtle-card",children:e.jsxs("div",{className:"empty-state",children:[e.jsx("div",{className:"empty-state-icon",children:""}),e.jsx("div",{className:"empty-state-title",children:"404"}),e.jsx("div",{className:"empty-state-description",children:"Yanl bir balantya tkladysanz menden doru modl seebilirsiniz."}),e.jsx(al,{className:"btn btn-primary",to:"/dashboard",children:"Kontrol Paneline Dn"})]})})]}),Nt=t=>new Intl.NumberFormat("tr-TR").format(t||0),ut=t=>`${new Intl.NumberFormat("tr-TR",{minimumFractionDigits:2,maximumFractionDigits:2}).format(t||0)} `,tb=[{id:"performance",label:" Genel",printTitle:"Genel Performans Raporu"},{id:"inquiry",label:" Fiyat Sorgusu",printTitle:"Fiyat Sorgusu Dnm Raporu"},{id:"suppliers",label:" Tedariki",printTitle:"Tedariki Performans Raporu"},{id:"customers",label:" Mteri",printTitle:"Mteri Analiz Raporu"},{id:"cancellations",label:" ptal/Red",printTitle:"ptal Analiz Raporu"},{id:"personnel",label:" Personel",printTitle:"Personel Verimlilik Raporu"},{id:"process",label:" Sre",printTitle:"Sre Analiz Raporu"},{id:"comparison",label:" Karlatrma",printTitle:"Dnemsel Karlatrma"},{id:"production",label:" retim",printTitle:"retim Raporu"},{id:"finance",label:" Finansal",printTitle:"Finansal Rapor"}],lI=`
  @media print {
    @page { size: A4; margin: 15mm; }
    body { font-family: 'Segoe UI', Arial, sans-serif !important; font-size: 11pt !important; }
    .sidebar, .navbar, .no-print, button { display: none !important; }
    .main-content { margin: 0 !important; padding: 0 !important; width: 100% !important; }
    .print-header { display: block !important; text-align: center; border-bottom: 2px solid #333; padding-bottom: 15px; margin-bottom: 20px; }
    .print-header h1 { font-size: 18pt !important; margin: 0 0 5px 0; }
    .print-header .print-meta { font-size: 10pt; color: #666; }
    .card { border: 1px solid #ddd !important; box-shadow: none !important; break-inside: avoid; margin-bottom: 15px !important; }
    .card-header { background: #f5f5f5 !important; border-bottom: 1px solid #ddd !important; }
    .report-table { width: 100% !important; border-collapse: collapse !important; font-size: 10pt !important; }
    .report-table th, .report-table td { border: 1px solid #ccc !important; padding: 8px 10px !important; }
    .report-table th { background: #f0f0f0 !important; font-weight: 600 !important; }
    .col-money, .col-number { text-align: right !important; font-family: 'Consolas', monospace !important; }
    .badge { border: 1px solid #999 !important; background: #f5f5f5 !important; color: #000 !important; }
  }
`,lt=({title:t,value:n,subtitle:s,icon:r,color:a="primary"})=>e.jsx("div",{className:"card no-break",style:{margin:0},children:e.jsxs("div",{className:"card-body",style:{padding:16,display:"flex",alignItems:"center",gap:16},children:[e.jsx("div",{className:"no-print",style:{width:48,height:48,borderRadius:12,background:`var(--color-${a}-bg)`,display:"flex",alignItems:"center",justifyContent:"center",fontSize:24},children:typeof r=="string"?e.jsx(me,{icon:r,sx:{fontSize:24}}):r}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:24,fontWeight:700,color:`var(--color-${a})`},children:n}),e.jsx("div",{style:{fontSize:13,color:"var(--color-text-secondary)"},children:t}),s&&e.jsx("div",{style:{fontSize:11,color:"var(--color-text-muted)"},children:s})]})]})}),Ma=({value:t,max:n,color:s="primary",label:r})=>{const a=n>0?Math.round(t/n*100):0;return e.jsxs("div",{style:{marginBottom:12},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:4,fontSize:12},children:[e.jsx("span",{children:r}),e.jsxs("span",{style:{fontWeight:600},children:["%",a]})]}),e.jsx("div",{style:{height:10,background:"var(--color-bg-secondary)",borderRadius:4,overflow:"hidden"},children:e.jsx("div",{style:{width:`${a}%`,height:"100%",background:`var(--color-${s})`,borderRadius:4}})})]})},Rn=({columns:t,data:n,emptyText:s="Veri bulunamad"})=>e.jsx("div",{style:{overflowX:"auto"},children:e.jsxs("table",{className:"report-table",style:{width:"100%",borderCollapse:"collapse",fontSize:13},children:[e.jsx("thead",{children:e.jsx("tr",{children:t.map((r,a)=>e.jsx("th",{style:{padding:"12px 16px",textAlign:r.align||"left",background:"var(--color-bg-secondary)",borderBottom:"2px solid var(--color-border)",fontWeight:600,whiteSpace:"nowrap",minWidth:r.minWidth||"auto",width:r.width||"auto"},children:r.label},a))})}),e.jsx("tbody",{children:n.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:t.length,style:{padding:20,textAlign:"center",color:"var(--color-text-secondary)"},children:s})}):n.map((r,a)=>e.jsx("tr",{style:{borderBottom:"1px solid var(--color-border)"},children:t.map((l,i)=>e.jsx("td",{className:l.type==="money"?"col-money":l.type==="number"?"col-number":"",style:{padding:"10px 16px",textAlign:l.align||(l.type==="money"||l.type==="number"?"right":"left"),whiteSpace:l.type==="money"?"nowrap":"normal",fontFamily:l.type==="money"||l.type==="number"?"'Consolas', monospace":"inherit",minWidth:l.minWidth||"auto"},children:l.render?l.render(r):r[l.accessor]},i))},a))})]})}),iI=()=>{var Ye,dt,Ke,ot,Dt,bt,Un,Kn,js,R,Ne,nt,st,Ge,rt,It,Rt,St,xt,As,Ln,Hn,rn,Cl,Sa,un,eo,wl,Vd;const[t,n]=c.useState("performance"),[s,r]=c.useState(!1),[a,l]=c.useState(""),[i,o]=c.useState(""),[d,m]=c.useState(""),[p,g]=c.useState(""),[h,k]=c.useState(""),[x,w]=c.useState(""),[N,f]=c.useState(""),[v,b]=c.useState(null),[y,S]=c.useState(null),[j,z]=c.useState(null),[P,$]=c.useState(null),[B,q]=c.useState(null),[C,Z]=c.useState(null),[A,O]=c.useState(null),[_,fe]=c.useState(null),[Q,le]=c.useState(null),[ye,E]=c.useState(null),[D,G]=c.useState(null),[U,H]=c.useState(!1),[oe,te]=c.useState(null),[F,J]=c.useState(!1),[xe,ie]=c.useState(null),[L,ne]=c.useState(null),[he,M]=c.useState(!1),[re,ke]=c.useState(null),[be,we]=c.useState(null),W=async ae=>{r(!0),l("");try{switch(ae){case"performance":b(await H6(i,d));break;case"production":S(await U6(i,d));break;case"finance":z(await K6(i,d));break;case"suppliers":$(await V6(i,d));break;case"customers":Z(await Y6(i,d));break;case"cancellations":O(await G6(i,d));break;case"comparison":p&&h&&x&&N&&fe(await J6(p,h,x,N));break;case"personnel":le(await Q6(i,d));break;case"process":E(await X6(i,d));break;case"inquiry":G(await Z6(i,d));break}}catch(Je){l(Je.message||"Rapor yklenemedi")}finally{r(!1)}};c.useEffect(()=>{t!=="comparison"&&W(t)},[t,i,d]);const V=()=>window.print(),I=()=>{if(!B||B.error)return;const{reportDate:ae,periodStart:Je,periodEnd:Ze,supplier:Ie,summary:Oe,delayedOrders:tt,problemOrders:an}=B,Es=window.open("","_blank");if(!Es){alert("Popup engelleyici aktif olabilir. Ltfen izin verin.");return}const Na=(tt==null?void 0:tt.length)>0?`
      <div class="section">
        <h3> Geciken Sipariler</h3>
        <table>
          <thead>
            <tr>
              <th>Sipari No</th>
              <th>Mteri</th>
              <th>Anlalan Tarih</th>
              <th>Teslim Tarihi</th>
              <th style="text-align:right">Gecikme</th>
              <th style="text-align:right">Adet</th>
            </tr>
          </thead>
          <tbody>
            ${tt.map(Mt=>`
              <tr>
                <td>${Mt.orderId}</td>
                <td>${Mt.customerName}</td>
                <td>${Mt.estimatedDelivery||"-"}</td>
                <td>${Mt.actualDelivery||"-"}</td>
                <td style="text-align:right;color:#dc2626;font-weight:600">${Mt.delayDays} gn</td>
                <td style="text-align:right">${Mt.quantity}</td>
              </tr>
            `).join("")}
          </tbody>
        </table>
      </div>
    `:"",ss=(an==null?void 0:an.length)>0?`
      <div class="section">
        <h3> Sorunlu Teslimatlar</h3>
        <table>
          <thead>
            <tr>
              <th>Sipari No</th>
              <th>Mteri</th>
              <th>rn</th>
              <th>Sorun Tipi</th>
              <th style="text-align:right">Sorunlu Adet</th>
            </tr>
          </thead>
          <tbody>
            ${an.map(Mt=>`
              <tr>
                <td>${Mt.orderId}</td>
                <td>${Mt.customerName}</td>
                <td>${Mt.itemName||"-"}</td>
                <td>${Mt.problemType||"-"}</td>
                <td style="text-align:right;color:#dc2626">${Mt.problemQty}</td>
              </tr>
            `).join("")}
          </tbody>
        </table>
      </div>
    `:"",qd=Oe.onTimeRate>=80?"#dcfce7":"#fef9c3",gr=Oe.onTimeRate>=80?"#86efac":"#fde047",Tl=Oe.onTimeRate>=80?`Bu dnemde %${Oe.onTimeRate} zamannda teslim oran ile anlama artlar karlanmtr.`:`Bu dnemde %${Oe.onTimeRate} zamannda teslim oran ile anlama artlarnn altnda performans gsterilmitir. Gecikmelerin nlenmesi iin gerekli tedbirlerin alnmasn rica ederiz.`,to=`
      <!DOCTYPE html>
      <html lang="tr">
      <head>
        <meta charset="UTF-8">
        <title>Tedariki Performans Raporu - ${Ie.name}</title>
        <style>
          * { box-sizing: border-box; margin: 0; padding: 0; }
          body { font-family: 'Segoe UI', Arial, sans-serif; font-size: 11pt; color: #333; padding: 20mm; }
          .header { text-align: center; border-bottom: 2px solid #333; padding-bottom: 20px; margin-bottom: 30px; }
          .header h1 { font-size: 18pt; margin-bottom: 10px; }
          .header .subtitle { font-size: 14pt; color: #555; }
          .header .meta { font-size: 10pt; color: #777; margin-top: 8px; }
          .summary-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 15px; margin-bottom: 25px; }
          .summary-box { padding: 15px; background: #f5f5f5; border-radius: 8px; text-align: center; }
          .summary-box .value { font-size: 22pt; font-weight: 700; }
          .summary-box .label { font-size: 10pt; color: #666; margin-top: 5px; }
          .summary-box .value.green { color: #22c55e; }
          .summary-box .value.yellow { color: #eab308; }
          .summary-box .value.red { color: #ef4444; }
          .stats-row { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 25px; }
          .stat-box { padding: 12px 15px; border-radius: 8px; }
          .stat-box.warning { background: #fef3c7; border: 1px solid #fcd34d; }
          .stat-box.danger { background: #fee2e2; border: 1px solid #fca5a5; }
          .stat-box .row { display: flex; justify-content: space-between; }
          .stat-box .detail { font-size: 10pt; color: #92400e; margin-top: 5px; }
          .section { margin-bottom: 25px; }
          .section h3 { font-size: 12pt; margin-bottom: 12px; color: #333; }
          table { width: 100%; border-collapse: collapse; font-size: 10pt; }
          th, td { border: 1px solid #ccc; padding: 8px 10px; text-align: left; }
          th { background: #f0f0f0; font-weight: 600; }
          .evaluation { padding: 15px; border-radius: 8px; margin-top: 25px; }
          .evaluation strong { display: block; margin-bottom: 8px; }
          .footer { margin-top: 40px; padding-top: 15px; border-top: 1px solid #ddd; font-size: 9pt; color: #888; text-align: center; }
          @media print { body { padding: 0; } }
        </style>
      </head>
      <body>
        <div class="header">
          <h1>TEDARK PERFORMANS RAPORU</h1>
          <div class="subtitle"><strong>${Ie.name}</strong> - ${Ie.category||"Tedariki"}</div>
          <div class="meta">Dnem: ${Je} - ${Ze} | Rapor Tarihi: ${ae}</div>
        </div>
        
        <div class="summary-grid">
          <div class="summary-box">
            <div class="value">${Oe.totalOrders}</div>
            <div class="label">Toplam Sipari</div>
          </div>
          <div class="summary-box">
            <div class="value">${Oe.totalQuantity}</div>
            <div class="label">Toplam Adet</div>
          </div>
          <div class="summary-box">
            <div class="value ${Oe.onTimeRate>=80?"green":"yellow"}">%${Oe.onTimeRate}</div>
            <div class="label">Zamannda Teslim</div>
          </div>
          <div class="summary-box">
            <div class="value ${Oe.problemRate>5?"red":"green"}">%${Oe.problemRate}</div>
            <div class="label">Sorun Oran</div>
          </div>
        </div>
        
        <div class="stats-row">
          <div class="stat-box warning">
            <div class="row">
              <span>Gecikmeli Teslimat:</span>
              <strong>${Oe.delayedCount} adet</strong>
            </div>
            ${Oe.delayedCount>0?`<div class="detail">Ortalama Gecikme: <strong>${Oe.avgDelayDays} gn</strong></div>`:""}
          </div>
          <div class="stat-box danger">
            <div class="row">
              <span>Sorunlu Teslimat:</span>
              <strong>${Oe.problemQuantity} adet</strong>
            </div>
          </div>
        </div>
        
        ${Na}
        ${ss}
        
        <div class="evaluation" style="background:${qd};border:1px solid ${gr}">
          <strong> Deerlendirme:</strong>
          <p>${Tl}${Oe.problemQuantity>0?` Ayrca ${Oe.problemQuantity} adet sorunlu teslimat tespit edilmitir.`:""}</p>
        </div>
        
        <div class="footer">
          Bu rapor otomatik olarak oluturulmutur.
        </div>
        
        <script>
          window.onload = function() { window.print(); }
        <\/script>
      </body>
      </html>
    `;Es.document.write(to),Es.document.close()},ce=async ae=>{te(ae),H(!0);try{const Je=await q6(ae,i,d);q(Je)}catch(Je){q({error:Je.message})}},ue=async ae=>{ie(ae),J(!0),ne(null);try{const Je=await e4(ae,i,d);ne(Je)}catch(Je){ne({error:Je.message})}},De=async ae=>{ke(ae),M(!0),we(null);try{const Je=await t4(ae,i,d);we(Je)}catch(Je){we({error:Je.message})}},Re=tb.find(ae=>ae.id===t),se=i||d?`${i||"..."} - ${d||"..."}`:"Tm Zamanlar",Se=()=>{if(!D)return null;const{summary:ae,rejectionReasons:Je,inquiries:Ze}=D;return e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:20},children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(5, 1fr)",gap:16},children:[e.jsx(lt,{icon:"",title:"Toplam Sorgu",value:Nt(ae.totalInquiries),color:"primary"}),e.jsx(lt,{icon:"",title:"Onaylanan",value:Nt(ae.approved),subtitle:ut(ae.approvedOfferAmount),color:"success"}),e.jsx(lt,{icon:"",title:"Reddedilen",value:Nt(ae.rejected),subtitle:ut(ae.rejectedOfferAmount),color:"danger"}),e.jsx(lt,{icon:"",title:"Bekleyen",value:Nt(ae.pending),color:"warning"}),e.jsx(lt,{icon:"",title:"Dnm Oran",value:`%${ae.conversionRate}`,color:"info"})]}),e.jsxs("div",{className:"card",style:{margin:0},children:[e.jsx("div",{className:"card-header",children:e.jsx("h4",{className:"card-title",children:" Dnm zeti"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{style:{display:"flex",gap:20,alignItems:"center"},children:[e.jsxs("div",{style:{flex:1},children:[e.jsx(Ma,{value:ae.approved,max:ae.totalInquiries,color:"success",label:`Onaylanan: ${ae.approved} (${ae.totalInquiries>0?Math.round(ae.approved/ae.totalInquiries*100):0}%)`}),e.jsx("div",{style:{height:8}}),e.jsx(Ma,{value:ae.rejected,max:ae.totalInquiries,color:"danger",label:`Reddedilen: ${ae.rejected} (${ae.totalInquiries>0?Math.round(ae.rejected/ae.totalInquiries*100):0}%)`}),e.jsx("div",{style:{height:8}}),e.jsx(Ma,{value:ae.pending,max:ae.totalInquiries,color:"warning",label:`Bekleyen: ${ae.pending} (${ae.totalInquiries>0?Math.round(ae.pending/ae.totalInquiries*100):0}%)`})]}),e.jsx("div",{style:{width:150,height:150,borderRadius:"50%",background:`conic-gradient(
                  #22c55e 0deg ${ae.approved/Math.max(ae.totalInquiries,1)*360}deg,
                  #ef4444 ${ae.approved/Math.max(ae.totalInquiries,1)*360}deg ${(ae.approved+ae.rejected)/Math.max(ae.totalInquiries,1)*360}deg,
                  #eab308 ${(ae.approved+ae.rejected)/Math.max(ae.totalInquiries,1)*360}deg 360deg
                )`,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsxs("div",{style:{width:100,height:100,borderRadius:"50%",background:"white",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[e.jsxs("div",{style:{fontSize:24,fontWeight:700,color:"var(--color-success)"},children:["%",ae.conversionRate]}),e.jsx("div",{style:{fontSize:11,color:"var(--color-text-secondary)"},children:"Dnm"})]})})]})})]}),(Je==null?void 0:Je.length)>0&&e.jsxs("div",{className:"card",style:{margin:0},children:[e.jsx("div",{className:"card-header",children:e.jsx("h4",{className:"card-title",children:" Red Nedenleri"})}),e.jsx("div",{className:"card-body",style:{padding:0},children:e.jsx(Rn,{columns:[{label:"Red Nedeni",accessor:"reason",width:"250px"},{label:"Say",accessor:"count",type:"number",align:"right",minWidth:"80px"},{label:"Tutar",type:"money",align:"right",minWidth:"120px",render:Ie=>ut(Ie.totalOffer)},{label:"Oran",align:"right",minWidth:"80px",render:Ie=>e.jsxs("span",{children:[Math.round(Ie.count/Math.max(ae.rejected,1)*100),"%"]})}],data:Je})})]}),e.jsxs("div",{className:"card",style:{margin:0},children:[e.jsx("div",{className:"card-header",children:e.jsx("h4",{className:"card-title",children:" Son Fiyat Sorgular"})}),e.jsx("div",{className:"card-body",style:{padding:0},children:e.jsx(Rn,{columns:[{label:"Tarih",accessor:"createdAt",width:"100px"},{label:"Mteri",accessor:"customerName",width:"150px"},{label:" Bal",accessor:"title",width:"180px"},{label:" Kollar",width:"150px",render:Ie=>{var Oe;return e.jsx("div",{style:{display:"flex",gap:4,flexWrap:"wrap"},children:(Oe=Ie.roles)==null?void 0:Oe.map((tt,an)=>e.jsx("span",{className:"badge badge-secondary",style:{fontSize:10},children:tt},an))})}},{label:"Teklif",type:"money",align:"right",minWidth:"100px",render:Ie=>ut(Ie.offerTotal)},{label:"Karar",width:"120px",render:Ie=>{const Oe=Ie.decision==="Onayland"?"success":Ie.decision==="Reddedildi"?"danger":"warning";return e.jsx("span",{className:`badge badge-${Oe}`,children:Ie.decision})}},{label:"Karar Tarihi",accessor:"decisionDate",width:"100px"},{label:"Red Nedeni",accessor:"cancelReason",width:"150px"}],data:Ze||[],emptyText:"Fiyat sorgusu bulunamad"})})]})]})},_e=()=>{if(!v)return null;const{summary:ae,production:Je,assembly:Ze,monthlyTrend:Ie}=v;return e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:20},children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(5, 1fr)",gap:16},children:[e.jsx(lt,{icon:"",title:"Toplam ",value:Nt(ae.totalJobs),color:"primary"}),e.jsx(lt,{icon:"",title:"Aktif ler",value:Nt(ae.activeJobs),color:"info"}),e.jsx(lt,{icon:"",title:"Tamamlanan",value:Nt(ae.completedJobs),color:"success"}),e.jsx(lt,{icon:"",title:"ptal",value:Nt(ae.cancelledJobs),color:"danger"}),e.jsx(lt,{icon:"",title:"Ort. Sre",value:`${ae.avgJobDuration} gn`,color:"warning"})]}),e.jsxs("div",{className:"grid grid-3",style:{gap:20},children:[e.jsxs("div",{className:"card",style:{margin:0},children:[e.jsx("div",{className:"card-header",children:e.jsx("h4",{className:"card-title",children:" retim Durumu"})}),e.jsxs("div",{className:"card-body",children:[e.jsx(Ma,{value:Je.completed,max:Je.total,color:"success",label:`Tamamlanan: ${Je.completed} / ${Je.total}`}),e.jsxs("div",{className:"metric-row",children:[e.jsx("span",{children:"Bekleyen Sipariler"}),e.jsx("span",{className:"badge badge-warning",children:Je.pending})]})]})]}),e.jsxs("div",{className:"card",style:{margin:0},children:[e.jsx("div",{className:"card-header",children:e.jsx("h4",{className:"card-title",children:" Montaj Durumu"})}),e.jsxs("div",{className:"card-body",children:[e.jsx(Ma,{value:Ze.completed,max:Ze.total,color:"info",label:`Tamamlanan: ${Ze.completed} / ${Ze.total}`}),e.jsxs("div",{className:"metric-row",children:[e.jsx("span",{children:"Bekleyen Grevler"}),e.jsx("span",{className:"badge badge-warning",children:Ze.pending})]})]})]}),e.jsxs("div",{className:"card",style:{margin:0},children:[e.jsx("div",{className:"card-header",children:e.jsx("h4",{className:"card-title",children:" Teslim Tipi"})}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"metric-row",style:{marginBottom:8},children:[e.jsx("span",{children:" Montajl Teslim"}),e.jsx("span",{className:"badge badge-success",children:ae.montajliJobs||0})]}),e.jsxs("div",{className:"metric-row",children:[e.jsx("span",{children:" Demonte Teslim"}),e.jsx("span",{className:"badge badge-info",children:ae.demonteJobs||0})]})]})]})]}),(Ie==null?void 0:Ie.length)>0&&e.jsxs("div",{className:"card",style:{margin:0},children:[e.jsx("div",{className:"card-header",children:e.jsx("h4",{className:"card-title",children:" Aylk  Trendi"})}),e.jsx("div",{className:"card-body",children:e.jsx(Rn,{columns:[{label:"Ay",accessor:"month",width:"150px"},{label:" Says",accessor:"count",type:"number",align:"right"}],data:Ie})})]})]})},Qe=()=>{if(!P)return null;const{summary:ae,suppliers:Je}=P;return e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:20},children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(6, 1fr)",gap:16},children:[e.jsx(lt,{icon:"",title:"Tedariki",value:Nt(ae.totalSuppliers),subtitle:`${ae.suppliersWithOrders||0} aktif`,color:"primary"}),e.jsx(lt,{icon:"",title:"Toplam Sipari",value:Nt(ae.totalOrders),color:"info"}),e.jsx(lt,{icon:"",title:"retim Siparii",value:Nt(ae.totalProductionOrders||0),color:"warning"}),e.jsx(lt,{icon:"",title:"Satnalma",value:Nt(ae.totalPurchaseOrders||0),color:"secondary"}),e.jsx(lt,{icon:"",title:"Zamannda",value:`%${ae.overallOnTimeRate}`,color:"success"}),e.jsx(lt,{icon:"",title:"Sorunlu",value:`%${ae.overallProblemRate}`,color:"danger"})]}),e.jsxs("div",{className:"card",style:{margin:0},children:[e.jsx("div",{className:"card-header",children:e.jsx("h4",{className:"card-title",children:" Tedariki Performans Listesi"})}),e.jsx("div",{className:"card-body",style:{padding:0},children:e.jsx(Rn,{columns:[{label:"Tedariki",width:"180px",render:Ze=>e.jsxs("button",{className:"btn btn-link",style:{padding:0,textAlign:"left",opacity:Ze.hasData?1:.6},onClick:()=>ce(Ze.supplierId),disabled:!Ze.hasData,children:[e.jsx("strong",{children:Ze.supplierName}),!Ze.hasData&&e.jsx("span",{style:{fontSize:10,marginLeft:4,color:"var(--color-text-muted)"},children:"(Veri Yok)"})]})},{label:"Kategori",accessor:"category",width:"100px"},{label:"Tip",accessor:"supplyType",width:"100px"},{label:"retim",accessor:"productionOrderCount",type:"number",align:"right",minWidth:"70px"},{label:"Satnalma",accessor:"purchaseOrderCount",type:"number",align:"right",minWidth:"80px"},{label:"Toplam",accessor:"orderCount",type:"number",align:"right",minWidth:"70px"},{label:"Adet",accessor:"totalQuantity",type:"number",align:"right",minWidth:"70px"},{label:"Zamannda",accessor:"onTime",type:"number",align:"right",minWidth:"80px"},{label:"Gecikmeli",accessor:"delayed",type:"number",align:"right",minWidth:"80px"},{label:"%",align:"right",minWidth:"60px",render:Ze=>Ze.hasData?e.jsxs("span",{style:{color:Ze.onTimeRate>=80?"#22c55e":Ze.onTimeRate>=60?"#eab308":"#ef4444",fontWeight:600},children:["%",Ze.onTimeRate]}):"-"},{label:"Sorunlu",accessor:"problemQuantity",type:"number",align:"right",minWidth:"70px"}],data:Je||[],emptyText:"Tedariki verisi yok"})})]})]})},Ue=()=>{if(!C)return null;const{summary:ae,segmentDistribution:Je,customers:Ze}=C;return e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:20},children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(5, 1fr)",gap:16},children:[e.jsx(lt,{icon:"",title:"Mteri",value:Nt(ae.totalCustomers),color:"primary"}),e.jsx(lt,{icon:"",title:"Toplam Ciro",value:ut(ae.totalOffer),color:"info"}),e.jsx(lt,{icon:"",title:"Tahsilat",value:ut(ae.totalCollected),color:"success"}),e.jsx(lt,{icon:"",title:"VIP",value:Nt(ae.vipCount),color:"warning"}),e.jsx(lt,{icon:"",title:"Riskli",value:Nt(ae.riskyCount),color:"danger"})]}),e.jsxs("div",{className:"card",style:{margin:0},children:[e.jsx("div",{className:"card-header",children:e.jsx("h4",{className:"card-title",children:" Segment Dalm"})}),e.jsx("div",{className:"card-body",children:e.jsx("div",{style:{display:"flex",gap:20,flexWrap:"wrap"},children:Je.map((Ie,Oe)=>e.jsxs("div",{style:{flex:"1 1 150px",padding:16,borderRadius:8,background:"var(--color-bg-secondary)",textAlign:"center"},children:[e.jsx("div",{style:{fontSize:28},children:Ie.icon}),e.jsx("div",{style:{fontSize:24,fontWeight:700},children:Ie.count}),e.jsx("div",{style:{fontSize:12,color:"var(--color-text-secondary)"},children:Ie.segment}),e.jsx("div",{style:{fontSize:11,color:"var(--color-text-muted)"},children:ut(Ie.totalOffer)})]},Oe))})})]}),e.jsxs("div",{className:"card",style:{margin:0},children:[e.jsx("div",{className:"card-header",children:e.jsx("h4",{className:"card-title",children:" Mteri Listesi"})}),e.jsx("div",{className:"card-body",style:{padding:0},children:e.jsx(Rn,{columns:[{label:"Mteri",width:"180px",render:Ie=>e.jsx("button",{className:"btn btn-link",style:{padding:0,textAlign:"left"},onClick:()=>De(Ie.customerId),children:e.jsx("strong",{children:Ie.customerName})})},{label:"Segment",width:"100px",render:Ie=>{const Oe={VIP:"",Normal:"",Riskli:"","Kara Liste":"",Yeni:""};return e.jsxs("span",{children:[Oe[Ie.performanceSegment]," ",Ie.performanceSegment]})}},{label:"",accessor:"jobCount",type:"number",align:"right",minWidth:"60px"},{label:"Ciro",type:"money",align:"right",minWidth:"120px",render:Ie=>ut(Ie.totalOffer)},{label:"Tahsilat",type:"money",align:"right",minWidth:"120px",render:Ie=>ut(Ie.totalCollected)},{label:"Bakiye",type:"money",align:"right",minWidth:"120px",render:Ie=>e.jsx("span",{style:{color:Ie.remaining>0?"var(--color-danger)":"inherit"},children:ut(Ie.remaining)})},{label:"Tahsilat %",align:"right",minWidth:"90px",render:Ie=>e.jsxs("span",{style:{color:Ie.collectionRate>=80?"#22c55e":Ie.collectionRate>=50?"#eab308":"#ef4444",fontWeight:600},children:["%",Ie.collectionRate]})}],data:Ze||[]})})]})]})},K=()=>{if(!A)return null;const{summary:ae,byReason:Je,allCancelled:Ze}=A;return e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:20},children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:16},children:[e.jsx(lt,{icon:"",title:"ptal Edilen",value:Nt(ae.totalCancelled),color:"danger"}),e.jsx(lt,{icon:"",title:"Kaybedilen Ciro",value:ut(ae.totalLostRevenue),color:"warning"}),e.jsx(lt,{icon:"",title:"Ort. Kayp/",value:ut(ae.avgLostPerJob),color:"info"})]}),e.jsxs("div",{className:"card",style:{margin:0},children:[e.jsx("div",{className:"card-header",children:e.jsx("h4",{className:"card-title",children:" ptal Nedenleri Dalm"})}),e.jsx("div",{className:"card-body",style:{padding:0},children:e.jsx(Rn,{columns:[{label:"Neden",width:"200px",render:Ie=>e.jsxs("span",{children:[Ie.icon," ",Ie.reasonName]})},{label:"Adet",accessor:"count",type:"number",align:"right",minWidth:"80px"},{label:"Oran",align:"right",minWidth:"80px",render:Ie=>`%${Ie.percentage}`},{label:"Kaybedilen Ciro",type:"money",align:"right",minWidth:"140px",render:Ie=>ut(Ie.lostRevenue)}],data:Je||[]})})]}),e.jsxs("div",{className:"card",style:{margin:0},children:[e.jsx("div",{className:"card-header",children:e.jsx("h4",{className:"card-title",children:" ptal Edilen ler"})}),e.jsx("div",{className:"card-body",style:{padding:0},children:e.jsx(Rn,{columns:[{label:"Tarih",accessor:"date",width:"100px"},{label:"",accessor:"title",width:"180px"},{label:"Mteri",accessor:"customerName",width:"150px"},{label:"Neden",accessor:"reason",width:"150px"},{label:"Tutar",type:"money",align:"right",minWidth:"120px",render:Ie=>ut(Ie.offerTotal)}],data:Ze||[]})})]})]})},je=()=>{if(!Q)return null;const{summary:ae,performanceDistribution:Je,personnel:Ze}=Q;return e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:20},children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(6, 1fr)",gap:16},children:[e.jsx(lt,{icon:"",title:"Toplam Personel",value:Nt(ae.totalPersonnel),color:"primary"}),e.jsx(lt,{icon:"",title:"Aktif Personel",value:Nt(ae.activePersonnel||0),color:"success"}),e.jsx(lt,{icon:"",title:"Genel Grev",value:Nt(ae.totalGeneralTasks||0),color:"info"}),e.jsx(lt,{icon:"",title:"Montaj Grevi",value:Nt(ae.totalAssemblyTasks||0),color:"secondary"}),e.jsx(lt,{icon:"",title:"Toplam Sorun",value:Nt(ae.totalIssues),color:"warning"}),e.jsx(lt,{icon:"",title:"Toplam Gecikme",value:Nt(ae.totalDelays),color:"danger"})]}),e.jsxs("div",{className:"card",style:{margin:0},children:[e.jsx("div",{className:"card-header",children:e.jsx("h4",{className:"card-title",children:" Performans Dalm"})}),e.jsx("div",{className:"card-body",children:e.jsx("div",{style:{display:"flex",gap:20},children:Je.map((Ie,Oe)=>e.jsxs("div",{style:{flex:1,padding:16,borderRadius:8,background:"var(--color-bg-secondary)",textAlign:"center"},children:[e.jsx("div",{style:{fontSize:28},children:Ie.icon}),e.jsx("div",{style:{fontSize:24,fontWeight:700},children:Ie.count}),e.jsx("div",{style:{fontSize:12,color:"var(--color-text-secondary)"},children:Ie.level})]},Oe))})})]}),e.jsxs("div",{className:"card",style:{margin:0},children:[e.jsx("div",{className:"card-header",children:e.jsx("h4",{className:"card-title",children:" Personel Listesi"})}),e.jsx("div",{className:"card-body",style:{padding:0},children:e.jsx(Rn,{columns:[{label:"Personel",width:"140px",render:Ie=>e.jsx("button",{className:"btn btn-link",style:{padding:0,textAlign:"left"},onClick:()=>ue(Ie.personId),children:e.jsx("strong",{children:Ie.personName})})},{label:"Ekip",accessor:"teamName",width:"110px"},{label:"Unvan",accessor:"role",width:"100px"},{label:"Genel",type:"number",align:"right",minWidth:"60px",render:Ie=>e.jsxs("span",{title:"Genel Grevler",children:[Ie.generalCompletedCount||0,"/",Ie.generalTaskCount||0]})},{label:"Montaj",type:"number",align:"right",minWidth:"60px",render:Ie=>e.jsxs("span",{title:"Montaj Grevleri",children:[Ie.assemblyCompletedCount||0,"/",Ie.assemblyTaskCount||0]})},{label:"Toplam",type:"number",align:"right",minWidth:"70px",render:Ie=>e.jsxs("span",{children:[Ie.completedCount,"/",Ie.taskCount]})},{label:"%",align:"right",minWidth:"60px",render:Ie=>e.jsx("span",{style:{color:Ie.taskCount===0?"#6b7280":Ie.completionRate>=80?"#22c55e":Ie.completionRate>=50?"#eab308":"#ef4444",fontWeight:600},children:Ie.taskCount===0?"-":`%${Ie.completionRate}`})},{label:"Sorun",accessor:"issueCount",type:"number",align:"right",minWidth:"60px"},{label:"Gecikme",accessor:"delayCount",type:"number",align:"right",minWidth:"70px"},{label:"Performans",width:"100px",render:Ie=>{const Oe={yi:"",Gelimeli:"",Dk:"",Yeni:""},tt={yi:"#22c55e",Gelimeli:"#eab308",Dk:"#ef4444",Yeni:"#6b7280"};return e.jsxs("span",{style:{color:tt[Ie.performance]},children:[Oe[Ie.performance]," ",Ie.performance]})}}],data:Ze||[]})})]})]})},Ae=()=>{if(!ye)return null;const{summary:ae,transitions:Je}=ye;return e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:20},children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:16},children:[e.jsx(lt,{icon:"",title:"Toplam Ort. Sre",value:`${ae.totalAvgDays} gn`,color:"primary"}),e.jsx(lt,{icon:"",title:"Darboaz",value:ae.bottleneck,color:"danger"})]}),e.jsxs("div",{className:"card",style:{margin:0},children:[e.jsx("div",{className:"card-header",children:e.jsx("h4",{className:"card-title",children:" Aama Sreleri"})}),e.jsx("div",{className:"card-body",style:{padding:0},children:e.jsx(Rn,{columns:[{label:"Aama Geii",accessor:"label",width:"200px"},{label:"rnek Says",accessor:"sampleCount",type:"number",align:"right",minWidth:"100px"},{label:"Ort. Sre",align:"right",minWidth:"90px",render:Ze=>`${Ze.avgDays} gn`},{label:"Min",align:"right",minWidth:"70px",render:Ze=>`${Ze.minDays} gn`},{label:"Max",align:"right",minWidth:"70px",render:Ze=>`${Ze.maxDays} gn`},{label:"Hedef",align:"right",minWidth:"70px",render:Ze=>`${Ze.targetDays} gn`},{label:"Sapma",align:"right",minWidth:"80px",render:Ze=>e.jsxs("span",{style:{color:Ze.deviation<=0?"#22c55e":Ze.deviation<=2?"#eab308":"#ef4444"},children:[Ze.deviation>0?"+":"",Ze.deviation," gn"]})},{label:"Durum",width:"100px",render:Ze=>{const Ie={Normal:"success",Uzun:"warning",Darboaz:"danger"};return e.jsx("span",{className:`badge badge-${Ie[Ze.status]}`,children:Ze.status})}}],data:Je||[]})})]})]})},X=()=>e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:20},children:[e.jsxs("div",{className:"card no-print",style:{margin:0},children:[e.jsx("div",{className:"card-header",children:e.jsx("h4",{className:"card-title",children:" Dnem Seimi"})}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:20},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:600,marginBottom:8},children:"1. Dnem (Karlatrlacak)"}),e.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[e.jsx(gt,{value:p,onChange:g,placeholder:"Balang"}),e.jsx("span",{children:"-"}),e.jsx(gt,{value:h,onChange:k,placeholder:"Biti"})]})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:600,marginBottom:8},children:"2. Dnem (Baz Dnem)"}),e.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[e.jsx(gt,{value:x,onChange:w,placeholder:"Balang"}),e.jsx("span",{children:"-"}),e.jsx(gt,{value:N,onChange:f,placeholder:"Biti"})]})]})]}),e.jsx("button",{className:"btn btn-primary",style:{marginTop:16},onClick:()=>W("comparison"),disabled:!p||!h||!x||!N,children:"Karlatr"})]})]}),_&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"card",style:{margin:0},children:[e.jsx("div",{className:"card-header",children:e.jsx("h4",{className:"card-title",children:" Dnemsel Karlatrma"})}),e.jsx("div",{className:"card-body",style:{padding:0},children:e.jsx(Rn,{columns:[{label:"Metrik",accessor:"metric",width:"180px",render:ae=>e.jsx("strong",{children:ae.metric})},{label:`${_.period1.start} - ${_.period1.end}`,align:"right",minWidth:"150px",render:ae=>ae.unit===""?ut(ae.period1Value):`${Nt(ae.period1Value)} ${ae.unit}`},{label:`${_.period2.start} - ${_.period2.end}`,align:"right",minWidth:"150px",render:ae=>ae.unit===""?ut(ae.period2Value):`${Nt(ae.period2Value)} ${ae.unit}`},{label:"Deiim",align:"right",minWidth:"100px",render:ae=>e.jsxs("span",{style:{color:ae.metric==="ptal Edilen"?ae.change<0?"#22c55e":ae.change>0?"#ef4444":"#64748b":ae.change>0?"#22c55e":ae.change<0?"#ef4444":"#64748b",fontWeight:600},children:[ae.change>0?"":ae.change<0?"":""," %",Math.abs(ae.change)]})}],data:_.comparison||[]})})]})})]}),pe=()=>{if(!y)return null;const{summary:ae}=y;return e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:20},children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:16},children:[e.jsx(lt,{icon:"",title:"Toplam Sipari",value:Nt(ae.total),color:"primary"}),e.jsx(lt,{icon:"",title:" retim",value:Nt(ae.internal.count),subtitle:`Ort: ${ae.internal.avgDays} gn`,color:"info"}),e.jsx(lt,{icon:"",title:"D retim",value:Nt(ae.external.count),subtitle:`Ort: ${ae.external.avgDays} gn`,color:"warning"}),e.jsx(lt,{icon:"",title:"Cam Sipari",value:Nt(ae.glass.count),subtitle:`Ort: ${ae.glass.avgDays} gn`,color:"success"})]}),e.jsxs("div",{className:"card",style:{margin:0},children:[e.jsx("div",{className:"card-header",children:e.jsx("h4",{className:"card-title",children:" retim Tr Karlatrmas"})}),e.jsx("div",{className:"card-body",style:{padding:0},children:e.jsx(Rn,{columns:[{label:"retim Tr",accessor:"type",width:"180px"},{label:"Toplam",accessor:"count",type:"number",align:"right"},{label:"Tamamlanan",accessor:"completed",type:"number",align:"right"},{label:"Min Sre",align:"right",render:Je=>`${Je.minDays} gn`},{label:"Max Sre",align:"right",render:Je=>`${Je.maxDays} gn`},{label:"Ort. Sre",align:"right",render:Je=>`${Je.avgDays} gn`},{label:"Sorunlu",accessor:"withIssues",type:"number",align:"right"},{label:"Gecikmeli",accessor:"delayed",type:"number",align:"right"}],data:[{type:"  retim",...ae.internal},{type:" D retim",...ae.external},{type:" Cam Sipari",...ae.glass}]})})]})]})},Pe=()=>{if(!j)return null;const{summary:ae,byMonth:Je,jobs:Ze,paymentBreakdown:Ie}=j;return e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:20},children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:16},children:[e.jsx(lt,{icon:"",title:"Toplam ",value:Nt(ae.totalJobs),color:"primary"}),e.jsx(lt,{icon:"",title:"Toplam Teklif",value:ut(ae.totalOffer),color:"info"}),e.jsx(lt,{icon:"",title:"Tahsil Edilen",value:ut(ae.totalCollected),color:"success"}),e.jsx(lt,{icon:"",title:"Kalan Bakiye",value:ut(ae.totalRemaining),color:"danger"})]}),e.jsxs("div",{className:"card",style:{margin:0},children:[e.jsx("div",{className:"card-header",children:e.jsx("h4",{className:"card-title",children:" Tahsilat Oran"})}),e.jsxs("div",{className:"card-body",children:[e.jsx(Ma,{value:ae.totalCollected,max:ae.totalOffer,color:"success",label:`Tahsilat: ${ut(ae.totalCollected)} / ${ut(ae.totalOffer)}`}),e.jsxs("div",{style:{textAlign:"center",fontSize:28,fontWeight:700,color:"var(--color-success)",marginTop:16},children:["%",ae.collectionRate]})]})]}),(Ie==null?void 0:Ie.length)>0&&e.jsxs("div",{className:"card",style:{margin:0},children:[e.jsx("div",{className:"card-header",children:e.jsx("h4",{className:"card-title",children:" deme Tipi Dalm"})}),e.jsx("div",{className:"card-body",children:e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(5, 1fr)",gap:16},children:Ie.map((Oe,tt)=>e.jsxs("div",{style:{padding:16,borderRadius:8,background:"var(--color-bg-secondary)",textAlign:"center",border:"1px solid var(--color-border)"},children:[e.jsx("div",{style:{fontSize:28},children:Oe.icon}),e.jsx("div",{style:{fontSize:20,fontWeight:700,marginTop:8},children:ut(Oe.amount)}),e.jsx("div",{style:{fontSize:12,color:"var(--color-text-secondary)",marginTop:4},children:Oe.label}),e.jsxs("div",{style:{fontSize:14,fontWeight:600,color:"var(--color-primary)",marginTop:8,padding:"4px 8px",background:"var(--color-primary-bg)",borderRadius:4},children:["%",Oe.percentage]}),e.jsxs("div",{style:{fontSize:11,color:"var(--color-text-muted)",marginTop:4},children:[Oe.count," ilem"]})]},tt))})})]}),(Je==null?void 0:Je.length)>0&&e.jsxs("div",{className:"card",style:{margin:0},children:[e.jsx("div",{className:"card-header",children:e.jsx("h4",{className:"card-title",children:" Aylk Ciro & Tahsilat"})}),e.jsx("div",{className:"card-body",style:{padding:0},children:e.jsx(Rn,{columns:[{label:"Ay",accessor:"month",width:"100px",render:Oe=>e.jsx("strong",{children:Oe.month})},{label:"",accessor:"count",type:"number",align:"right"},{label:"Teklif",type:"money",align:"right",minWidth:"130px",render:Oe=>ut(Oe.offer)},{label:"Tahsilat",type:"money",align:"right",minWidth:"130px",render:Oe=>ut(Oe.collected)},{label:"Oran",align:"right",render:Oe=>e.jsxs("span",{style:{color:Oe.offer>0&&Oe.collected/Oe.offer>=.8?"#22c55e":"#eab308",fontWeight:600},children:["%",Oe.offer>0?Math.round(Oe.collected/Oe.offer*100):0]})}],data:Je})})]}),e.jsxs("div",{className:"card",style:{margin:0},children:[e.jsx("div",{className:"card-header",children:e.jsx("h4",{className:"card-title",children:" En Yksek Bakiyeli ler"})}),e.jsx("div",{className:"card-body",style:{padding:0},children:e.jsx(Rn,{columns:[{label:"",accessor:"title",width:"180px"},{label:"Mteri",accessor:"customerName",width:"150px"},{label:"Durum",width:"100px",render:Oe=>e.jsx("span",{className:"badge badge-secondary",children:Oe.status})},{label:"Teklif",type:"money",align:"right",minWidth:"120px",render:Oe=>ut(Oe.offerTotal)},{label:"Tahsilat",type:"money",align:"right",minWidth:"120px",render:Oe=>ut(Oe.collected)},{label:"Kalan",type:"money",align:"right",minWidth:"120px",render:Oe=>e.jsx("strong",{style:{color:"var(--color-danger)"},children:ut(Oe.remaining)})}],data:(Ze||[]).filter(Oe=>Oe.remaining>0).slice(0,20)})})]})]})},Be=()=>{if(!B)return e.jsx(kt,{text:"Ykleniyor..."});if(B.error)return e.jsx("div",{className:"error-text",children:B.error});const{reportDate:ae,periodStart:Je,periodEnd:Ze,supplier:Ie,summary:Oe,delayedOrders:tt,problemOrders:an,allOrders:Es}=B,Na={glass:"Cam",external:"D retim",purchase:"Satnalma"};return e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:20},children:[e.jsxs("div",{style:{textAlign:"center",padding:20,borderBottom:"2px solid var(--color-border)",marginBottom:10},children:[e.jsx("h2",{style:{margin:0,fontSize:20},children:"TEDARK PERFORMANS RAPORU"}),e.jsxs("div",{style:{fontSize:14,color:"var(--color-text-secondary)",marginTop:8},children:[e.jsx("strong",{children:Ie.name})," - ",Ie.category," ",Ie.supplyType&&`(${Ie.supplyType})`]}),e.jsxs("div",{style:{fontSize:12,color:"var(--color-text-muted)",marginTop:4},children:["Dnem: ",Je," - ",Ze," | Rapor Tarihi: ",ae]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(5, 1fr)",gap:12},children:[e.jsxs("div",{style:{padding:16,background:"var(--color-bg-secondary)",borderRadius:8,textAlign:"center"},children:[e.jsx("div",{style:{fontSize:24,fontWeight:700},children:Oe.totalOrders}),e.jsx("div",{style:{fontSize:12,color:"var(--color-text-secondary)"},children:"Toplam Sipari"}),e.jsxs("div",{style:{fontSize:10,color:"var(--color-text-muted)",marginTop:2},children:["retim: ",Oe.productionOrderCount||0," | Satnalma: ",Oe.purchaseOrderCount||0]})]}),e.jsxs("div",{style:{padding:16,background:"var(--color-bg-secondary)",borderRadius:8,textAlign:"center"},children:[e.jsx("div",{style:{fontSize:24,fontWeight:700},children:Nt(Oe.totalQuantity)}),e.jsx("div",{style:{fontSize:12,color:"var(--color-text-secondary)"},children:"Toplam Adet"})]}),e.jsxs("div",{style:{padding:16,background:"var(--color-bg-secondary)",borderRadius:8,textAlign:"center"},children:[e.jsx("div",{style:{fontSize:24,fontWeight:700},children:ut(Oe.totalAmount||0)}),e.jsx("div",{style:{fontSize:12,color:"var(--color-text-secondary)"},children:"Toplam Tutar"})]}),e.jsxs("div",{style:{padding:16,background:"var(--color-bg-secondary)",borderRadius:8,textAlign:"center"},children:[e.jsxs("div",{style:{fontSize:24,fontWeight:700,color:Oe.onTimeRate>=80?"#22c55e":"#eab308"},children:["%",Oe.onTimeRate]}),e.jsx("div",{style:{fontSize:12,color:"var(--color-text-secondary)"},children:"Zamannda Teslim"})]}),e.jsxs("div",{style:{padding:16,background:"var(--color-bg-secondary)",borderRadius:8,textAlign:"center"},children:[e.jsxs("div",{style:{fontSize:24,fontWeight:700,color:Oe.problemRate>5?"#ef4444":"#22c55e"},children:["%",Oe.problemRate]}),e.jsx("div",{style:{fontSize:12,color:"var(--color-text-secondary)"},children:"Sorun Oran"})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12},children:[e.jsxs("div",{style:{padding:12,background:"#fef3c7",borderRadius:8,border:"1px solid #fcd34d"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{children:"Gecikmeli Teslimat:"}),e.jsxs("strong",{children:[Oe.delayedCount," adet"]})]}),Oe.delayedCount>0&&e.jsxs("div",{style:{fontSize:12,color:"#92400e",marginTop:4},children:["Ortalama Gecikme: ",e.jsxs("strong",{children:[Oe.avgDelayDays," gn"]})]})]}),e.jsx("div",{style:{padding:12,background:"#fee2e2",borderRadius:8,border:"1px solid #fca5a5"},children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{children:"Sorunlu Teslimat:"}),e.jsxs("strong",{children:[Oe.problemQuantity," adet"]})]})})]}),(tt==null?void 0:tt.length)>0&&e.jsxs("div",{children:[e.jsx("h4",{style:{marginBottom:12,color:"#b45309"},children:" Geciken Sipariler"}),e.jsx(Rn,{columns:[{label:"Sipari",accessor:"orderId",width:"100px"},{label:"Tip",width:"80px",render:ss=>Na[ss.orderType]||ss.orderType},{label:"Mteri",accessor:"customerName",width:"140px"},{label:"Anlalan",accessor:"estimatedDelivery",width:"100px"},{label:"Teslim",accessor:"actualDelivery",width:"100px"},{label:"Gecikme",align:"right",minWidth:"80px",render:ss=>e.jsxs("span",{style:{color:"#ef4444",fontWeight:600},children:[ss.delayDays," gn"]})},{label:"Adet",accessor:"quantity",type:"number",align:"right"}],data:tt})]}),(an==null?void 0:an.length)>0&&e.jsxs("div",{children:[e.jsx("h4",{style:{marginBottom:12,color:"#dc2626"},children:" Sorunlu Teslimatlar"}),e.jsx(Rn,{columns:[{label:"Sipari",accessor:"orderId",width:"100px"},{label:"Tip",width:"80px",render:ss=>Na[ss.orderType]||ss.orderType},{label:"Mteri",accessor:"customerName",width:"140px"},{label:"rn",accessor:"itemName",width:"150px"},{label:"Sorun Tipi",accessor:"problemType",width:"120px"},{label:"Sorunlu Adet",accessor:"problemQty",type:"number",align:"right"}],data:an})]}),e.jsxs("div",{style:{padding:16,background:Oe.onTimeRate>=80?"#dcfce7":"#fef9c3",borderRadius:8,border:`1px solid ${Oe.onTimeRate>=80?"#86efac":"#fde047"}`},children:[e.jsx("strong",{children:" Deerlendirme:"}),e.jsxs("p",{style:{margin:"8px 0 0",fontSize:13},children:[Oe.onTimeRate>=80?`Bu dnemde %${Oe.onTimeRate} zamannda teslim oran ile anlama artlar karlanmtr.`:`Bu dnemde %${Oe.onTimeRate} zamannda teslim oran ile anlama artlarnn altnda performans gsterilmitir. Gecikmelerin nlenmesi iin gerekli tedbirlerin alnmasn rica ederiz.`,Oe.problemQuantity>0&&` Ayrca ${Oe.problemQuantity} adet sorunlu teslimat tespit edilmitir.`]})]})]})};return e.jsxs("div",{children:[e.jsx("style",{children:lI}),e.jsxs("div",{className:"print-header",style:{display:"none"},children:[e.jsx("h1",{children:(Re==null?void 0:Re.printTitle)||"Rapor"}),e.jsxs("div",{className:"print-meta",children:["Dnem: ",se," | Oluturulma: ",new Date().toLocaleDateString("tr-TR")]})]}),e.jsx(it,{title:" Raporlar",subtitle:"Detayl analiz ve performans raporlar",actions:e.jsx("button",{className:"btn btn-primary no-print",onClick:V,children:" Yazdr"})}),t!=="comparison"&&e.jsx("div",{className:"card no-print",style:{marginBottom:20},children:e.jsxs("div",{className:"card-body",style:{display:"flex",alignItems:"center",gap:16,padding:16,flexWrap:"wrap"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[e.jsx("span",{style:{fontSize:13,fontWeight:500},children:"Tarih:"}),e.jsx(gt,{value:i,onChange:o,placeholder:"Balang"}),e.jsx("span",{children:"-"}),e.jsx(gt,{value:d,onChange:m,placeholder:"Biti"})]}),(i||d)&&e.jsx("button",{className:"btn btn-secondary btn-small",onClick:()=>{o(""),m("")},children:"Temizle"})]})}),e.jsx("div",{className:"no-print",style:{display:"flex",gap:6,marginBottom:20,flexWrap:"wrap"},children:tb.map(ae=>e.jsx("button",{className:`btn ${t===ae.id?"btn-primary":"btn-secondary"}`,onClick:()=>n(ae.id),style:{padding:"8px 12px",fontSize:13},children:ae.label},ae.id))}),s?e.jsx("div",{className:"card",style:{padding:40,textAlign:"center"},children:e.jsx(kt,{text:"Rapor ykleniyor..."})}):a?e.jsx("div",{className:"card",style:{padding:20,border:"1px solid var(--color-danger)"},children:e.jsxs("div",{style:{color:"var(--color-danger)",fontWeight:600},children:[" Hata: ",a]})}):e.jsxs(e.Fragment,{children:[t==="performance"&&_e(),t==="inquiry"&&Se(),t==="suppliers"&&Qe(),t==="customers"&&Ue(),t==="cancellations"&&K(),t==="personnel"&&je(),t==="process"&&Ae(),t==="comparison"&&X(),t==="production"&&pe(),t==="finance"&&Pe()]}),e.jsxs(qe,{isOpen:U,onClose:()=>{H(!1),q(null)},title:" Tedariki Performans Detay",size:"lg",children:[Be(),e.jsx("div",{style:{marginTop:20,textAlign:"right"},children:e.jsx("button",{className:"btn btn-primary",onClick:I,children:" Raporu Yazdr"})})]}),e.jsx(qe,{isOpen:F,onClose:()=>{J(!1),ne(null)},title:" Personel Performans Detay",size:"lg",children:L?L.error?e.jsx("div",{className:"alert alert-danger",children:L.error}):e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:16},children:[e.jsxs("div",{className:"card",style:{margin:0},children:[e.jsx("div",{className:"card-header",children:e.jsx("h4",{className:"card-title",children:" Personel Bilgileri"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:16},children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Ad Soyad:"})," ",(Ye=L.person)==null?void 0:Ye.name]}),e.jsxs("div",{children:[e.jsx("strong",{children:"E-posta:"})," ",((dt=L.person)==null?void 0:dt.email)||"-"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Telefon:"})," ",((Ke=L.person)==null?void 0:Ke.phone)||"-"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Unvan:"})," ",((ot=L.person)==null?void 0:ot.role)||"-"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Durum:"})," ",(Dt=L.person)!=null&&Dt.active?" Aktif":" Pasif"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Ekipler:"})," ",((bt=L.teams)==null?void 0:bt.map(ae=>ae.name).join(", "))||"-"]})]})})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:12},children:[e.jsxs("div",{style:{background:"var(--color-bg-secondary)",padding:12,borderRadius:8,textAlign:"center"},children:[e.jsx("div",{style:{fontSize:12,color:"var(--color-text-secondary)"},children:"Genel Grev"}),e.jsxs("div",{style:{fontSize:20,fontWeight:700},children:[((Un=L.summary)==null?void 0:Un.generalCompletedCount)||0,"/",((Kn=L.summary)==null?void 0:Kn.generalTaskCount)||0]})]}),e.jsxs("div",{style:{background:"var(--color-bg-secondary)",padding:12,borderRadius:8,textAlign:"center"},children:[e.jsx("div",{style:{fontSize:12,color:"var(--color-text-secondary)"},children:"Montaj Grev"}),e.jsxs("div",{style:{fontSize:20,fontWeight:700},children:[((js=L.summary)==null?void 0:js.assemblyCompletedCount)||0,"/",((R=L.summary)==null?void 0:R.assemblyTaskCount)||0]})]}),e.jsxs("div",{style:{background:"var(--color-bg-secondary)",padding:12,borderRadius:8,textAlign:"center"},children:[e.jsx("div",{style:{fontSize:12,color:"var(--color-text-secondary)"},children:"Sorun"}),e.jsx("div",{style:{fontSize:20,fontWeight:700,color:((Ne=L.summary)==null?void 0:Ne.issueCount)>0?"#ef4444":"inherit"},children:((nt=L.summary)==null?void 0:nt.issueCount)||0})]}),e.jsxs("div",{style:{background:"var(--color-bg-secondary)",padding:12,borderRadius:8,textAlign:"center"},children:[e.jsx("div",{style:{fontSize:12,color:"var(--color-text-secondary)"},children:"Gecikme"}),e.jsx("div",{style:{fontSize:20,fontWeight:700,color:((st=L.summary)==null?void 0:st.delayCount)>0?"#eab308":"inherit"},children:((Ge=L.summary)==null?void 0:Ge.delayCount)||0})]})]}),((rt=L.assemblyTasks)==null?void 0:rt.length)>0&&e.jsxs("div",{className:"card",style:{margin:0},children:[e.jsx("div",{className:"card-header",children:e.jsx("h4",{className:"card-title",children:" Son Montaj Grevleri"})}),e.jsx("div",{className:"card-body",style:{padding:0},children:e.jsxs("table",{className:"report-table",style:{width:"100%"},children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:""}),e.jsx("th",{children:"Aama"}),e.jsx("th",{children:"Durum"}),e.jsx("th",{children:"Planlanan"}),e.jsx("th",{children:"Tamamlanan"})]})}),e.jsx("tbody",{children:L.assemblyTasks.map((ae,Je)=>{var Ze;return e.jsxs("tr",{children:[e.jsx("td",{children:ae.jobTitle}),e.jsx("td",{children:ae.stageName}),e.jsx("td",{children:e.jsx("span",{className:`badge badge-${ae.status==="completed"?"success":ae.status==="in_progress"?"warning":"secondary"}`,children:ae.status==="completed"?" Tamamland":ae.status==="in_progress"?" Devam":" Beklemede"})}),e.jsx("td",{children:ae.plannedDate||"-"}),e.jsx("td",{children:((Ze=ae.completedAt)==null?void 0:Ze.split("T")[0])||"-"})]},Je)})})]})})]}),((It=L.issues)==null?void 0:It.length)>0&&e.jsxs("div",{className:"card",style:{margin:0},children:[e.jsx("div",{className:"card-header",children:e.jsx("h4",{className:"card-title",children:" Atfedilen Sorunlar"})}),e.jsx("div",{className:"card-body",style:{padding:0},children:e.jsxs("table",{className:"report-table",style:{width:"100%"},children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:""}),e.jsx("th",{children:"Tip"}),e.jsx("th",{children:"Not"}),e.jsx("th",{children:"Tarih"})]})}),e.jsx("tbody",{children:L.issues.map((ae,Je)=>{var Ze;return e.jsxs("tr",{children:[e.jsx("td",{children:ae.jobTitle}),e.jsx("td",{children:ae.type}),e.jsx("td",{children:ae.note||"-"}),e.jsx("td",{children:((Ze=ae.date)==null?void 0:Ze.split("T")[0])||"-"})]},Je)})})]})})]})]}):e.jsx(kt,{text:"Personel bilgileri ykleniyor..."})}),e.jsx(qe,{isOpen:he,onClose:()=>{M(!1),we(null)},title:" Mteri Detay",size:"lg",children:be?be.error?e.jsx("div",{className:"alert alert-danger",children:be.error}):e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:16},children:[e.jsxs("div",{className:"card",style:{margin:0},children:[e.jsx("div",{className:"card-header",children:e.jsx("h4",{className:"card-title",children:" Mteri Bilgileri"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:16},children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Ad:"})," ",(Rt=be.customer)==null?void 0:Rt.name]}),e.jsxs("div",{children:[e.jsx("strong",{children:"letiim:"})," ",((St=be.customer)==null?void 0:St.contact)||"-"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Konum:"})," ",((xt=be.customer)==null?void 0:xt.location)||"-"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Mteri Tipi:"})," ",((As=be.customer)==null?void 0:As.customerSegment)||"-"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Performans Segmenti:"})," ",((Ln=be.customer)==null?void 0:Ln.performanceSegment)||"-"]})]})})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:12},children:[e.jsxs("div",{style:{background:"var(--color-bg-secondary)",padding:12,borderRadius:8,textAlign:"center"},children:[e.jsx("div",{style:{fontSize:12,color:"var(--color-text-secondary)"},children:"Toplam "}),e.jsx("div",{style:{fontSize:20,fontWeight:700},children:((Hn=be.summary)==null?void 0:Hn.totalJobs)||0})]}),e.jsxs("div",{style:{background:"var(--color-bg-secondary)",padding:12,borderRadius:8,textAlign:"center"},children:[e.jsx("div",{style:{fontSize:12,color:"var(--color-text-secondary)"},children:"Ciro"}),e.jsx("div",{style:{fontSize:18,fontWeight:700},children:ut(((rn=be.summary)==null?void 0:rn.totalOffer)||0)})]}),e.jsxs("div",{style:{background:"var(--color-bg-secondary)",padding:12,borderRadius:8,textAlign:"center"},children:[e.jsx("div",{style:{fontSize:12,color:"var(--color-text-secondary)"},children:"Tahsilat"}),e.jsx("div",{style:{fontSize:18,fontWeight:700,color:"#22c55e"},children:ut(((Cl=be.summary)==null?void 0:Cl.totalCollected)||0)})]}),e.jsxs("div",{style:{background:"var(--color-bg-secondary)",padding:12,borderRadius:8,textAlign:"center"},children:[e.jsx("div",{style:{fontSize:12,color:"var(--color-text-secondary)"},children:"Bakiye"}),e.jsx("div",{style:{fontSize:18,fontWeight:700,color:((Sa=be.summary)==null?void 0:Sa.remaining)>0?"#ef4444":"inherit"},children:ut(((un=be.summary)==null?void 0:un.remaining)||0)})]})]}),e.jsxs("div",{style:{textAlign:"center",fontSize:24,fontWeight:700,color:"var(--color-primary)"},children:["Tahsilat Oran: %",((eo=be.summary)==null?void 0:eo.collectionRate)||0]}),((wl=be.jobs)==null?void 0:wl.length)>0&&e.jsxs("div",{className:"card",style:{margin:0},children:[e.jsx("div",{className:"card-header",children:e.jsx("h4",{className:"card-title",children:" ler"})}),e.jsx("div",{className:"card-body",style:{padding:0},children:e.jsxs("table",{className:"report-table",style:{width:"100%"},children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:""}),e.jsx("th",{children:"Durum"}),e.jsx("th",{children:"Teklif"}),e.jsx("th",{children:"Tahsilat"}),e.jsx("th",{children:"Bakiye"})]})}),e.jsx("tbody",{children:be.jobs.map((ae,Je)=>e.jsxs("tr",{children:[e.jsx("td",{children:ae.title}),e.jsx("td",{children:e.jsx("span",{className:"badge badge-secondary",children:ae.status})}),e.jsx("td",{style:{textAlign:"right"},children:ut(ae.offer)}),e.jsx("td",{style:{textAlign:"right",color:"#22c55e"},children:ut(ae.collected)}),e.jsx("td",{style:{textAlign:"right",color:ae.remaining>0?"#ef4444":"inherit"},children:ut(ae.remaining)})]},Je))})]})})]}),((Vd=be.payments)==null?void 0:Vd.length)>0&&e.jsxs("div",{className:"card",style:{margin:0},children:[e.jsx("div",{className:"card-header",children:e.jsx("h4",{className:"card-title",children:" Son demeler"})}),e.jsx("div",{className:"card-body",style:{padding:0},children:e.jsxs("table",{className:"report-table",style:{width:"100%"},children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:""}),e.jsx("th",{children:"Tutar"}),e.jsx("th",{children:"Tip"}),e.jsx("th",{children:"Tarih"})]})}),e.jsx("tbody",{children:be.payments.map((ae,Je)=>e.jsxs("tr",{children:[e.jsx("td",{children:ae.jobTitle}),e.jsx("td",{style:{textAlign:"right",fontWeight:600,color:"#22c55e"},children:ut(ae.amount)}),e.jsx("td",{children:ae.type}),e.jsx("td",{children:ae.date||"-"})]},Je))})]})})]})]}):e.jsx(kt,{text:"Mteri bilgileri ykleniyor..."})})]})},oI=()=>{const[t,n]=c.useState([]),[s,r]=c.useState([]),[a,l]=c.useState(!0),[i,o]=c.useState("");c.useEffect(()=>{(async()=>{try{l(!0),o("");const[p,g]=await Promise.all([F6(),Gs()]);n(p),r(g)}catch(p){o(p.message||"Satnalma verisi alnamad")}finally{l(!1)}})()},[]);const d=c.useMemo(()=>{const m=t.filter(h=>h.status.toLowerCase().includes("onay")).length,p=t.filter(h=>h.status.toLowerCase().includes("yolda")).length,g=s.length;return[{id:"po1",label:"Toplam PO",value:t.length,icon:"",tone:"primary"},{id:"po2",label:"Onay Bekleyen",value:m,icon:"",tone:"warning"},{id:"po3",label:"Yolda",value:p,icon:"",tone:"secondary"},{id:"po4",label:"Tedariki",value:g,icon:"",tone:"success"}]},[t,s]);return e.jsxs("div",{children:[e.jsx(it,{title:"Satnalma",subtitle:"PO, tedariki ve talepler iin zet"}),a?e.jsx("div",{className:"card subtle-card",children:"Satnalma verisi ykleniyor..."}):i?e.jsxs("div",{className:"card error-card",children:[e.jsx("div",{className:"error-title",children:"Veri alnamad"}),e.jsx("div",{className:"error-message",children:i})]}):e.jsx("div",{className:"stats-grid",children:d.map(m=>e.jsx(na,{icon:m.icon,label:m.label,value:m.value,tone:m.tone},m.id))})]})},nr=({value:t,onChange:n,min:s=0,max:r,step:a=1,placeholder:l="",className:i="form-input",allowEmpty:o=!1,...d})=>{const[m,p]=c.useState(()=>t===0||t==="0"||t===""||t===null||t===void 0?"":String(t));c.useEffect(()=>{p(t===0||t==="0"||t===""||t===null||t===void 0?"":String(t))},[t]);const g=x=>{const w=x.target.value;if(w!==""&&!/^-?\d*\.?\d*$/.test(w))return;if(p(w),w===""||w==="-"){o&&n("");return}const N=a%1===0?parseInt(w,10):parseFloat(w);if(!isNaN(N)){let f=N;s!==void 0&&N<s&&(f=s),r!==void 0&&N>r&&(f=r),n(f)}},h=()=>{if(m===""||m==="-")o||(p(s>0?String(s):""),n(s));else{const x=a%1===0?parseInt(m,10):parseFloat(m);if(!isNaN(x)){let w=x;s!==void 0&&x<s&&(w=s),r!==void 0&&x>r&&(w=r),p(String(w)),n(w)}}},k=x=>{x.target.select()};return e.jsx("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",className:i,value:m,onChange:g,onBlur:h,onFocus:k,placeholder:l||(s>0?String(s):"0"),...d})},Pa=t=>new Intl.NumberFormat("tr-TR").format(t||0),xr=t=>new Intl.NumberFormat("tr-TR",{style:"currency",currency:"TRY",maximumFractionDigits:0}).format(t||0),La={draft:{label:"Taslak",tone:"secondary",icon:""},sent:{label:"Gnderildi",tone:"primary",icon:""},partial:{label:"Ksmi Teslim",tone:"warning",icon:""},delivered:{label:"Tamamland",tone:"success",icon:""}},nb={supplierId:"",supplierName:"",notes:"",expectedDate:"",items:[]},Xu={productCode:"",colorCode:"",productName:"",quantity:1,unit:"boy",unitCost:0},cI={items:[],note:"",receivedBy:"",waybillFile:null},dI=()=>{var se,Se,_e,Qe,Ue;const[t,n]=c.useState([]),[s,r]=c.useState([]),[a,l]=c.useState([]),[i,o]=c.useState([]),[d,m]=c.useState(!0),[p,g]=c.useState(""),[h,k]=c.useState(""),[x,w]=c.useState("all"),[N,f]=c.useState("all"),[v,b]=c.useState(!1),[y,S]=c.useState(nb),[j,z]=c.useState(Xu),[P,$]=c.useState(!1),[B,q]=c.useState(!1),[C,Z]=c.useState(null),[A,O]=c.useState(!1),[_,fe]=c.useState(!1),[Q,le]=c.useState(cI),[ye,E]=c.useState(""),[D,G]=c.useState([]),[U,H]=c.useState(!1),[oe,te]=c.useState([]),[F,J]=c.useState(null);c.useEffect(()=>{xe()},[]);const xe=async()=>{try{m(!0),g("");const[K,je,Ae,X]=await Promise.all([PS(),Gs(),LS().catch(()=>[]),Sl().catch(()=>[])]);n(K),r(je),o(Ae),l(X.filter(pe=>!pe.deleted&&pe.aktifMi))}catch(K){g(K.message||"Veriler alnamad")}finally{m(!1)}};c.useEffect(()=>{if(!ye||ye.length<2){G([]);return}const K=setTimeout(async()=>{try{const je=await MS(ye,"");G(je.slice(0,10))}catch(je){console.error("Product search error:",je)}},300);return()=>clearTimeout(K)},[ye]);const ie=c.useMemo(()=>{let K=[...t];if(h){const je=h.toLowerCase();K=K.filter(Ae=>Ae.id.toLowerCase().includes(je)||(Ae.supplierName||"").toLowerCase().includes(je))}return x!=="all"&&(K=K.filter(je=>je.status===x)),N!=="all"&&(K=K.filter(je=>je.supplierId===N)),K.sort((je,Ae)=>new Date(Ae.createdAt)-new Date(je.createdAt))},[t,h,x,N]),L=c.useMemo(()=>{const K=t.length,je=t.filter(pe=>pe.status==="draft").length,Ae=t.filter(pe=>["sent","partial"].includes(pe.status)).length,X=t.reduce((pe,Pe)=>pe+(Pe.totalAmount||0),0);return{total:K,draft:je,pending:Ae,totalAmount:X}},[t]),ne=()=>{S(nb),z(Xu),E(""),G([]),b(!0)},he=()=>{te([]),H(!0)},M=K=>{z({productCode:K.productCode,colorCode:K.colorCode,productName:`${K.name} ${K.colorName||""}`.trim(),quantity:1,unit:K.unit||"boy",unitCost:K.unitCost||0}),E(""),G([])},re=()=>{!j.productCode||j.quantity<=0||(S(K=>K.items.find(Ae=>Ae.productCode===j.productCode&&Ae.colorCode===j.colorCode)?{...K,items:K.items.map(Ae=>Ae.productCode===j.productCode&&Ae.colorCode===j.colorCode?{...Ae,quantity:Ae.quantity+j.quantity}:Ae)}:{...K,items:[...K.items,{...j}]}),z(Xu))},ke=(K,je)=>{S(Ae=>({...Ae,items:Ae.items.filter(X=>!(X.productCode===K&&X.colorCode===je))}))},be=K=>{var Pe;const je=s.find(Be=>Be.id===K.supplierId)||{},Ae=window.open("","_blank");if(!Ae){alert("Pop-up engellendi. Ltfen pop-up izni verin.");return}const X=(K.items||[]).map((Be,Ye)=>`
      <tr>
        <td style="padding: 8px; border-bottom: 1px solid #ddd;">${Ye+1}</td>
        <td style="padding: 8px; border-bottom: 1px solid #ddd;">${Be.productName||Be.productCode}</td>
        <td style="padding: 8px; border-bottom: 1px solid #ddd;">${Be.productCode}</td>
        <td style="padding: 8px; border-bottom: 1px solid #ddd;">${Be.colorCode||"-"}</td>
        <td style="padding: 8px; border-bottom: 1px solid #ddd; text-align: center;">${Be.quantity} ${Be.unit||"adet"}</td>
        <td style="padding: 8px; border-bottom: 1px solid #ddd; text-align: right;">${xr(Be.unitCost||0)}</td>
        <td style="padding: 8px; border-bottom: 1px solid #ddd; text-align: right;">${xr((Be.quantity||0)*(Be.unitCost||0))}</td>
      </tr>
    `).join(""),pe=`
      <!DOCTYPE html>
      <html lang="tr">
      <head>
        <meta charset="UTF-8">
        <title>Tedarik Siparii - ${K.id}</title>
        <style>
          body { font-family: Arial, sans-serif; padding: 20px; color: #333; }
          .header { display: flex; justify-content: space-between; margin-bottom: 30px; border-bottom: 2px solid #333; padding-bottom: 20px; }
          .company { font-size: 20px; font-weight: bold; }
          .order-info { text-align: right; }
          .order-number { font-size: 18px; font-weight: bold; color: #0066cc; }
          .section { margin-bottom: 20px; }
          .section-title { font-weight: bold; margin-bottom: 10px; font-size: 14px; color: #666; border-bottom: 1px solid #ddd; padding-bottom: 5px; }
          table { width: 100%; border-collapse: collapse; margin-top: 10px; }
          th { background: #f5f5f5; padding: 10px 8px; text-align: left; font-weight: 600; border-bottom: 2px solid #ddd; }
          .total-row { font-weight: bold; background: #f9f9f9; }
          .footer { margin-top: 40px; padding-top: 20px; border-top: 1px solid #ddd; text-align: center; font-size: 12px; color: #666; }
          @media print {
            body { padding: 0; }
            .no-print { display: none; }
          }
        </style>
      </head>
      <body>
        <div class="header">
          <div class="company">TEDARK SPAR</div>
          <div class="order-info">
            <div class="order-number">${K.id}</div>
            <div>Tarih: ${new Date(K.createdAt).toLocaleDateString("tr-TR")}</div>
            <div>Durum: ${((Pe=La[K.status])==null?void 0:Pe.label)||K.status}</div>
          </div>
        </div>

        <div class="section">
          <div class="section-title"> TEDARK BLGLER</div>
          <div><strong>${je.name||"Belirtilmemi"}</strong></div>
          ${je.phone?`<div>Tel: ${je.phone}</div>`:""}
          ${je.email?`<div>E-posta: ${je.email}</div>`:""}
          ${je.address?`<div>Adres: ${je.address}</div>`:""}
        </div>

        <div class="section">
          <div class="section-title"> SPAR KALEMLER</div>
          <table>
            <thead>
              <tr>
                <th style="width: 40px">#</th>
                <th>rn Ad</th>
                <th>rn Kodu</th>
                <th>Renk</th>
                <th style="text-align: center;">Miktar</th>
                <th style="text-align: right;">Birim Fiyat</th>
                <th style="text-align: right;">Toplam</th>
              </tr>
            </thead>
            <tbody>
              ${X}
              <tr class="total-row">
                <td colspan="6" style="padding: 10px 8px; text-align: right;">GENEL TOPLAM:</td>
                <td style="padding: 10px 8px; text-align: right;">${xr(K.totalAmount||0)}</td>
              </tr>
            </tbody>
          </table>
        </div>

        ${K.notes?`
          <div class="section">
            <div class="section-title"> NOTLAR</div>
            <div>${K.notes}</div>
          </div>
        `:""}

        <div class="footer">
          Bu belge ${new Date().toLocaleString("tr-TR")} tarihinde oluturulmutur.
        </div>

        <script>
          window.onload = function() { window.print(); }
        <\/script>
      </body>
      </html>
    `;Ae.document.write(pe),Ae.document.close()},we=async K=>{if(K.preventDefault(),!(!y.supplierId||y.items.length===0))try{$(!0);const je=s.find(pe=>pe.id===y.supplierId),Ae={supplierId:y.supplierId,supplierName:(je==null?void 0:je.name)||y.supplierName,items:y.items,notes:y.notes,expectedDate:y.expectedDate,relatedJobs:[]},X=await lp(Ae);n(pe=>[X,...pe]),b(!1)}catch(je){g(je.message||"Sipari oluturulamad")}finally{$(!1)}},W=async()=>{if(oe.length===0)return;const K={};oe.forEach(je=>{const Ae=je.supplierId;K[Ae]||(K[Ae]={supplierId:je.supplierId,supplierName:je.supplierName,items:[]}),K[Ae].items.push({productCode:je.productCode,colorCode:je.colorCode,productName:`${je.name} ${je.colorName||""}`.trim(),quantity:je.suggestedQty,unit:je.unit,unitCost:0})});try{$(!0);const je=[];for(const Ae of Object.values(K)){const X=await lp({supplierId:Ae.supplierId,supplierName:Ae.supplierName,items:Ae.items,notes:"Kritik stok siparii",expectedDate:"",relatedJobs:[]});je.push(X)}n(Ae=>[...je,...Ae]),H(!1),await xe()}catch(je){g(je.message||"Sipari oluturulamad")}finally{$(!1)}},V=async K=>{Z(K),q(!0)},I=async K=>{try{$(!0);const je=await r4(K);n(Ae=>Ae.map(X=>X.id===K?je:X)),(C==null?void 0:C.id)===K&&Z(je)}catch(je){g(je.message||"Sipari gnderilemedi")}finally{$(!1)}},ce=()=>{C&&(le({items:C.items.map(K=>({productCode:K.productCode,colorCode:K.colorCode,productName:K.productName,ordered:K.quantity,received:K.receivedQty||0,remaining:K.quantity-(K.receivedQty||0),quantity:0})),note:"",receivedBy:""}),fe(!0))},ue=async K=>{if(K.preventDefault(),!C)return;const je=Q.items.filter(Ae=>Ae.quantity>0).map(Ae=>({productCode:Ae.productCode,colorCode:Ae.colorCode,quantity:Ae.quantity}));if(je.length!==0)try{$(!0);const Ae=await a4(C.id,{items:je,note:Q.note,receivedBy:Q.receivedBy});if(Q.waybillFile)try{await kl(Q.waybillFile,C.jobId||`PO-${C.id}`,"irsaliye",`Teslimat rsaliyesi - ${C.id} - ${new Date().toLocaleDateString("tr-TR")}`)}catch(X){console.warn("rsaliye yklenemedi:",X)}n(X=>X.map(pe=>pe.id===C.id?Ae:pe)),Z(Ae),fe(!1),await xe()}catch(Ae){g(Ae.message||"Teslimat kaydedilemedi")}finally{$(!1)}},De=async()=>{if(F)try{$(!0),await l4(F.id),n(K=>K.filter(je=>je.id!==F.id)),J(null)}catch(K){g(K.message||"Silinemedi")}finally{$(!1)}},Re=()=>{const K=["Sipari No","Tedariki","Durum","Toplam Tutar","Beklenen Tarih","Oluturulma"],je=ie.map(Be=>{var Ye,dt;return[Be.id,Be.supplierName,((Ye=La[Be.status])==null?void 0:Ye.label)||Be.status,Be.totalAmount||0,Be.expectedDate||"-",((dt=Be.createdAt)==null?void 0:dt.slice(0,10))||"-"]}),Ae=[K.join(","),...je.map(Be=>Be.map(Ye=>`"${Ye}"`).join(","))].join(`
`),X=new Blob([Ae],{type:"text/csv;charset=utf-8;"}),pe=URL.createObjectURL(X),Pe=document.createElement("a");Pe.href=pe,Pe.download=`siparisler-${new Date().toISOString().slice(0,10)}.csv`,Pe.click(),URL.revokeObjectURL(pe)};return e.jsxs("div",{children:[e.jsx(it,{title:"Satnalma Siparileri",subtitle:"Sipari oluturma, takip ve teslimat ynetimi",actions:e.jsxs(e.Fragment,{children:[i.length>0&&e.jsxs("button",{className:"btn btn-warning",type:"button",onClick:he,children:[" Eksik rnler (",i.length,")"]}),e.jsx("button",{className:"btn btn-secondary",type:"button",onClick:Re,children:" CSV"}),e.jsx("button",{className:"btn btn-primary",type:"button",onClick:ne,children:" Yeni Sipari"})]})}),e.jsxs("div",{className:"stats-grid",style:{marginBottom:16},children:[e.jsx("div",{className:"card",style:{padding:16},children:e.jsxs("div",{className:"metric-row",children:[e.jsx("div",{className:"metric-icon",children:""}),e.jsxs("div",{children:[e.jsx("div",{className:"metric-label",children:"Toplam"}),e.jsx("div",{className:"metric-value",children:L.total})]})]})}),e.jsx("div",{className:"card",style:{padding:16},children:e.jsxs("div",{className:"metric-row",children:[e.jsx("div",{className:"metric-icon",children:""}),e.jsxs("div",{children:[e.jsx("div",{className:"metric-label",children:"Taslak"}),e.jsx("div",{className:"metric-value",children:L.draft})]})]})}),e.jsx("div",{className:"card",style:{padding:16},children:e.jsxs("div",{className:"metric-row",children:[e.jsx("div",{className:"metric-icon",children:""}),e.jsxs("div",{children:[e.jsx("div",{className:"metric-label",children:"Bekleyen"}),e.jsx("div",{className:"metric-value",children:L.pending})]})]})}),e.jsx("div",{className:"card",style:{padding:16},children:e.jsxs("div",{className:"metric-row",children:[e.jsx("div",{className:"metric-icon",children:""}),e.jsxs("div",{children:[e.jsx("div",{className:"metric-label",children:"Toplam Tutar"}),e.jsx("div",{className:"metric-value",children:xr(L.totalAmount)})]})]})})]}),e.jsxs("div",{className:"filter-bar",style:{marginBottom:16},children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{className:"filter-label",children:"Ara"}),e.jsx("input",{className:"filter-input",type:"search",placeholder:"Sipari no, tedariki...",value:h,onChange:K=>k(K.target.value)})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{className:"filter-label",children:"Durum"}),e.jsxs("select",{className:"filter-input",value:x,onChange:K=>w(K.target.value),children:[e.jsx("option",{value:"all",children:"Tm"}),e.jsx("option",{value:"draft",children:"Taslak"}),e.jsx("option",{value:"sent",children:"Gnderildi"}),e.jsx("option",{value:"partial",children:"Ksmi Teslim"}),e.jsx("option",{value:"delivered",children:"Tamamland"})]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{className:"filter-label",children:"Tedariki"}),e.jsxs("select",{className:"filter-input",value:N,onChange:K=>f(K.target.value),children:[e.jsx("option",{value:"all",children:"Tm"}),s.map(K=>e.jsx("option",{value:K.id,children:K.name},K.id))]})]})]}),d?e.jsx(kt,{text:"Sipariler ykleniyor..."}):p?e.jsxs("div",{className:"card error-card",children:[e.jsx("div",{className:"error-title",children:"Hata"}),e.jsx("div",{className:"error-message",children:p})]}):e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h3",{className:"card-title",children:"Sipari Listesi"}),e.jsxs("span",{className:"badge badge-secondary",children:[ie.length," kayt"]})]}),e.jsx(sn,{columns:[{label:"Sipari No",accessor:"id",render:K=>e.jsx("strong",{children:K})},{label:"Tedariki",accessor:"supplierName"},{label:"Kalem",accessor:"items",render:K=>`${(K==null?void 0:K.length)||0} kalem`},{label:"Tutar",accessor:"totalAmount",render:K=>xr(K)},{label:"Durum",accessor:"status",render:K=>{const je=La[K]||{label:K,tone:"secondary"};return e.jsxs("span",{className:`badge badge-${je.tone}`,children:[je.icon," ",je.label]})}},{label:"Beklenen",accessor:"expectedDate",render:K=>K||"-"},{label:"Aksiyon",accessor:"actions",render:(K,je)=>e.jsxs("div",{style:{display:"flex",gap:8},children:[e.jsx("button",{className:"btn btn-primary btn-small",type:"button",onClick:()=>V(je),title:"Detaylar Grntle",children:""}),je.status==="draft"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"btn btn-success btn-small",type:"button",onClick:()=>I(je.id),title:"Siparii Gnder",children:""}),e.jsx("button",{className:"btn btn-danger btn-small",type:"button",onClick:()=>J(je),title:"Siparii Sil",children:""})]})]})}],rows:ie})]}),e.jsx(qe,{open:v,title:"Yeni Sipari Olutur",size:"xlarge",onClose:()=>b(!1),actions:e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"btn btn-secondary",type:"button",onClick:()=>b(!1),children:"ptal"}),e.jsx("button",{className:"btn btn-primary",type:"submit",form:"order-form",disabled:P||!y.supplierId||y.items.length===0,children:P?"Kaydediliyor...":"Sipari Olutur"})]}),children:e.jsxs("form",{id:"order-form",onSubmit:we,children:[e.jsxs("div",{className:"grid grid-2",style:{gap:16,marginBottom:16},children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Tedariki *"}),e.jsxs("select",{className:"form-select",value:y.supplierId,onChange:K=>{const je=s.find(Ae=>Ae.id===K.target.value);S(Ae=>({...Ae,supplierId:K.target.value,supplierName:(je==null?void 0:je.name)||""}))},required:!0,children:[e.jsx("option",{value:"",children:"Sein"}),s.map(K=>e.jsxs("option",{value:K.id,children:[K.name," (",K.type==="dealer"?"Bayi":"retici",")"]},K.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Beklenen Tarih"}),e.jsx(gt,{value:y.expectedDate,onChange:K=>S(je=>({...je,expectedDate:K}))})]}),e.jsxs("div",{className:"form-group",style:{gridColumn:"1 / -1"},children:[e.jsx("label",{className:"form-label",children:"Not"}),e.jsx("input",{className:"form-input",value:y.notes,onChange:K=>S(je=>({...je,notes:K.target.value})),placeholder:"Sipari notu..."})]})]}),e.jsxs("div",{className:"card subtle-card",style:{padding:16,marginBottom:16},children:[e.jsx("h4",{style:{margin:"0 0 12px 0",fontSize:14},children:" rn Ekle"}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"rn Ara"}),e.jsx("input",{className:"form-input",placeholder:"rn kodu veya ad...",value:ye,onChange:K=>E(K.target.value)}),D.length>0&&e.jsx("div",{style:{marginTop:8,border:"1px solid var(--color-border)",borderRadius:6,maxHeight:150,overflow:"auto"},children:D.map(K=>e.jsxs("div",{style:{padding:"8px 12px",cursor:"pointer",borderBottom:"1px solid var(--color-border)"},onClick:()=>M(K),onKeyDown:je=>je.key==="Enter"&&M(K),tabIndex:0,role:"button",children:[e.jsx("strong",{children:K.productCode}),"-",K.colorCode,"  ",K.name," ",K.colorName||""]},K.id))})]}),e.jsxs("div",{className:"grid grid-4",style:{gap:12},children:[e.jsxs("div",{className:"form-group",style:{margin:0},children:[e.jsx("label",{className:"form-label",style:{fontSize:11},children:"rn Kodu"}),e.jsx("input",{className:"form-input",value:j.productCode,onChange:K=>z(je=>({...je,productCode:K.target.value}))})]}),e.jsxs("div",{className:"form-group",style:{margin:0},children:[e.jsx("label",{className:"form-label",style:{fontSize:11},children:"Renk Kodu"}),e.jsx("input",{className:"form-input",value:j.colorCode,onChange:K=>z(je=>({...je,colorCode:K.target.value}))})]}),e.jsxs("div",{className:"form-group",style:{margin:0},children:[e.jsx("label",{className:"form-label",style:{fontSize:11},children:"Miktar"}),e.jsx(nr,{className:"form-input",min:1,value:j.quantity,onChange:K=>z(je=>({...je,quantity:K}))})]}),e.jsx("div",{className:"form-group",style:{margin:0,display:"flex",alignItems:"flex-end"},children:e.jsx("button",{type:"button",className:"btn btn-primary",style:{width:"100%"},onClick:re,disabled:!j.productCode,children:"+ Ekle"})})]})]}),e.jsxs("div",{className:"card subtle-card",style:{padding:16},children:[e.jsxs("h4",{style:{margin:"0 0 12px 0",fontSize:14},children:[" Sipari Kalemleri (",y.items.length,")"]}),y.items.length===0?e.jsx("div",{className:"text-muted",children:"Henz kalem eklenmedi"}):e.jsx("div",{className:"table-container",style:{maxHeight:200},children:e.jsxs("table",{className:"table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"rn"}),e.jsx("th",{children:"Miktar"}),e.jsx("th",{})]})}),e.jsx("tbody",{children:y.items.map(K=>e.jsxs("tr",{children:[e.jsxs("td",{children:[e.jsx("strong",{children:K.productCode}),"-",K.colorCode,e.jsx("div",{className:"text-muted",children:K.productName})]}),e.jsxs("td",{children:[K.quantity," ",K.unit]}),e.jsx("td",{children:e.jsx("button",{type:"button",className:"btn btn-danger btn-small btn-icon",onClick:()=>ke(K.productCode,K.colorCode),title:"Kalemi Kaldr",children:""})})]},`${K.productCode}-${K.colorCode}`))})]})})]})]})}),e.jsx(qe,{open:B,title:`Sipari Detay - ${(C==null?void 0:C.id)||""}`,size:"xlarge",onClose:()=>{q(!1),Z(null)},actions:e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"btn btn-secondary",type:"button",onClick:()=>be(C),title:"Siparii PDF olarak yazdr",children:" PDF Yazdr"}),["sent","partial"].includes(C==null?void 0:C.status)&&e.jsx("button",{className:"btn btn-success",type:"button",onClick:ce,children:" Teslimat Kaydet"}),(C==null?void 0:C.status)==="draft"&&e.jsx("button",{className:"btn btn-primary",type:"button",onClick:()=>I(C.id),children:" Siparii Gnder"})]}),children:C&&e.jsxs("div",{children:[e.jsx("div",{className:"card subtle-card",style:{marginBottom:16},children:e.jsxs("div",{className:"grid grid-4",style:{gap:16},children:[e.jsxs("div",{children:[e.jsx("div",{className:"metric-label",children:"Tedariki"}),e.jsx("div",{style:{fontWeight:600},children:C.supplierName})]}),e.jsxs("div",{children:[e.jsx("div",{className:"metric-label",children:"Durum"}),e.jsxs("span",{className:`badge badge-${((se=La[C.status])==null?void 0:se.tone)||"secondary"}`,children:[(Se=La[C.status])==null?void 0:Se.icon," ",((_e=La[C.status])==null?void 0:_e.label)||C.status]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"metric-label",children:"Beklenen Tarih"}),e.jsx("div",{style:{fontWeight:600},children:C.expectedDate||"-"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"metric-label",children:"Toplam"}),e.jsx("div",{style:{fontWeight:600,fontSize:18,color:"var(--color-primary)"},children:xr(C.totalAmount)})]})]})}),e.jsxs("div",{className:"card",style:{marginBottom:16},children:[e.jsx("div",{className:"card-header",children:e.jsx("h4",{className:"card-title",children:"Sipari Kalemleri"})}),e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"rn"}),e.jsx("th",{children:"Miktar"}),e.jsx("th",{children:"Teslim Alnan"}),e.jsx("th",{children:"Kalan"}),e.jsx("th",{children:"Durum"}),e.jsx("th",{children:"Birim Fiyat"}),e.jsx("th",{children:"Tutar"})]})}),e.jsx("tbody",{children:(Qe=C.items)==null?void 0:Qe.map((K,je)=>{const Ae=K.quantity-(K.receivedQty||0),X=Ae===0?{label:"Tamam",tone:"success",icon:""}:Ae===K.quantity?{label:"Bekliyor",tone:"secondary",icon:""}:{label:"Eksik",tone:"warning",icon:""};return e.jsxs("tr",{style:{background:Ae>0&&Ae<K.quantity?"rgba(245, 158, 11, 0.05)":void 0},children:[e.jsxs("td",{children:[e.jsx("strong",{children:K.productCode}),"-",K.colorCode,e.jsx("div",{className:"text-muted",children:K.productName})]}),e.jsxs("td",{children:[K.quantity," ",K.unit]}),e.jsx("td",{style:{color:"var(--color-success)",fontWeight:(K.receivedQty||0)>0?600:400},children:K.receivedQty||0}),e.jsx("td",{style:{color:Ae>0?"var(--color-warning)":"var(--color-success)",fontWeight:Ae>0?700:400},children:Ae>0?`-${Ae}`:""}),e.jsx("td",{children:e.jsxs("span",{className:`badge badge-${X.tone}`,style:{fontSize:10},children:[X.icon," ",X.label]})}),e.jsx("td",{children:xr(K.unitCost||0)}),e.jsx("td",{style:{fontWeight:600},children:xr(K.totalCost||0)})]},`${K.productCode}-${je}`)})})]})})]}),((Ue=C.deliveries)==null?void 0:Ue.length)>0&&e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h4",{className:"card-title",children:"Teslimat Gemii"})}),e.jsx("div",{className:"timeline",children:C.deliveries.map(K=>{var je;return e.jsxs("div",{className:"timeline-item",children:[e.jsx("div",{className:"timeline-point"}),e.jsxs("div",{children:[e.jsx("div",{className:"timeline-title",children:K.date}),e.jsx("div",{className:"timeline-subtitle",children:(je=K.items)==null?void 0:je.map(Ae=>`${Ae.productCode}: ${Ae.quantity}`).join(", ")}),e.jsxs("div",{className:"text-muted",children:[K.receivedBy&&`Teslim alan: ${K.receivedBy}`," ",K.note&&` ${K.note}`]})]})]},K.id)})})]})]})}),e.jsx(qe,{open:_,title:" Teslimat Kaydet",size:"xlarge",onClose:()=>fe(!1),actions:e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"btn btn-secondary",type:"button",onClick:()=>fe(!1),children:"ptal"}),e.jsx("button",{className:"btn btn-warning",type:"button",onClick:()=>{le(K=>({...K,items:K.items.map(je=>({...je,quantity:je.remaining}))}))},children:"Tmn Doldur"}),e.jsx("button",{className:"btn btn-success",type:"submit",form:"delivery-form",disabled:P||!Q.items.some(K=>K.quantity>0),children:P?"Kaydediliyor...":` ${Q.items.filter(K=>K.quantity>0).length} Kalem Kaydet`})]}),children:e.jsxs("form",{id:"delivery-form",onSubmit:ue,children:[e.jsx("div",{className:"card subtle-card",style:{padding:12,marginBottom:16},children:e.jsxs("div",{className:"grid grid-4",style:{gap:16},children:[e.jsxs("div",{children:[e.jsx("div",{className:"metric-label",style:{fontSize:11},children:"Sipari No"}),e.jsx("strong",{children:C==null?void 0:C.id})]}),e.jsxs("div",{children:[e.jsx("div",{className:"metric-label",style:{fontSize:11},children:"Tedariki"}),e.jsx("strong",{children:C==null?void 0:C.supplierName})]}),e.jsxs("div",{children:[e.jsx("div",{className:"metric-label",style:{fontSize:11},children:"Toplam Kalem"}),e.jsx("strong",{children:Q.items.length})]}),e.jsxs("div",{children:[e.jsx("div",{className:"metric-label",style:{fontSize:11},children:"Bu Teslimatta"}),e.jsxs("strong",{style:{color:"var(--color-success)"},children:[Q.items.filter(K=>K.quantity>0).length," kalem"]})]})]})}),e.jsxs("div",{className:"text-muted",style:{marginBottom:12,fontSize:13},children:[" Her kalem iin teslim alnan miktar girin. ",e.jsx("strong",{children:"Tab"})," ile sonraki kaleme geebilirsiniz."]}),e.jsx("div",{className:"table-container",style:{marginBottom:16,maxHeight:350,overflow:"auto"},children:e.jsxs("table",{className:"table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{width:"35%"},children:"rn"}),e.jsx("th",{style:{width:"15%"},children:"Sipari"}),e.jsx("th",{style:{width:"15%"},children:"nceki Alm"}),e.jsx("th",{style:{width:"15%"},children:"Kalan"}),e.jsx("th",{style:{width:"20%"},children:"Bu Teslimat"})]})}),e.jsx("tbody",{children:Q.items.map((K,je)=>e.jsxs("tr",{style:{background:K.quantity>0?"var(--color-success-bg)":K.remaining===0?"var(--color-bg-secondary)":"transparent"},children:[e.jsxs("td",{children:[e.jsx("strong",{children:K.productCode}),"-",K.colorCode,e.jsx("div",{className:"text-muted",style:{fontSize:12},children:K.productName})]}),e.jsx("td",{children:Pa(K.ordered)}),e.jsx("td",{style:{color:K.received>0?"var(--color-success)":"var(--text-muted)"},children:Pa(K.received)}),e.jsx("td",{children:K.remaining>0?e.jsx("span",{style:{color:"var(--color-warning)",fontWeight:600},children:Pa(K.remaining)}):e.jsx("span",{className:"badge badge-success",children:"Tamam"})}),e.jsx("td",{children:K.remaining>0?e.jsx(nr,{className:"form-input",min:0,max:K.remaining,value:K.quantity,onChange:Ae=>{le(X=>({...X,items:X.items.map((pe,Pe)=>Pe===je?{...pe,quantity:Ae}:pe)}))},style:{width:90},allowEmpty:!0}):e.jsx("span",{className:"text-muted",children:"-"})})]},`${K.productCode}-${je}`))})]})}),e.jsxs("div",{className:"grid grid-2",style:{gap:16},children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Teslim Alan *"}),e.jsxs("select",{className:"form-select",value:Q.receivedBy,onChange:K=>le(je=>({...je,receivedBy:K.target.value})),required:!0,children:[e.jsx("option",{value:"",children:"-- Personel Sein --"}),a.map(K=>e.jsxs("option",{value:`${K.ad} ${K.soyad||""}`.trim(),children:[K.ad," ",K.soyad||""," ",K.unvan?`(${K.unvan})`:""]},K.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Not (opsiyonel)"}),e.jsx("input",{className:"form-input",value:Q.note,onChange:K=>le(je=>({...je,note:K.target.value})),placeholder:"Teslimat notu, irsaliye no vb..."})]})]}),e.jsxs("div",{className:"form-group",style:{marginTop:16},children:[e.jsx("label",{className:"form-label",children:" rsaliye / Belge Ykle (opsiyonel)"}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[e.jsxs("label",{style:{display:"inline-flex",alignItems:"center",gap:6,padding:"8px 14px",background:"var(--color-bg-secondary)",border:"2px dashed var(--color-border)",borderRadius:8,cursor:"pointer",fontSize:13,color:"var(--color-text-secondary)",transition:"all 0.2s"},children:[e.jsx("span",{children:""}),e.jsx("span",{children:"Dosya Se"}),e.jsx("input",{type:"file",accept:".pdf,.png,.jpg,.jpeg",style:{display:"none"},onChange:K=>{var Ae;const je=(Ae=K.target.files)==null?void 0:Ae[0];je&&le(X=>({...X,waybillFile:je})),K.target.value=""}})]}),Q.waybillFile&&e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[e.jsxs("span",{style:{fontSize:13},children:[" ",Q.waybillFile.name]}),e.jsx("button",{type:"button",style:{background:"none",border:"none",color:"var(--color-danger)",cursor:"pointer",padding:"2px 6px",fontSize:12},onClick:()=>le(K=>({...K,waybillFile:null})),title:"Dosyay Kaldr",children:""})]})]}),e.jsx("div",{className:"text-muted",style:{fontSize:11,marginTop:4},children:"Tedarikiden gelen irsaliye veya teslim belgesi (PDF, PNG, JPG)"})]})]})}),e.jsxs(qe,{open:U,title:" Eksik rnler - Toplu Sipari",size:"xlarge",onClose:()=>H(!1),actions:e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"btn btn-secondary",type:"button",onClick:()=>H(!1),children:"Kapat"}),e.jsx("button",{className:"btn btn-primary",type:"button",disabled:P||oe.length===0,onClick:W,children:P?"Oluturuluyor...":` ${oe.length} rn in Sipari Olutur`})]}),children:[e.jsx("div",{className:"text-muted",style:{marginBottom:16},children:"Aadaki rnler kritik stok seviyesinin altnda. Sipari vermek istediklerinizi sein:"}),e.jsx("div",{className:"table-container",style:{maxHeight:400},children:e.jsxs("table",{className:"table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:e.jsx("input",{type:"checkbox",checked:oe.length===i.length&&i.length>0,onChange:K=>te(K.target.checked?[...i]:[])})}),e.jsx("th",{children:"rn"}),e.jsx("th",{children:"Tedariki"}),e.jsx("th",{children:"Mevcut"}),e.jsx("th",{children:"Kritik"}),e.jsx("th",{children:"nerilen"})]})}),e.jsx("tbody",{children:i.map(K=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("input",{type:"checkbox",checked:oe.some(je=>je.itemId===K.itemId),onChange:je=>{je.target.checked?te(Ae=>[...Ae,K]):te(Ae=>Ae.filter(X=>X.itemId!==K.itemId))}})}),e.jsxs("td",{children:[e.jsx("strong",{children:K.productCode}),"-",K.colorCode,e.jsx("div",{className:"text-muted",children:K.name})]}),e.jsx("td",{children:K.supplierName}),e.jsx("td",{style:{color:"var(--color-danger)"},children:Pa(K.available)}),e.jsx("td",{children:Pa(K.critical)}),e.jsx("td",{style:{fontWeight:600},children:Pa(K.suggestedQty)})]},K.itemId))})]})})]}),e.jsx(qe,{open:!!F,title:"Silme Onay",size:"small",onClose:()=>J(null),actions:e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"btn btn-secondary",type:"button",onClick:()=>J(null),children:"Vazge"}),e.jsx("button",{className:"btn btn-danger",type:"button",onClick:De,disabled:P,children:"Sil"})]}),children:e.jsxs("p",{children:[e.jsx("strong",{children:F==null?void 0:F.id})," sipariini silmek istediinize emin misiniz?"]})})]})},qr=t=>new Intl.NumberFormat("tr-TR").format(t||0),sb={name:"",type:"manufacturer",category:"",jobRoleId:"",supplyType:"stock",leadTimeDays:7,notes:"",contact:{phone:"",email:"",address:"",contactPerson:""}},rb={productCode:"",colorCode:"",productName:"",quantity:1,unit:"boy",type:"received",date:new Date().toISOString().slice(0,10),note:""},uI=()=>{var be,we,W,V,I,ce,ue,De,Re;const[t,n]=c.useState([]),[s,r]=c.useState(!0),[a,l]=c.useState(""),[i,o]=c.useState(""),[d,m]=c.useState("all"),[p,g]=c.useState([]),[h,k]=c.useState(!1),[x,w]=c.useState(null),[N,f]=c.useState(sb),[v,b]=c.useState(!1),[y,S]=c.useState(!1),[j,z]=c.useState(null),[P,$]=c.useState(null),[B,q]=c.useState([]),[C,Z]=c.useState(!1),[A,O]=c.useState(!1),[_,fe]=c.useState(rb),[Q,le]=c.useState(""),[ye,E]=c.useState([]),[D,G]=c.useState(!1),[U,H]=c.useState(null);c.useEffect(()=>{te(),oe()},[]);const oe=async()=>{try{const se=await ba(!0);g(se||[])}catch(se){console.warn("Job roles yklenemedi:",se)}},te=async()=>{try{r(!0),l("");const se=await Gs();n(se)}catch(se){l(se.message||"Tedarikiler alnamad")}finally{r(!1)}},F=c.useMemo(()=>{let se=[...t];if(i){const Se=i.toLowerCase();se=se.filter(_e=>{var Qe;return _e.name.toLowerCase().includes(Se)||(_e.category||"").toLowerCase().includes(Se)||(((Qe=_e.contact)==null?void 0:Qe.contactPerson)||"").toLowerCase().includes(Se)})}return d!=="all"&&(se=se.filter(Se=>Se.type===d)),se},[t,i,d]),J=()=>{w(null),f(sb),k(!0)},xe=se=>{var Se,_e,Qe,Ue;w(se),f({name:se.name||"",type:se.type||"manufacturer",category:se.category||"",jobRoleId:se.jobRoleId||"",supplyType:se.supplyType||"stock",leadTimeDays:se.leadTimeDays||7,notes:se.notes||"",contact:{phone:((Se=se.contact)==null?void 0:Se.phone)||"",email:((_e=se.contact)==null?void 0:_e.email)||"",address:((Qe=se.contact)==null?void 0:Qe.address)||"",contactPerson:((Ue=se.contact)==null?void 0:Ue.contactPerson)||""}}),k(!0)},ie=async se=>{se.preventDefault();try{if(b(!0),x){const Se=await o4(x.id,N);n(_e=>_e.map(Qe=>Qe.id===x.id?Se:Qe))}else{const Se=await i4(N);n(_e=>[Se,..._e])}k(!1)}catch(Se){l(Se.message||"Kayt yaplamad")}finally{b(!1)}},L=async()=>{if(U)try{b(!0),await c4(U.id),n(se=>se.filter(Se=>Se.id!==U.id)),H(null)}catch(se){l(se.message||"Silinemedi")}finally{b(!1)}},ne=async se=>{z(se),S(!0),Z(!0);try{const[Se,_e]=await Promise.all([yj(se.id),d4(se.id)]);$(Se),q(_e)}catch(Se){console.error("Balance load error:",Se)}finally{Z(!1)}},he=()=>{fe({...rb,date:new Date().toISOString().slice(0,10)}),le(""),E([]),O(!0)};c.useEffect(()=>{if(!Q||Q.length<2){E([]);return}const se=setTimeout(async()=>{G(!0);try{const Se=await MS(Q,"");E(Se.slice(0,10))}catch(Se){console.error("Product search error:",Se)}finally{G(!1)}},300);return()=>clearTimeout(se)},[Q]);const M=se=>{fe(Se=>({...Se,productCode:se.productCode,colorCode:se.colorCode,productName:`${se.name} ${se.colorName||""}`.trim(),unit:se.unit||"boy"})),le(""),E([])},re=async se=>{if(se.preventDefault(),!!j)try{b(!0);const Se=await u4(j.id,_);q(Qe=>[Se,...Qe]);const _e=await yj(j.id);$(_e),O(!1)}catch(Se){l(Se.message||"Hareket kaydedilemedi")}finally{b(!1)}},ke=c.useMemo(()=>{const se=t.filter(_e=>_e.type==="manufacturer").length,Se=t.filter(_e=>_e.type==="dealer").length;return{total:t.length,manufacturers:se,dealers:Se}},[t]);return e.jsxs("div",{children:[e.jsx(it,{title:"Tedarikiler & Bayiler",subtitle:"Tedariki ynetimi ve rn bazl hesap takibi",actions:e.jsx("button",{className:"btn btn-primary",type:"button",onClick:J,children:" Yeni Tedariki"})}),e.jsxs("div",{className:"stats-grid",style:{marginBottom:16},children:[e.jsx("div",{className:"card",style:{padding:16},children:e.jsxs("div",{className:"metric-row",children:[e.jsx("div",{className:"metric-icon",children:""}),e.jsxs("div",{children:[e.jsx("div",{className:"metric-label",children:"Toplam"}),e.jsx("div",{className:"metric-value",children:ke.total})]})]})}),e.jsx("div",{className:"card",style:{padding:16},children:e.jsxs("div",{className:"metric-row",children:[e.jsx("div",{className:"metric-icon",children:""}),e.jsxs("div",{children:[e.jsx("div",{className:"metric-label",children:"retici/Fabrika"}),e.jsx("div",{className:"metric-value",children:ke.manufacturers})]})]})}),e.jsx("div",{className:"card",style:{padding:16},children:e.jsxs("div",{className:"metric-row",children:[e.jsx("div",{className:"metric-icon",children:""}),e.jsxs("div",{children:[e.jsx("div",{className:"metric-label",children:"Bayi"}),e.jsx("div",{className:"metric-value",children:ke.dealers})]})]})})]}),e.jsxs("div",{className:"filter-bar",style:{marginBottom:16},children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{className:"filter-label",children:"Ara"}),e.jsx("input",{className:"filter-input",type:"search",placeholder:"Tedariki ad, kategori...",value:i,onChange:se=>o(se.target.value)})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{className:"filter-label",children:"Tr"}),e.jsxs("select",{className:"filter-input",value:d,onChange:se=>m(se.target.value),children:[e.jsx("option",{value:"all",children:"Tm"}),e.jsx("option",{value:"manufacturer",children:"retici/Fabrika"}),e.jsx("option",{value:"dealer",children:"Bayi"})]})]})]}),s?e.jsx(kt,{text:"Tedarikiler ykleniyor..."}):a?e.jsxs("div",{className:"card error-card",children:[e.jsx("div",{className:"error-title",children:"Hata"}),e.jsx("div",{className:"error-message",children:a})]}):e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h3",{className:"card-title",children:"Tedariki Listesi"}),e.jsxs("span",{className:"badge badge-secondary",children:[F.length," kayt"]})]}),e.jsx(sn,{columns:[{label:"Tedariki",accessor:"name",render:(se,Se)=>e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:600},children:Se.name}),e.jsx("div",{className:"text-muted",children:Se.category||"Genel"})]})},{label:"Tr",accessor:"type",render:se=>e.jsx("span",{className:`badge badge-${se==="dealer"?"warning":"primary"}`,children:se==="dealer"?" Bayi":" retici"})},{label:"Tedarik Tr",accessor:"supplyType",render:(se,Se)=>{var Qe;const _e=(Qe=p.find(Ue=>Ue.id===Se.jobRoleId))==null?void 0:Qe.name;return e.jsxs("div",{children:[e.jsx("span",{className:`badge badge-${se==="glass"?"info":se==="production"?"success":"secondary"}`,children:se==="glass"?" Cam":se==="production"?" D retim":" Stok"}),_e&&e.jsx("div",{className:"text-muted",style:{fontSize:11,marginTop:2},children:_e})]})}},{label:"letiim",accessor:"contact",render:(se,Se)=>{var _e,Qe;return e.jsxs("div",{style:{fontSize:13},children:[e.jsx("div",{children:((_e=Se.contact)==null?void 0:_e.contactPerson)||"-"}),e.jsx("div",{className:"text-muted",children:((Qe=Se.contact)==null?void 0:Qe.phone)||"-"})]})}},{label:"Temin Sresi",accessor:"leadTimeDays",render:se=>`${se||7} gn`},{label:"Aksiyon",accessor:"actions",render:(se,Se)=>e.jsxs("div",{style:{display:"flex",gap:8},children:[e.jsx("button",{className:"btn btn-primary btn-small",type:"button",onClick:()=>ne(Se),children:" Hesap"}),e.jsx("button",{className:"btn btn-secondary btn-icon",type:"button",onClick:()=>xe(Se),title:"Dzenle",children:""}),e.jsx("button",{className:"btn btn-danger btn-icon",type:"button",onClick:()=>H(Se),title:"Sil",children:""})]})}],rows:F})]}),e.jsx(qe,{open:h,title:x?"Tedariki Dzenle":"Yeni Tedariki",size:"large",onClose:()=>k(!1),actions:e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"btn btn-secondary",type:"button",onClick:()=>k(!1),children:"ptal"}),e.jsx("button",{className:"btn btn-primary",type:"submit",form:"supplier-form",disabled:v,children:v?"Kaydediliyor...":"Kaydet"})]}),children:e.jsxs("form",{id:"supplier-form",onSubmit:ie,className:"grid grid-2",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Tedariki Ad *"}),e.jsx("input",{className:"form-input",value:N.name,onChange:se=>f(Se=>({...Se,name:se.target.value})),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Tr *"}),e.jsxs("select",{className:"form-select",value:N.type,onChange:se=>f(Se=>({...Se,type:se.target.value})),children:[e.jsx("option",{value:"manufacturer",children:" retici/Fabrika"}),e.jsx("option",{value:"dealer",children:" Bayi"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Kategori"}),e.jsx("input",{className:"form-input",value:N.category,onChange:se=>f(Se=>({...Se,category:se.target.value})),placeholder:"PVC Profil, Aksesuar, Cam..."})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Tedarik Tr *"}),e.jsxs("select",{className:"form-select",value:N.supplyType,onChange:se=>f(Se=>({...Se,supplyType:se.target.value,jobRoleId:se.target.value==="stock"?"":Se.jobRoleId})),children:[e.jsx("option",{value:"stock",children:" Stok Tedarikisi"}),e.jsx("option",{value:"glass",children:" Cam Tedarikisi (retim)"}),e.jsx("option",{value:"production",children:" D retim Tedarikisi"})]})]}),(N.supplyType==="glass"||N.supplyType==="production")&&e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:" Kolu *"}),e.jsxs("select",{className:"form-select",value:N.jobRoleId,onChange:se=>f(Se=>({...Se,jobRoleId:se.target.value})),children:[e.jsx("option",{value:"",children:"Tm (Genel)"}),p.map(se=>e.jsx("option",{value:se.id,children:se.name},se.id))]}),e.jsx("small",{className:"text-muted",style:{fontSize:"0.75rem",marginTop:4},children:"Bu tedariki hangi i kolu iin sipari verilecek? Bo brakrsanz tm i kollarnda grnr."})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Temin Sresi (gn)"}),e.jsx("input",{className:"form-input",type:"number",min:"1",value:N.leadTimeDays,onChange:se=>f(Se=>({...Se,leadTimeDays:Number(se.target.value)}))})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Yetkili Kii"}),e.jsx("input",{className:"form-input",value:N.contact.contactPerson,onChange:se=>f(Se=>({...Se,contact:{...Se.contact,contactPerson:se.target.value}}))})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Telefon"}),e.jsx("input",{className:"form-input",value:N.contact.phone,onChange:se=>f(Se=>({...Se,contact:{...Se.contact,phone:se.target.value}}))})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"E-posta"}),e.jsx("input",{className:"form-input",type:"email",value:N.contact.email,onChange:se=>f(Se=>({...Se,contact:{...Se.contact,email:se.target.value}}))})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Adres"}),e.jsx("input",{className:"form-input",value:N.contact.address,onChange:se=>f(Se=>({...Se,contact:{...Se.contact,address:se.target.value}}))})]}),e.jsxs("div",{className:"form-group",style:{gridColumn:"1 / -1"},children:[e.jsx("label",{className:"form-label",children:"Notlar"}),e.jsx("textarea",{className:"form-textarea",value:N.notes,onChange:se=>f(Se=>({...Se,notes:se.target.value})),placeholder:"Ek bilgiler..."})]})]})}),e.jsx(qe,{open:y,title:` ${(j==null?void 0:j.name)||"Tedariki"} - rn Hesab`,size:"xxlarge",onClose:()=>{S(!1),z(null),$(null),q([])},children:C?e.jsx(kt,{text:"Hesap bilgileri ykleniyor..."}):e.jsxs("div",{children:[e.jsx("div",{className:"card subtle-card",style:{marginBottom:16},children:e.jsxs("div",{className:"grid grid-4",style:{gap:16},children:[e.jsxs("div",{children:[e.jsx("div",{className:"metric-label",children:"Tr"}),e.jsx("div",{style:{fontWeight:600},children:(j==null?void 0:j.type)==="dealer"?" Bayi":" retici"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"metric-label",children:"Kategori"}),e.jsx("div",{style:{fontWeight:600},children:(j==null?void 0:j.category)||"-"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"metric-label",children:"Temin Sresi"}),e.jsxs("div",{style:{fontWeight:600},children:[(j==null?void 0:j.leadTimeDays)||7," gn"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"metric-label",children:"letiim"}),e.jsx("div",{style:{fontWeight:600},children:((be=j==null?void 0:j.contact)==null?void 0:be.phone)||"-"})]})]})}),P&&e.jsxs("div",{className:"card",style:{marginBottom:16},children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h4",{className:"card-title",children:" rn Bazl Bakiye"}),e.jsx("button",{className:"btn btn-primary btn-small",type:"button",onClick:he,children:" Hareket Ekle"})]}),e.jsxs("div",{className:"grid grid-3",style:{gap:12,marginBottom:16,padding:"0 16px"},children:[e.jsxs("div",{style:{padding:12,background:"var(--color-success-bg)",borderRadius:8,textAlign:"center"},children:[e.jsx("div",{className:"metric-label",children:"Aldk (Toplam)"}),e.jsx("div",{style:{fontSize:20,fontWeight:700,color:"var(--color-success)"},children:qr(((we=P.summary)==null?void 0:we.totalReceived)||0)})]}),e.jsxs("div",{style:{padding:12,background:"var(--color-warning-bg)",borderRadius:8,textAlign:"center"},children:[e.jsx("div",{className:"metric-label",children:"Verdik (Toplam)"}),e.jsx("div",{style:{fontSize:20,fontWeight:700,color:"var(--color-warning)"},children:qr(((W=P.summary)==null?void 0:W.totalGiven)||0)})]}),e.jsxs("div",{style:{padding:12,background:(((V=P.summary)==null?void 0:V.netBalance)||0)>=0?"var(--color-info-bg)":"var(--color-danger-bg)",borderRadius:8,textAlign:"center"},children:[e.jsx("div",{className:"metric-label",children:"Net Bakiye"}),e.jsxs("div",{style:{fontSize:20,fontWeight:700,color:(((I=P.summary)==null?void 0:I.netBalance)||0)>=0?"var(--color-info)":"var(--color-danger)"},children:[(((ce=P.summary)==null?void 0:ce.netBalance)||0)>=0?"+":"",qr(((ue=P.summary)==null?void 0:ue.netBalance)||0)]}),e.jsx("div",{className:"text-muted",style:{fontSize:11},children:(((De=P.summary)==null?void 0:De.netBalance)||0)>=0?"Biz fazla aldk":"Biz fazla verdik"})]})]}),((Re=P.items)==null?void 0:Re.length)>0?e.jsx("div",{className:"table-container",style:{maxHeight:300},children:e.jsxs("table",{className:"table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"rn Kodu"}),e.jsx("th",{children:"Renk Kodu"}),e.jsx("th",{children:"rn Ad"}),e.jsx("th",{children:"Birim"}),e.jsx("th",{style:{textAlign:"right"},children:"Aldk"}),e.jsx("th",{style:{textAlign:"right"},children:"Verdik"}),e.jsx("th",{style:{textAlign:"right"},children:"Bakiye"})]})}),e.jsx("tbody",{children:P.items.map((se,Se)=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("strong",{children:se.productCode})}),e.jsx("td",{children:se.colorCode}),e.jsx("td",{children:se.productName}),e.jsx("td",{children:se.unit}),e.jsxs("td",{style:{textAlign:"right",color:"var(--color-success)"},children:["+",qr(se.received)]}),e.jsxs("td",{style:{textAlign:"right",color:"var(--color-warning)"},children:["-",qr(se.given)]}),e.jsxs("td",{style:{textAlign:"right",fontWeight:700,color:se.balance>=0?"var(--color-info)":"var(--color-danger)"},children:[se.balance>=0?"+":"",qr(se.balance)]})]},`${se.productCode}-${se.colorCode}-${Se}`))})]})}):e.jsxs("div",{className:"empty-state",style:{padding:20},children:[e.jsx("div",{className:"empty-state-icon",children:""}),e.jsx("div",{className:"empty-state-title",children:"Henz hareket yok"}),e.jsx("div",{className:"empty-state-description",children:"Bu tedariki ile rn alverii kayd bulunmuyor."})]})]}),e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h4",{className:"card-title",children:" Son Hareketler"}),e.jsxs("span",{className:"badge badge-secondary",children:[B.length," kayt"]})]}),B.length>0?e.jsx("div",{className:"table-container",style:{maxHeight:250},children:e.jsxs("table",{className:"table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Tarih"}),e.jsx("th",{children:"rn"}),e.jsx("th",{children:"Miktar"}),e.jsx("th",{children:"lem"}),e.jsx("th",{children:"Not"})]})}),e.jsx("tbody",{children:B.slice(0,20).map(se=>e.jsxs("tr",{children:[e.jsx("td",{children:se.date}),e.jsxs("td",{children:[e.jsx("strong",{children:se.productCode}),"-",se.colorCode,e.jsx("div",{className:"text-muted",style:{fontSize:12},children:se.productName})]}),e.jsxs("td",{children:[qr(se.quantity)," ",se.unit]}),e.jsx("td",{children:e.jsx("span",{className:`badge badge-${se.type==="received"?"success":"warning"}`,children:se.type==="received"?" Aldk":" Verdik"})}),e.jsx("td",{className:"text-muted",children:se.note||"-"})]},se.id))})]})}):e.jsx("div",{className:"text-muted",style:{padding:16},children:"Henz hareket kayd yok."})]})]})}),e.jsx(qe,{open:A,title:" rn Hareketi Ekle",size:"large",onClose:()=>O(!1),actions:e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"btn btn-secondary",type:"button",onClick:()=>O(!1),children:"ptal"}),e.jsx("button",{className:"btn btn-primary",type:"submit",form:"transaction-form",disabled:v||!_.productCode,children:v?"Kaydediliyor...":"Kaydet"})]}),children:e.jsxs("form",{id:"transaction-form",onSubmit:re,children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"rn Ara (kod veya ad)"}),e.jsx("input",{className:"form-input",placeholder:"rn kodu veya ad yazn...",value:Q,onChange:se=>le(se.target.value)}),D&&e.jsx("div",{className:"text-muted",style:{marginTop:4},children:"Aranyor..."}),ye.length>0&&e.jsx("div",{style:{marginTop:8,border:"1px solid var(--color-border)",borderRadius:6,maxHeight:200,overflow:"auto"},children:ye.map(se=>e.jsxs("div",{style:{padding:"8px 12px",cursor:"pointer",borderBottom:"1px solid var(--color-border)"},onClick:()=>M(se),onKeyDown:Se=>Se.key==="Enter"&&M(se),tabIndex:0,role:"button",children:[e.jsx("strong",{children:se.productCode}),"-",se.colorCode,"  ",se.name," ",se.colorName||"",e.jsxs("span",{className:"text-muted",style:{marginLeft:8},children:["(",se.unit,")"]})]},se.id))})]}),_.productCode&&e.jsxs("div",{style:{padding:12,background:"var(--color-primary-bg)",borderRadius:8,marginBottom:16},children:[e.jsxs("div",{style:{fontWeight:600},children:[_.productCode,"-",_.colorCode]}),e.jsx("div",{children:_.productName})]}),e.jsxs("div",{className:"grid grid-2",style:{gap:16},children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"rn Kodu *"}),e.jsx("input",{className:"form-input",value:_.productCode,onChange:se=>fe(Se=>({...Se,productCode:se.target.value})),placeholder:"18300",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Renk Kodu *"}),e.jsx("input",{className:"form-input",value:_.colorCode,onChange:se=>fe(Se=>({...Se,colorCode:se.target.value})),placeholder:"3",required:!0})]}),e.jsxs("div",{className:"form-group",style:{gridColumn:"1 / -1"},children:[e.jsx("label",{className:"form-label",children:"rn Ad"}),e.jsx("input",{className:"form-input",value:_.productName,onChange:se=>fe(Se=>({...Se,productName:se.target.value})),placeholder:"Carisma Kasa Beyaz"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Miktar *"}),e.jsx("input",{className:"form-input",type:"number",min:"0.01",step:"0.01",value:_.quantity,onChange:se=>fe(Se=>({...Se,quantity:Number(se.target.value)})),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Birim"}),e.jsxs("select",{className:"form-select",value:_.unit,onChange:se=>fe(Se=>({...Se,unit:se.target.value})),children:[e.jsx("option",{value:"boy",children:"Boy"}),e.jsx("option",{value:"adet",children:"Adet"}),e.jsx("option",{value:"m2",children:"m"}),e.jsx("option",{value:"kg",children:"Kg"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"lem Tr *"}),e.jsxs("select",{className:"form-select",value:_.type,onChange:se=>fe(Se=>({...Se,type:se.target.value})),children:[e.jsx("option",{value:"received",children:" Aldk (Biz onlardan aldk)"}),e.jsx("option",{value:"given",children:" Verdik (Biz onlara verdik)"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Tarih"}),e.jsx(gt,{value:_.date,onChange:se=>fe(Se=>({...Se,date:se}))})]}),e.jsxs("div",{className:"form-group",style:{gridColumn:"1 / -1"},children:[e.jsx("label",{className:"form-label",children:"Not"}),e.jsx("input",{className:"form-input",value:_.note,onChange:se=>fe(Se=>({...Se,note:se.target.value})),placeholder:"Acil ihtiya iin, dn verildi vb."})]})]})]})}),e.jsx(qe,{open:!!U,title:"Silme Onay",size:"small",onClose:()=>H(null),actions:e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"btn btn-secondary",type:"button",onClick:()=>H(null),children:"Vazge"}),e.jsx("button",{className:"btn btn-danger",type:"button",onClick:L,disabled:v,children:"Sil"})]}),children:e.jsxs("p",{children:[e.jsx("strong",{children:U==null?void 0:U.name})," tedarikisini silmek istediinize emin misiniz?"]})})]})},Ba=t=>new Intl.NumberFormat("tr-TR").format(t||0),mI=()=>{const[t,n]=c.useState([]),[s,r]=c.useState([]),[a,l]=c.useState(!0),[i,o]=c.useState(""),[d,m]=c.useState(""),[p,g]=c.useState("all"),[h,k]=c.useState([]),[x,w]=c.useState(!1),[N,f]=c.useState(!1);c.useEffect(()=>{v()},[]);const v=async()=>{try{l(!0),o("");const[$,B]=await Promise.all([LS(),Gs()]);n($),r(B)}catch($){o($.message||"Veriler alnamad")}finally{l(!1)}},b=c.useMemo(()=>{let $=[...t];if(d){const B=d.toLowerCase();$=$.filter(q=>q.productCode.toLowerCase().includes(B)||q.name.toLowerCase().includes(B)||(q.colorName||"").toLowerCase().includes(B))}return p!=="all"&&($=$.filter(B=>B.supplierId===p)),$},[t,d,p]),y=c.useMemo(()=>{const $=t.length,B=t.reduce((C,Z)=>C+(Z.suggestedQty||0),0),q=new Set(t.map(C=>C.supplierId)).size;return{total:$,totalShortage:B,suppliersNeeded:q}},[t]),S=$=>{k(B=>B.find(C=>C.itemId===$.itemId)?B.filter(C=>C.itemId!==$.itemId):[...B,$])},j=()=>{h.length===b.length?k([]):k([...b])},z=async()=>{if(h.length===0)return;const $={};h.forEach(B=>{const q=B.supplierId;$[q]||($[q]={supplierId:B.supplierId,supplierName:B.supplierName,items:[]}),$[q].items.push({productCode:B.productCode,colorCode:B.colorCode,productName:`${B.name} ${B.colorName||""}`.trim(),quantity:B.suggestedQty,unit:B.unit,unitCost:0})});try{w(!0);for(const B of Object.values($))await lp({supplierId:B.supplierId,supplierName:B.supplierName,items:B.items,notes:"Kritik stok siparii",expectedDate:"",relatedJobs:[]});k([]),f(!1),await v()}catch(B){o(B.message||"Sipari oluturulamad")}finally{w(!1)}},P=c.useMemo(()=>{const $={};return h.forEach(B=>{$[B.supplierId]||($[B.supplierId]={supplierName:B.supplierName,items:[]}),$[B.supplierId].items.push(B)}),Object.entries($)},[h]);return e.jsxs("div",{children:[e.jsx(it,{title:"Eksik rnler",subtitle:"Kritik stok seviyesinin altndaki rnler - Sipari verilmesi gerekenler",actions:h.length>0&&e.jsxs("button",{className:"btn btn-primary",type:"button",onClick:()=>f(!0),children:[" ",h.length," rn in Sipari Olutur"]})}),e.jsxs("div",{className:"stats-grid",style:{marginBottom:16},children:[e.jsx("div",{className:"card",style:{padding:16},children:e.jsxs("div",{className:"metric-row",children:[e.jsx("div",{className:"metric-icon",children:""}),e.jsxs("div",{children:[e.jsx("div",{className:"metric-label",children:"Eksik rn"}),e.jsx("div",{className:"metric-value",children:y.total})]})]})}),e.jsx("div",{className:"card",style:{padding:16},children:e.jsxs("div",{className:"metric-row",children:[e.jsx("div",{className:"metric-icon",children:""}),e.jsxs("div",{children:[e.jsx("div",{className:"metric-label",children:"Toplam Eksik"}),e.jsx("div",{className:"metric-value",children:Ba(y.totalShortage)})]})]})}),e.jsx("div",{className:"card",style:{padding:16},children:e.jsxs("div",{className:"metric-row",children:[e.jsx("div",{className:"metric-icon",children:""}),e.jsxs("div",{children:[e.jsx("div",{className:"metric-label",children:"Tedariki"}),e.jsx("div",{className:"metric-value",children:y.suppliersNeeded})]})]})})]}),e.jsxs("div",{className:"filter-bar",style:{marginBottom:16},children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{className:"filter-label",children:"Ara"}),e.jsx("input",{className:"filter-input",type:"search",placeholder:"rn kodu, ad...",value:d,onChange:$=>m($.target.value)})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{className:"filter-label",children:"Tedariki"}),e.jsxs("select",{className:"filter-input",value:p,onChange:$=>g($.target.value),children:[e.jsx("option",{value:"all",children:"Tm"}),s.map($=>e.jsx("option",{value:$.id,children:$.name},$.id))]})]})]}),a?e.jsx(kt,{text:"Eksik rnler ykleniyor..."}):i?e.jsxs("div",{className:"card error-card",children:[e.jsx("div",{className:"error-title",children:"Hata"}),e.jsx("div",{className:"error-message",children:i})]}):t.length===0?e.jsxs("div",{className:"card",style:{padding:40,textAlign:"center"},children:[e.jsx("div",{style:{fontSize:48,marginBottom:16},children:""}),e.jsx("h3",{children:"Tm Stoklar Yeterli"}),e.jsx("p",{className:"text-muted",children:"Kritik seviyenin altnda rn bulunmuyor."})]}):e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h3",{className:"card-title",children:"Eksik rn Listesi"}),e.jsxs("span",{className:"badge badge-warning",children:[b.length," rn"]})]}),e.jsx(sn,{columns:[{label:e.jsx("input",{type:"checkbox",checked:h.length===b.length&&b.length>0,onChange:j}),accessor:"select",render:($,B)=>e.jsx("input",{type:"checkbox",checked:h.some(q=>q.itemId===B.itemId),onChange:()=>S(B)})},{label:"rn",accessor:"name",render:($,B)=>e.jsxs("div",{children:[e.jsx("strong",{children:B.productCode}),"-",B.colorCode,e.jsxs("div",{className:"text-muted",children:[B.name," ",B.colorName||""]})]})},{label:"Tedariki",accessor:"supplierName"},{label:"Mevcut",accessor:"available",render:$=>e.jsx("span",{style:{color:"var(--color-danger)",fontWeight:600},children:Ba($)})},{label:"Kritik",accessor:"critical",render:$=>Ba($)},{label:"Bekleyen Sipari",accessor:"pendingInOrders",render:$=>$>0?e.jsxs("span",{className:"badge badge-info",children:[Ba($)," sipari edildi"]}):"-"},{label:"nerilen",accessor:"suggestedQty",render:($,B)=>e.jsxs("strong",{style:{color:"var(--color-primary)"},children:[Ba($)," ",B.unit]})}],rows:b})]}),e.jsxs(qe,{open:N,title:" Sipari Olutur",size:"large",onClose:()=>f(!1),actions:e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"btn btn-secondary",type:"button",onClick:()=>f(!1),children:"ptal"}),e.jsx("button",{className:"btn btn-primary",type:"button",disabled:x,onClick:z,children:x?"Oluturuluyor...":`${P.length} Sipari Olutur`})]}),children:[e.jsx("div",{className:"text-muted",style:{marginBottom:16},children:"Seilen rnler tedarikiye gre gruplandrlarak sipari oluturulacak:"}),P.map(([$,B])=>e.jsxs("div",{className:"card subtle-card",style:{marginBottom:12,padding:12},children:[e.jsxs("div",{style:{fontWeight:600,marginBottom:8},children:[" ",B.supplierName]}),e.jsx("div",{style:{fontSize:13},children:B.items.map(q=>e.jsxs("div",{className:"metric-row",style:{padding:"4px 0"},children:[e.jsxs("span",{children:[q.productCode,"-",q.colorCode," ",q.name]}),e.jsxs("strong",{children:[Ba(q.suggestedQty)," ",q.unit]})]},q.itemId))})]},$))]})]})},Lo=t=>new Intl.NumberFormat("tr-TR").format(t||0),pI=()=>{const[t,n]=c.useState([]),[s,r]=c.useState([]),[a,l]=c.useState(!0),[i,o]=c.useState(""),[d,m]=c.useState(""),[p,g]=c.useState("all");c.useEffect(()=>{h()},[]);const h=async()=>{try{l(!0),o("");const[f,v]=await Promise.all([PS(),Gs()]);n(f),r(v)}catch(f){o(f.message||"Veriler alnamad")}finally{l(!1)}},k=c.useMemo(()=>{const f=[];return t.filter(v=>["sent","partial"].includes(v.status)).forEach(v=>{var b;(b=v.items)==null||b.forEach(y=>{const S=y.quantity-(y.receivedQty||0);S>0&&f.push({id:`${v.id}-${y.productCode}-${y.colorCode}`,orderId:v.id,supplierId:v.supplierId,supplierName:v.supplierName,expectedDate:v.expectedDate,productCode:y.productCode,colorCode:y.colorCode,productName:y.productName,ordered:y.quantity,received:y.receivedQty||0,remaining:S,unit:y.unit,status:v.status})})}),f},[t]),x=c.useMemo(()=>{let f=[...k];if(d){const v=d.toLowerCase();f=f.filter(b=>b.orderId.toLowerCase().includes(v)||b.productCode.toLowerCase().includes(v)||b.productName.toLowerCase().includes(v))}return p!=="all"&&(f=f.filter(v=>v.supplierId===p)),f.sort((v,b)=>v.expectedDate?b.expectedDate?new Date(v.expectedDate)-new Date(b.expectedDate):-1:1)},[k,d,p]),w=c.useMemo(()=>{const f=k.length,v=k.reduce((S,j)=>S+j.remaining,0),b=k.filter(S=>S.expectedDate?new Date(S.expectedDate)<new Date:!1).length,y=new Set(k.map(S=>S.orderId)).size;return{totalItems:f,totalRemaining:v,overdueCount:b,uniqueOrders:y}},[k]),N=f=>{if(!f)return null;const v=new Date(f),b=new Date;return b.setHours(0,0,0,0),v.setHours(0,0,0,0),Math.floor((b-v)/(1e3*60*60*24))};return e.jsxs("div",{children:[e.jsx(it,{title:"Bekleyen Teslimatlar",subtitle:"Gnderilmi siparilerdeki teslim alnmam rnler"}),e.jsxs("div",{className:"stats-grid",style:{marginBottom:16},children:[e.jsx("div",{className:"card",style:{padding:16},children:e.jsxs("div",{className:"metric-row",children:[e.jsx("div",{className:"metric-icon",children:""}),e.jsxs("div",{children:[e.jsx("div",{className:"metric-label",children:"Bekleyen Kalem"}),e.jsx("div",{className:"metric-value",children:w.totalItems})]})]})}),e.jsx("div",{className:"card",style:{padding:16},children:e.jsxs("div",{className:"metric-row",children:[e.jsx("div",{className:"metric-icon",children:""}),e.jsxs("div",{children:[e.jsx("div",{className:"metric-label",children:"Ak Sipari"}),e.jsx("div",{className:"metric-value",children:w.uniqueOrders})]})]})}),e.jsx("div",{className:"card",style:{padding:16},children:e.jsxs("div",{className:"metric-row",children:[e.jsx("div",{className:"metric-icon",children:""}),e.jsxs("div",{children:[e.jsx("div",{className:"metric-label",children:"Toplam Bekleyen"}),e.jsx("div",{className:"metric-value",children:Lo(w.totalRemaining)})]})]})}),e.jsx("div",{className:"card",style:{padding:16,background:w.overdueCount>0?"var(--color-danger-bg)":void 0},children:e.jsxs("div",{className:"metric-row",children:[e.jsx("div",{className:"metric-icon",children:""}),e.jsxs("div",{children:[e.jsx("div",{className:"metric-label",children:"Gecikmi"}),e.jsx("div",{className:"metric-value",style:{color:w.overdueCount>0?"var(--color-danger)":void 0},children:w.overdueCount})]})]})})]}),e.jsxs("div",{className:"filter-bar",style:{marginBottom:16},children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{className:"filter-label",children:"Ara"}),e.jsx("input",{className:"filter-input",type:"search",placeholder:"Sipari no, rn...",value:d,onChange:f=>m(f.target.value)})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{className:"filter-label",children:"Tedariki"}),e.jsxs("select",{className:"filter-input",value:p,onChange:f=>g(f.target.value),children:[e.jsx("option",{value:"all",children:"Tm"}),s.map(f=>e.jsx("option",{value:f.id,children:f.name},f.id))]})]})]}),a?e.jsx(kt,{text:"Bekleyen teslimatlar ykleniyor..."}):i?e.jsxs("div",{className:"card error-card",children:[e.jsx("div",{className:"error-title",children:"Hata"}),e.jsx("div",{className:"error-message",children:i})]}):k.length===0?e.jsxs("div",{className:"card",style:{padding:40,textAlign:"center"},children:[e.jsx("div",{style:{fontSize:48,marginBottom:16},children:""}),e.jsx("h3",{children:"Tm Teslimatlar Tamamland"}),e.jsx("p",{className:"text-muted",children:"Bekleyen rn bulunmuyor."})]}):e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h3",{className:"card-title",children:"Bekleyen rnler"}),e.jsxs("span",{className:"badge badge-warning",children:[x.length," kalem"]})]}),e.jsx(sn,{columns:[{label:"Sipari",accessor:"orderId",render:f=>e.jsx("strong",{children:f})},{label:"Tedariki",accessor:"supplierName"},{label:"rn",accessor:"productName",render:(f,v)=>e.jsxs("div",{children:[e.jsx("strong",{children:v.productCode}),"-",v.colorCode,e.jsx("div",{className:"text-muted",children:v.productName})]})},{label:"Sipari",accessor:"ordered",render:(f,v)=>`${Lo(f)} ${v.unit}`},{label:"Teslim Alnan",accessor:"received",render:f=>e.jsx("span",{style:{color:"var(--color-success)"},children:Lo(f)})},{label:"Kalan",accessor:"remaining",render:(f,v)=>e.jsxs("strong",{style:{color:"var(--color-warning)"},children:[Lo(f)," ",v.unit]})},{label:"Beklenen Tarih",accessor:"expectedDate",render:f=>{if(!f)return"-";const v=N(f),b=v>0,y=v===0;return e.jsxs("div",{children:[e.jsx("span",{className:`badge badge-${b?"danger":y?"warning":"secondary"}`,children:f}),b&&e.jsxs("div",{style:{fontSize:11,color:"var(--color-danger)",fontWeight:600,marginTop:2},children:[" ",v," gn geti!"]}),v<0&&e.jsxs("div",{style:{fontSize:10,color:"var(--color-text-muted)",marginTop:2},children:[Math.abs(v)," gn kald"]}),y&&e.jsx("div",{style:{fontSize:11,color:"var(--color-warning)",fontWeight:600,marginTop:2},children:" Bugn!"})]})}},{label:"Durum",accessor:"status",render:f=>e.jsx("span",{className:`badge badge-${f==="partial"?"warning":"primary"}`,children:f==="partial"?"Ksmi":"Bekliyor"})}],rows:x})]})]})},hI=()=>{const[t,n]=c.useState([]),[s,r]=c.useState([]),[a,l]=c.useState(!0),[i,o]=c.useState("");c.useEffect(()=>{(async()=>{try{l(!0),o("");const[p,g]=await Promise.all([Gi(),RS()]);n(p),r(g)}catch(p){o(p.message||"Stok verisi alnamad")}finally{l(!1)}})()},[]);const d=c.useMemo(()=>{var k;const m=t.length,p=t.reduce((x,w)=>x+(w.onHand||0),0),g=t.filter(x=>x.onHand-x.reserved<=x.critical).length,h=((k=s[0])==null?void 0:k.date)||"-";return[{id:"stk1",label:"Kalem Says",value:m,icon:"",tone:"primary"},{id:"stk2",label:"Mevcut Stok",value:p,icon:"",tone:"success"},{id:"stk3",label:"Kritik Kalem",value:g,icon:"",tone:"danger"},{id:"stk4",label:"Son Hareket",value:h,icon:"",tone:"secondary"}]},[t,s]);return e.jsxs("div",{children:[e.jsx(it,{title:"Stok",subtitle:"Stok seviyeleri ve hareketlerinin zet grnm"}),a?e.jsx("div",{className:"card subtle-card",children:"Stok verisi ykleniyor..."}):i?e.jsxs("div",{className:"card error-card",children:[e.jsx("div",{className:"error-title",children:"Stok verisi alnamad"}),e.jsx("div",{className:"error-message",children:i})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"stats-grid",children:d.map(m=>e.jsx(na,{icon:m.icon,label:m.label,value:m.value,tone:m.tone},m.id))}),e.jsxs("div",{className:"card",style:{marginTop:24},children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"ne kan Hareketler"})}),e.jsx("div",{className:"card-body",children:s.slice(0,4).map(m=>e.jsxs("div",{className:"metric-row",style:{marginBottom:8},children:[e.jsxs("span",{className:"metric-label",children:[m.date,"  ",m.item]}),e.jsxs("span",{className:`badge badge-${m.change>=0?"success":"danger"}`,children:[m.change>=0?"+":"",m.change]})]},m.id))})]})]})]})},Yr=t=>new Intl.NumberFormat("tr-TR").format(t||0),fI={stockIn:{label:"Stok Girii",icon:"",color:"success"},stockOut:{label:"Stok k",icon:"",color:"danger"},reserve:{label:"Rezervasyon",icon:"",color:"warning"},release:{label:"Rezerv ptal",icon:"",color:"info"},consume:{label:"retime Alnd",icon:"",color:"primary"}},ab=[{value:"sayim",label:"Saym Dzeltme"},{value:"siparis",label:"Sipari Teslimi"},{value:"bayi",label:"Bayi'den Alm"},{value:"iade",label:"ade"},{value:"diger",label:"Dier"}],lb=[{value:"fire",label:"Fire / Kayp"},{value:"sayim",label:"Saym Dzeltme"},{value:"bayi",label:"Bayi'ye Verildi"},{value:"hurda",label:"Hurda"},{value:"diger",label:"Dier"}],Ls={itemId:"",productCode:"",colorCode:"",name:"",qty:1,unit:"boy"},gI=()=>{const[t,n]=c.useState([]),[s,r]=c.useState([]),[a,l]=c.useState(!0),[i,o]=c.useState(""),[d,m]=c.useState(""),[p,g]=c.useState("all"),[h,k]=c.useState(""),[x,w]=c.useState(""),[N,f]=c.useState(""),[v,b]=c.useState(!1),[y,S]=c.useState([{...Ls}]),[j,z]=c.useState("sayim"),[P,$]=c.useState(""),[B,q]=c.useState(""),[C,Z]=c.useState(!1),[A,O]=c.useState([{...Ls}]),[_,fe]=c.useState("fire"),[Q,le]=c.useState(""),[ye,E]=c.useState(""),[D,G]=c.useState(!1);c.useRef([]),c.useEffect(()=>{U()},[]);const U=async()=>{try{l(!0),o("");const[I,ce]=await Promise.all([RS(),Gi()]);n(I),r(ce)}catch(I){o(I.message||"Veriler alnamad")}finally{l(!1)}},H=c.useMemo(()=>s.map(I=>({id:I.id,productCode:I.productCode,colorCode:I.colorCode,name:I.name,colorName:I.colorName,unit:I.unit,available:Math.max(0,(I.onHand||0)-(I.reserved||0)),onHand:I.onHand||0,displayText:`${I.productCode}-${I.colorCode} ${I.name} ${I.colorName||""}`})),[s]),oe=c.useMemo(()=>{let I=[...t];if(d){const ce=d.toLowerCase();I=I.filter(ue=>(ue.item||"").toLowerCase().includes(ce)||(ue.productCode||"").toLowerCase().includes(ce)||(ue.reason||"").toLowerCase().includes(ce))}return p!=="all"&&(I=I.filter(ce=>ce.type===p)),h&&(I=I.filter(ce=>ce.date===h)),I.sort((ce,ue)=>new Date(ue.date)-new Date(ce.date))},[t,d,p,h]),te=c.useMemo(()=>{const I=new Date().toISOString().slice(0,10),ce=t.filter(Re=>Re.date===I),ue=ce.filter(Re=>Re.type==="stockIn").reduce((Re,se)=>Re+Math.abs(se.change||0),0),De=ce.filter(Re=>Re.type==="stockOut"||Re.type==="consume").reduce((Re,se)=>Re+Math.abs(se.change||0),0);return{total:t.length,todayCount:ce.length,todayIn:ue,todayOut:De}},[t]),F=(I,ce)=>{ce&&S(ue=>ue.map((De,Re)=>Re===I?{...De,itemId:ce.id,productCode:ce.productCode,colorCode:ce.colorCode,name:ce.name,unit:ce.unit||"boy"}:De))},J=(I,ce)=>{ce&&O(ue=>ue.map((De,Re)=>Re===I?{...De,itemId:ce.id,productCode:ce.productCode,colorCode:ce.colorCode,name:ce.name,unit:ce.unit||"boy",maxQty:ce.available}:De))},xe=()=>{S(I=>[...I,{...Ls}]),setTimeout(()=>{var ce;const I=document.querySelectorAll("#entry-form .autocomplete-container input");I.length>0&&((ce=I[I.length-1])==null||ce.focus())},100)},ie=()=>{O(I=>[...I,{...Ls}]),setTimeout(()=>{var ce;const I=document.querySelectorAll("#exit-form .autocomplete-container input");I.length>0&&((ce=I[I.length-1])==null||ce.focus())},100)},L=I=>{S(ce=>ce.filter((ue,De)=>De!==I))},ne=I=>{O(ce=>ce.filter((ue,De)=>De!==I))},he=(I,ce)=>{S(ue=>ue.map((De,Re)=>Re===I?{...De,qty:Number(ce)||0}:De))},M=(I,ce)=>{O(ue=>ue.map((De,Re)=>Re===I?{...De,qty:Number(ce)||0}:De))},re=async I=>{var ue;I.preventDefault();const ce=y.filter(De=>De.itemId&&De.qty>0);if(ce.length===0){o("En az bir rn ekleyin");return}try{G(!0),o("");const De=((ue=ab.find(Re=>Re.value===j))==null?void 0:ue.label)||j;for(const Re of ce)await hj({itemId:Re.itemId,qty:Re.qty,type:"stockIn",reason:`${De}${P?` - ${P}`:""}`,operator:B||"Sistem",reference:null});await U(),S([{...Ls}]),z("sayim"),$(""),q(""),b(!1)}catch(De){o(De.message||"Stok girii yaplamad")}finally{G(!1)}},ke=async I=>{var ue;I.preventDefault();const ce=A.filter(De=>De.itemId&&De.qty>0);if(ce.length===0){o("En az bir rn ekleyin");return}try{G(!0),o("");const De=((ue=lb.find(Re=>Re.value===_))==null?void 0:ue.label)||_;for(const Re of ce)await hj({itemId:Re.itemId,qty:Re.qty,type:"stockOut",reason:`${De}${Q?` - ${Q}`:""}`,operator:ye||"Sistem",reference:null});await U(),O([{...Ls}]),fe("fire"),le(""),E(""),Z(!1)}catch(De){o(De.message||"Stok k yaplamad")}finally{G(!1)}},be=(I,ce)=>{I.key==="Enter"&&y[ce].itemId&&y[ce].qty>0&&(I.preventDefault(),xe())},we=(I,ce)=>{I.key==="Enter"&&A[ce].itemId&&A[ce].qty>0&&(I.preventDefault(),ie())},W=()=>{S([{...Ls}]),z("sayim"),$(""),q(""),w(""),o(""),b(!0)},V=()=>{O([{...Ls}]),fe("fire"),le(""),E(""),f(""),o(""),Z(!0)};return e.jsxs("div",{children:[e.jsx(it,{title:"Stok Hareketleri",subtitle:"Stok giri, k ve hareket kaytlar",actions:e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"btn btn-success",type:"button",onClick:W,children:" Stok Girii"}),e.jsx("button",{className:"btn btn-danger",type:"button",onClick:V,children:" Stok k"})]})}),e.jsxs("div",{className:"stats-grid",style:{marginBottom:16},children:[e.jsx("div",{className:"card",style:{padding:16},children:e.jsxs("div",{className:"metric-row",children:[e.jsx("div",{className:"metric-icon",children:""}),e.jsxs("div",{children:[e.jsx("div",{className:"metric-label",children:"Toplam Hareket"}),e.jsx("div",{className:"metric-value",children:Yr(te.total)})]})]})}),e.jsx("div",{className:"card",style:{padding:16},children:e.jsxs("div",{className:"metric-row",children:[e.jsx("div",{className:"metric-icon",children:""}),e.jsxs("div",{children:[e.jsx("div",{className:"metric-label",children:"Bugn"}),e.jsx("div",{className:"metric-value",children:Yr(te.todayCount)})]})]})}),e.jsx("div",{className:"card",style:{padding:16},children:e.jsxs("div",{className:"metric-row",children:[e.jsx("div",{className:"metric-icon",children:""}),e.jsxs("div",{children:[e.jsx("div",{className:"metric-label",children:"Bugn Giri"}),e.jsxs("div",{className:"metric-value",style:{color:"var(--color-success)"},children:["+",Yr(te.todayIn)]})]})]})}),e.jsx("div",{className:"card",style:{padding:16},children:e.jsxs("div",{className:"metric-row",children:[e.jsx("div",{className:"metric-icon",children:""}),e.jsxs("div",{children:[e.jsx("div",{className:"metric-label",children:"Bugn k"}),e.jsxs("div",{className:"metric-value",style:{color:"var(--color-danger)"},children:["-",Yr(te.todayOut)]})]})]})})]}),e.jsxs("div",{className:"filter-bar",style:{marginBottom:16},children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{className:"filter-label",children:"Ara"}),e.jsx("input",{className:"filter-input",type:"search",placeholder:"rn, neden...",value:d,onChange:I=>m(I.target.value)})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{className:"filter-label",children:"Hareket Tipi"}),e.jsxs("select",{className:"filter-input",value:p,onChange:I=>g(I.target.value),children:[e.jsx("option",{value:"all",children:"Tm"}),e.jsx("option",{value:"stockIn",children:"Giri"}),e.jsx("option",{value:"stockOut",children:"k"}),e.jsx("option",{value:"reserve",children:"Rezervasyon"}),e.jsx("option",{value:"consume",children:"retim"})]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{className:"filter-label",children:"Tarih"}),e.jsx(gt,{className:"filter-input",value:h,onChange:I=>k(I)})]})]}),i&&e.jsxs("div",{className:"card error-card",style:{marginBottom:16},children:[e.jsx("div",{className:"error-title",children:"Hata"}),e.jsx("div",{className:"error-message",children:i})]}),a?e.jsx(kt,{text:"Hareketler ykleniyor..."}):e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h3",{className:"card-title",children:"Hareket Gemii"}),e.jsxs("span",{className:"badge badge-secondary",children:[oe.length," kayt"]})]}),e.jsx(sn,{columns:[{label:"Tarih",accessor:"date"},{label:"rn",accessor:"item",render:(I,ce)=>e.jsxs("div",{children:[e.jsx("strong",{children:ce.productCode||"-"}),"-",ce.colorCode||"-",e.jsx("div",{className:"text-muted",style:{fontSize:12},children:ce.item})]})},{label:"Tip",accessor:"type",render:I=>{const ce=fI[I]||{label:I,color:"secondary"};return e.jsxs("span",{className:`badge badge-${ce.color}`,children:[ce.icon," ",ce.label]})}},{label:"Miktar",accessor:"change",render:I=>e.jsxs("strong",{style:{color:I>=0?"var(--color-success)":"var(--color-danger)"},children:[I>=0?"+":"",Yr(I)]})},{label:"Neden",accessor:"reason"},{label:"Operatr",accessor:"operator"},{label:"Referans",accessor:"reference",render:I=>I||"-"}],rows:oe})]}),e.jsx(qe,{open:v,title:" Stok Girii",size:"xxlarge",onClose:()=>b(!1),actions:e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{flex:1,textAlign:"left",fontSize:13,color:"var(--text-muted)"},children:y.filter(I=>I.itemId&&I.qty>0).length>0&&` ${y.filter(I=>I.itemId&&I.qty>0).length} rn seildi`}),e.jsx("button",{className:"btn btn-secondary",type:"button",onClick:()=>b(!1),children:"ptal"}),e.jsx("button",{className:"btn btn-success",type:"submit",form:"entry-form",disabled:D||!y.some(I=>I.itemId&&I.qty>0),children:D?"Kaydediliyor...":" Stok Girii Yap"})]}),children:e.jsxs("form",{id:"entry-form",onSubmit:re,children:[e.jsx("div",{style:{background:"linear-gradient(135deg, #dcfce7 0%, #bbf7d0 100%)",padding:16,borderRadius:12,marginBottom:16},children:e.jsxs("div",{className:"grid grid-3",style:{gap:16},children:[e.jsxs("div",{className:"form-group",style:{margin:0},children:[e.jsx("label",{className:"form-label",style:{fontWeight:600},children:" Giri Tr"}),e.jsx("select",{className:"form-select",value:j,onChange:I=>z(I.target.value),style:{background:"white"},children:ab.map(I=>e.jsx("option",{value:I.value,children:I.label},I.value))})]}),e.jsxs("div",{className:"form-group",style:{margin:0},children:[e.jsx("label",{className:"form-label",style:{fontWeight:600},children:" lemi Yapan"}),e.jsx("input",{className:"form-input",value:B,onChange:I=>q(I.target.value),placeholder:"sim...",style:{background:"white"}})]}),e.jsxs("div",{className:"form-group",style:{margin:0},children:[e.jsx("label",{className:"form-label",style:{fontWeight:600},children:" Not"}),e.jsx("input",{className:"form-input",value:P,onChange:I=>$(I.target.value),placeholder:"Aklama...",style:{background:"white"}})]})]})}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16,minHeight:400},children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[e.jsxs("div",{style:{background:"var(--color-bg-secondary)",padding:12,borderRadius:"12px 12px 0 0",borderBottom:"2px solid var(--color-primary)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:8},children:[e.jsx("span",{style:{fontSize:18},children:""}),e.jsx("span",{style:{fontWeight:600},children:"rn Ara"})]}),e.jsx("input",{id:"entry-search-input",className:"form-input",type:"search",placeholder:"rn kodu veya ad yazn...",value:x,onChange:I=>w(I.target.value),autoFocus:!0,style:{fontSize:15}})]}),e.jsx("div",{style:{flex:1,border:"1px solid var(--color-border)",borderTop:0,borderRadius:"0 0 12px 12px",overflow:"hidden",display:"flex",flexDirection:"column"},children:e.jsxs("div",{style:{flex:1,overflow:"auto",maxHeight:340},children:[H.filter(I=>{if(!x.trim())return!0;const ce=x.toLowerCase();return(I.productCode||"").toLowerCase().includes(ce)||(I.colorCode||"").toLowerCase().includes(ce)||(I.name||"").toLowerCase().includes(ce)||(I.colorName||"").toLowerCase().includes(ce)}).slice(0,50).map(I=>{const ce=y.some(ue=>ue.itemId===I.id);return e.jsx("div",{onClick:()=>{if(!ce){const ue=y.findIndex(De=>!De.itemId);ue>=0?F(ue,I):S(De=>[...De,{...Ls,itemId:I.id,productCode:I.productCode,colorCode:I.colorCode,name:I.name,unit:I.unit||"boy"}])}},style:{padding:"10px 14px",borderBottom:"1px solid var(--color-border)",cursor:ce?"not-allowed":"pointer",background:ce?"var(--color-bg-secondary)":"white",opacity:ce?.5:1,transition:"background 0.15s"},onMouseEnter:ue=>!ce&&(ue.currentTarget.style.background="#f0fdf4"),onMouseLeave:ue=>!ce&&(ue.currentTarget.style.background="white"),children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsxs("div",{style:{fontWeight:600,fontSize:14},children:[e.jsx("span",{style:{color:"var(--color-primary)"},children:I.productCode}),e.jsxs("span",{style:{color:"var(--color-text-secondary)"},children:["-",I.colorCode]})]}),e.jsxs("div",{style:{fontSize:13,color:"var(--color-text-secondary)"},children:[I.name," ",I.colorName&&`(${I.colorName})`]})]}),e.jsxs("div",{style:{textAlign:"right"},children:[e.jsxs("div",{style:{fontSize:13,fontWeight:600},children:[I.onHand," ",I.unit]}),ce&&e.jsx("span",{className:"badge badge-success",style:{fontSize:10},children:" Seildi"})]})]})},I.id)}),H.filter(I=>{if(!x.trim())return!0;const ce=x.toLowerCase();return(I.productCode||"").toLowerCase().includes(ce)||(I.colorCode||"").toLowerCase().includes(ce)||(I.name||"").toLowerCase().includes(ce)}).length===0&&e.jsxs("div",{style:{padding:30,textAlign:"center",color:"var(--color-text-secondary)"},children:[e.jsx("div",{style:{fontSize:32,marginBottom:8},children:""}),e.jsx("div",{children:"rn bulunamad"})]})]})})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[e.jsxs("div",{style:{background:"linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%)",padding:12,borderRadius:"12px 12px 0 0",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[e.jsx("span",{style:{fontSize:18},children:""}),e.jsx("span",{style:{fontWeight:600},children:"Seilen rnler"})]}),e.jsxs("span",{className:"badge badge-primary",children:[y.filter(I=>I.itemId).length," rn"]})]}),e.jsxs("div",{style:{flex:1,border:"1px solid var(--color-border)",borderTop:0,borderRadius:"0 0 12px 12px",overflow:"hidden",display:"flex",flexDirection:"column"},children:[e.jsx("div",{style:{flex:1,overflow:"auto",maxHeight:340},children:y.filter(I=>I.itemId).length===0?e.jsxs("div",{style:{padding:40,textAlign:"center",color:"var(--color-text-secondary)"},children:[e.jsx("div",{style:{fontSize:48,marginBottom:12},children:""}),e.jsx("div",{style:{fontWeight:600,marginBottom:4},children:"Henz rn seilmedi"}),e.jsx("div",{style:{fontSize:13},children:"Soldan rn seerek balayn"})]}):y.map((I,ce)=>I.itemId&&e.jsxs("div",{style:{padding:"12px 14px",borderBottom:"1px solid var(--color-border)",background:"white"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:8},children:[e.jsxs("div",{children:[e.jsxs("div",{style:{fontWeight:600,fontSize:14},children:[e.jsx("span",{style:{color:"var(--color-primary)"},children:I.productCode}),e.jsxs("span",{style:{color:"var(--color-text-secondary)"},children:["-",I.colorCode]})]}),e.jsx("div",{style:{fontSize:13,color:"var(--color-text-secondary)"},children:I.name})]}),e.jsx("button",{type:"button",className:"btn btn-danger btn-small btn-icon",onClick:()=>L(ce),style:{padding:"4px 8px"},title:"Kalemi Kaldr",children:""})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[e.jsx("label",{style:{fontSize:12,fontWeight:600,color:"var(--color-text-secondary)"},children:"Miktar:"}),e.jsx(nr,{className:"form-input",min:1,value:I.qty,onChange:ue=>he(ce,ue),onKeyDown:ue=>be(ue,ce),style:{width:80,padding:"6px 10px"}}),e.jsx("span",{style:{fontSize:12,color:"var(--color-text-secondary)"},children:I.unit})]})]},ce))}),y.filter(I=>I.itemId&&I.qty>0).length>0&&e.jsxs("div",{style:{padding:12,background:"var(--color-bg-secondary)",borderTop:"1px solid var(--color-border)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("span",{style:{fontWeight:600},children:"Toplam Giri:"}),e.jsxs("span",{style:{fontSize:18,fontWeight:700,color:"var(--color-success)"},children:["+",Yr(y.filter(I=>I.itemId).reduce((I,ce)=>I+(ce.qty||0),0))]})]})]})]})]})]})}),e.jsx(qe,{open:C,title:" Stok k",size:"xxlarge",onClose:()=>Z(!1),actions:e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{flex:1,textAlign:"left",fontSize:13,color:"var(--text-muted)"},children:A.filter(I=>I.itemId&&I.qty>0).length>0&&` ${A.filter(I=>I.itemId&&I.qty>0).length} rn kartlacak`}),e.jsx("button",{className:"btn btn-secondary",type:"button",onClick:()=>Z(!1),children:"ptal"}),e.jsx("button",{className:"btn btn-danger",type:"submit",form:"exit-form",disabled:D||!A.some(I=>I.itemId&&I.qty>0),children:D?"Kaydediliyor...":" Stok k Yap"})]}),children:e.jsxs("form",{id:"exit-form",onSubmit:ke,children:[e.jsx("div",{style:{background:"linear-gradient(135deg, #fee2e2 0%, #fecaca 100%)",padding:16,borderRadius:12,marginBottom:16},children:e.jsxs("div",{className:"grid grid-3",style:{gap:16},children:[e.jsxs("div",{className:"form-group",style:{margin:0},children:[e.jsx("label",{className:"form-label",style:{fontWeight:600},children:" k Tr"}),e.jsx("select",{className:"form-select",value:_,onChange:I=>fe(I.target.value),style:{background:"white"},children:lb.map(I=>e.jsx("option",{value:I.value,children:I.label},I.value))})]}),e.jsxs("div",{className:"form-group",style:{margin:0},children:[e.jsx("label",{className:"form-label",style:{fontWeight:600},children:" lemi Yapan"}),e.jsx("input",{className:"form-input",value:ye,onChange:I=>E(I.target.value),placeholder:"sim...",style:{background:"white"}})]}),e.jsxs("div",{className:"form-group",style:{margin:0},children:[e.jsx("label",{className:"form-label",style:{fontWeight:600},children:" Not"}),e.jsx("input",{className:"form-input",value:Q,onChange:I=>le(I.target.value),placeholder:"Aklama...",style:{background:"white"}})]})]})}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16,minHeight:400},children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[e.jsxs("div",{style:{background:"var(--color-bg-secondary)",padding:12,borderRadius:"12px 12px 0 0",borderBottom:"2px solid var(--color-danger)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:8},children:[e.jsx("span",{style:{fontSize:18},children:""}),e.jsx("span",{style:{fontWeight:600},children:"rn Ara"}),e.jsx("span",{className:"text-muted",style:{fontSize:11,marginLeft:"auto"},children:" Sadece stokta olanlar"})]}),e.jsx("input",{id:"exit-search-input",className:"form-input",type:"search",placeholder:"rn kodu veya ad yazn...",value:N,onChange:I=>f(I.target.value),autoFocus:!0,style:{fontSize:15}})]}),e.jsx("div",{style:{flex:1,border:"1px solid var(--color-border)",borderTop:0,borderRadius:"0 0 12px 12px",overflow:"hidden",display:"flex",flexDirection:"column"},children:e.jsxs("div",{style:{flex:1,overflow:"auto",maxHeight:340},children:[H.filter(I=>I.available>0).filter(I=>{if(!N.trim())return!0;const ce=N.toLowerCase();return(I.productCode||"").toLowerCase().includes(ce)||(I.colorCode||"").toLowerCase().includes(ce)||(I.name||"").toLowerCase().includes(ce)||(I.colorName||"").toLowerCase().includes(ce)}).slice(0,50).map(I=>{const ce=A.some(ue=>ue.itemId===I.id);return e.jsx("div",{onClick:()=>{if(!ce){const ue=A.findIndex(De=>!De.itemId);ue>=0?J(ue,I):O(De=>[...De,{...Ls,itemId:I.id,productCode:I.productCode,colorCode:I.colorCode,name:I.name,unit:I.unit||"boy",maxQty:I.available}])}},style:{padding:"10px 14px",borderBottom:"1px solid var(--color-border)",cursor:ce?"not-allowed":"pointer",background:ce?"var(--color-bg-secondary)":"white",opacity:ce?.5:1,transition:"background 0.15s"},onMouseEnter:ue=>!ce&&(ue.currentTarget.style.background="#fef2f2"),onMouseLeave:ue=>!ce&&(ue.currentTarget.style.background="white"),children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsxs("div",{style:{fontWeight:600,fontSize:14},children:[e.jsx("span",{style:{color:"var(--color-primary)"},children:I.productCode}),e.jsxs("span",{style:{color:"var(--color-text-secondary)"},children:["-",I.colorCode]})]}),e.jsxs("div",{style:{fontSize:13,color:"var(--color-text-secondary)"},children:[I.name," ",I.colorName&&`(${I.colorName})`]})]}),e.jsxs("div",{style:{textAlign:"right"},children:[e.jsxs("div",{style:{fontSize:13,fontWeight:600,color:"var(--color-success)"},children:[I.available," ",I.unit]}),ce&&e.jsx("span",{className:"badge badge-danger",style:{fontSize:10},children:" Seildi"})]})]})},I.id)}),H.filter(I=>I.available>0).filter(I=>{if(!N.trim())return!0;const ce=N.toLowerCase();return(I.productCode||"").toLowerCase().includes(ce)||(I.colorCode||"").toLowerCase().includes(ce)||(I.name||"").toLowerCase().includes(ce)}).length===0&&e.jsxs("div",{style:{padding:30,textAlign:"center",color:"var(--color-text-secondary)"},children:[e.jsx("div",{style:{fontSize:32,marginBottom:8},children:""}),e.jsx("div",{children:"Stokta rn bulunamad"})]})]})})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[e.jsxs("div",{style:{background:"linear-gradient(135deg, #fef3c7 0%, #fde68a 100%)",padding:12,borderRadius:"12px 12px 0 0",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[e.jsx("span",{style:{fontSize:18},children:""}),e.jsx("span",{style:{fontWeight:600},children:"k Yaplacaklar"})]}),e.jsxs("span",{className:"badge badge-warning",children:[A.filter(I=>I.itemId).length," rn"]})]}),e.jsxs("div",{style:{flex:1,border:"1px solid var(--color-border)",borderTop:0,borderRadius:"0 0 12px 12px",overflow:"hidden",display:"flex",flexDirection:"column"},children:[e.jsx("div",{style:{flex:1,overflow:"auto",maxHeight:340},children:A.filter(I=>I.itemId).length===0?e.jsxs("div",{style:{padding:40,textAlign:"center",color:"var(--color-text-secondary)"},children:[e.jsx("div",{style:{fontSize:48,marginBottom:12},children:""}),e.jsx("div",{style:{fontWeight:600,marginBottom:4},children:"Henz rn seilmedi"}),e.jsx("div",{style:{fontSize:13},children:"Soldan k yaplacak rnleri sein"})]}):A.map((I,ce)=>I.itemId&&e.jsxs("div",{style:{padding:"12px 14px",borderBottom:"1px solid var(--color-border)",background:I.qty>(I.maxQty||0)?"#fef2f2":"white"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:8},children:[e.jsxs("div",{children:[e.jsxs("div",{style:{fontWeight:600,fontSize:14},children:[e.jsx("span",{style:{color:"var(--color-primary)"},children:I.productCode}),e.jsxs("span",{style:{color:"var(--color-text-secondary)"},children:["-",I.colorCode]})]}),e.jsx("div",{style:{fontSize:13,color:"var(--color-text-secondary)"},children:I.name})]}),e.jsx("button",{type:"button",className:"btn btn-danger btn-small btn-icon",onClick:()=>ne(ce),style:{padding:"4px 8px"},title:"Kalemi Kaldr",children:""})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[e.jsx("label",{style:{fontSize:12,fontWeight:600,color:"var(--color-text-secondary)"},children:"Miktar:"}),e.jsx(nr,{className:"form-input",min:1,max:I.maxQty||999999,value:I.qty,onChange:ue=>M(ce,ue),onKeyDown:ue=>we(ue,ce),style:{width:80,padding:"6px 10px",borderColor:I.qty>(I.maxQty||0)?"var(--color-danger)":void 0}}),e.jsxs("span",{style:{fontSize:12,color:"var(--color-text-secondary)"},children:["/ ",I.maxQty||0," ",I.unit]}),I.qty>(I.maxQty||0)&&e.jsx("span",{style:{fontSize:11,color:"var(--color-danger)"},children:" Stok yetersiz!"})]})]},ce))}),A.filter(I=>I.itemId&&I.qty>0).length>0&&e.jsxs("div",{style:{padding:12,background:"var(--color-bg-secondary)",borderTop:"1px solid var(--color-border)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("span",{style:{fontWeight:600},children:"Toplam k:"}),e.jsxs("span",{style:{fontSize:18,fontWeight:700,color:"var(--color-danger)"},children:["-",Yr(A.filter(I=>I.itemId).reduce((I,ce)=>I+(ce.qty||0),0))]})]})]})]})]})]})})]})},yI=()=>{const[t,n]=c.useState([]),[s,r]=c.useState(!0),[a,l]=c.useState("");c.useEffect(()=>{(async()=>{try{r(!0),l("");const d=await Gi();n(d)}catch(d){l(d.message||"Kritik stoklar alnamad")}finally{r(!1)}})()},[]);const i=c.useMemo(()=>t.filter(o=>o.onHand-o.reserved<=o.critical),[t]);return e.jsxs("div",{children:[e.jsx(it,{title:"Kritik Stok",subtitle:"Kritik seviyenin altndaki kalemler"}),s?e.jsx("div",{className:"card subtle-card",children:"Kritik stoklar ykleniyor..."}):a?e.jsxs("div",{className:"card error-card",children:[e.jsx("div",{className:"error-title",children:"Kritik stoklar alnamad"}),e.jsx("div",{className:"error-message",children:a})]}):e.jsx(sn,{columns:[{label:"Kalem",accessor:"name"},{label:"SKU",accessor:"sku"},{label:"Mevcut",accessor:"onHand"},{label:"Rezerve",accessor:"reserved"},{label:"Kritik Limit",accessor:"critical"},{label:"Tedariki",accessor:"supplier"}],rows:i})]})},ib={productCode:"",colorCode:"",name:"",colorName:"",unit:"boy",supplierId:"",supplierName:"",critical:0,unitCost:0,notes:""},ql=t=>{const n=Math.max(0,(t.onHand||0)-(t.reserved||0)),s=t.critical||0;return n<=0?{label:"Tkendi",tone:"danger"}:n<=s?{label:"Kritik",tone:"danger"}:n<=s*1.5?{label:"Dk",tone:"warning"}:{label:"Salkl",tone:"success"}},vr=t=>new Intl.NumberFormat("tr-TR").format(t||0),xI=t=>new Intl.NumberFormat("tr-TR",{style:"currency",currency:"TRY",maximumFractionDigits:0}).format(t||0),vI=()=>{const[t,n]=c.useState([]),[s,r]=c.useState([]),[a,l]=c.useState([]),[i,o]=c.useState(""),[d,m]=c.useState(""),[p,g]=c.useState(""),[h,k]=c.useState("all"),[x,w]=c.useState("all"),[N,f]=c.useState(!1),[v,b]=c.useState("name"),[y,S]=c.useState("asc"),[j,z]=c.useState(!0),[P,$]=c.useState(""),[B,q]=c.useState(!1),[C,Z]=c.useState(null),[A,O]=c.useState(ib),[_,fe]=c.useState({}),[Q,le]=c.useState(!1),[ye,E]=c.useState(null);c.useEffect(()=>{D()},[]);const D=async()=>{try{z(!0),$("");const[M,re,ke]=await Promise.all([Gi(),AS().catch(()=>[]),Gs().catch(()=>[])]);n(M),r(re),l(ke)}catch(M){$(M.message||"Stok listesi alnamad")}finally{z(!1)}},G=c.useMemo(()=>a.map(M=>({id:M.id,name:M.name,displayName:`${M.name} (${M.type==="dealer"?"Bayi":"retici"})`})),[a]),U=c.useMemo(()=>{const M=new Map;return s.forEach(re=>{M.set(re.code||re.id,{code:re.code||re.id,name:re.name})}),t.forEach(re=>{re.colorCode&&!M.has(re.colorCode)&&M.set(re.colorCode,{code:re.colorCode,name:re.colorName||re.colorCode})}),Array.from(M.values())},[s,t]),H=c.useMemo(()=>{const M=i.trim().toLowerCase(),re=d.trim().toLowerCase(),ke=p.trim().toLowerCase();let be=[...t];return M&&(be=be.filter(we=>(we.name||"").toLowerCase().includes(M)||(we.supplierName||"").toLowerCase().includes(M))),re&&(be=be.filter(we=>(we.productCode||"").toLowerCase().includes(re))),ke&&(be=be.filter(we=>(we.colorCode||"").toLowerCase().includes(ke))),h!=="all"&&(be=be.filter(we=>we.supplierId===h)),x!=="all"&&(be=be.filter(we=>ql(we).label===x)),N&&(be=be.filter(we=>ql(we).tone!=="success")),be.sort((we,W)=>{const V=v==="available"?(we.onHand||0)-(we.reserved||0):we[v],I=v==="available"?(W.onHand||0)-(W.reserved||0):W[v];return typeof V=="string"?y==="asc"?(V||"").localeCompare(I||""):(I||"").localeCompare(V||""):y==="asc"?(V||0)-(I||0):(I||0)-(V||0)}),be.map(we=>({...we,available:Math.max(0,(we.onHand||0)-(we.reserved||0)),stockValue:(we.unitCost||0)*(we.onHand||0)}))},[t,i,d,p,h,x,v,y,N]),oe=c.useMemo(()=>{const M=t.length,re=t.reduce((W,V)=>W+(V.onHand||0),0),ke=t.reduce((W,V)=>W+Math.max(0,(V.onHand||0)-(V.reserved||0)),0),be=t.filter(W=>ql(W).tone!=="success").length,we=t.reduce((W,V)=>W+(V.unitCost||0)*(V.onHand||0),0);return[{id:"sum1",label:"rn eidi",value:vr(M),icon:""},{id:"sum2",label:"Mevcut Stok",value:vr(re),icon:""},{id:"sum3",label:"Kullanlabilir",value:vr(ke),icon:""},{id:"sum4",label:"Dikkat Gereken",value:vr(be),icon:""},{id:"sum5",label:"Tahmini Deer",value:xI(we),icon:""}]},[t]),te=()=>{Z(null),O(ib),fe({}),q(!0)},F=M=>{Z(M),O({productCode:M.productCode||"",colorCode:M.colorCode||"",name:M.name||"",colorName:M.colorName||"",unit:M.unit||"boy",supplierId:M.supplierId||"",supplierName:M.supplierName||"",critical:M.critical||0,unitCost:M.unitCost||0,notes:M.notes||""}),fe({}),q(!0)},J=()=>{const M={};return A.productCode.trim()||(M.productCode="rn kodu gerekli"),A.colorCode.trim()||(M.colorCode="Renk kodu gerekli"),A.name.trim()||(M.name="rn ad gerekli"),A.unit.trim()||(M.unit="Birim gerekli"),!A.supplierId&&!A.supplierName.trim()&&(M.supplierName="Tedariki gerekli"),Number(A.critical)<0&&(M.critical="0 veya zeri olmal"),Number(A.unitCost)<0&&(M.unitCost="0 veya zeri olmal"),fe(M),Object.keys(M).length===0},xe=async M=>{if(M.preventDefault(),!J())return;const re={productCode:A.productCode.trim(),colorCode:A.colorCode.trim(),name:A.name.trim(),colorName:A.colorName.trim()||A.colorCode.trim(),unit:A.unit,supplierId:A.supplierId||`SUP-TEMP-${Date.now()}`,supplierName:A.supplierName.trim(),critical:Number(A.critical)||0,unitCost:Number(A.unitCost)||0,notes:A.notes||""};try{if(le(!0),$(""),C){const ke=await M6(C.id,re);n(be=>be.map(we=>we.id===C.id?ke:we))}else{const ke=await I6(re);n(be=>[ke,...be])}q(!1),Z(null)}catch(ke){const be=ke.message||"Kayt yaplamad";be.includes("validation error")||be.includes("field required")?$("Eksik veya hatal alan var. Ltfen tm zorunlu alanlar doldurun."):$(be)}finally{le(!1)}},ie=async()=>{if(ye)try{le(!0),await P6(ye.id),n(M=>M.filter(re=>re.id!==ye.id)),E(null)}catch(M){$(M.message||"Silinemedi")}finally{le(!1)}},L=()=>{const M=["rn Kodu","Renk Kodu","rn Ad","Tedariki","Mevcut","Rezerve","Kullanlabilir","Kritik","Birim","Birim Maliyet","Durum"],re=t.map(V=>{const I=ql(V).label,ce=Math.max(0,(V.onHand||0)-(V.reserved||0));return[V.productCode,V.colorCode,V.name,V.supplierName,V.onHand,V.reserved,ce,V.critical,V.unit,V.unitCost,I].map(ue=>`"${String(ue??"").replace(/"/g,'""')}"`).join(",")}),ke=[M.join(","),...re].join(`
`),be=new Blob([ke],{type:"text/csv;charset=utf-8;"}),we=URL.createObjectURL(be),W=document.createElement("a");W.href=we,W.download="stok-listesi.csv",W.click(),URL.revokeObjectURL(we)},ne=M=>{M&&O(re=>({...re,colorCode:M.code||M,colorName:M.name||M}))},he=M=>{M&&O(re=>({...re,supplierId:M.id||"",supplierName:M.name||M}))};return e.jsxs("div",{children:[e.jsx(it,{title:"Stok Listesi",subtitle:"rn tanmlama ve stok durumu takibi",actions:e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"btn btn-secondary",type:"button",onClick:L,children:" CSV Da Aktar"}),e.jsx("button",{className:"btn btn-primary",type:"button",onClick:te,children:" Yeni rn"})]})}),e.jsx("div",{className:"stats-grid",style:{marginBottom:16},children:oe.map(M=>e.jsx("div",{className:"card",style:{padding:16},children:e.jsxs("div",{className:"metric-row",style:{alignItems:"center"},children:[e.jsx("div",{className:"metric-icon","aria-hidden":"true",children:M.icon}),e.jsxs("div",{style:{flex:1},children:[e.jsx("div",{className:"metric-label",children:M.label}),e.jsx("div",{className:"metric-value",children:M.value})]})]})},M.id))}),e.jsxs("div",{className:"filter-bar",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{className:"filter-label",children:"rn Ara"}),e.jsx("input",{className:"filter-input",type:"search",placeholder:"rn ad, tedariki...",value:i,onChange:M=>o(M.target.value)})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{className:"filter-label",children:"rn Kodu"}),e.jsx("input",{className:"filter-input",type:"search",placeholder:"Kod ara...",value:d,onChange:M=>m(M.target.value)})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{className:"filter-label",children:"Renk Kodu"}),e.jsx("input",{className:"filter-input",type:"search",placeholder:"Renk ara...",value:p,onChange:M=>g(M.target.value)})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{className:"filter-label",children:"Tedariki"}),e.jsxs("select",{className:"filter-input",value:h,onChange:M=>k(M.target.value),children:[e.jsx("option",{value:"all",children:"Tm"}),a.map(M=>e.jsx("option",{value:M.id,children:M.name},M.id))]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{className:"filter-label",children:"Durum"}),e.jsxs("select",{className:"filter-input",value:x,onChange:M=>w(M.target.value),children:[e.jsx("option",{value:"all",children:"Tm"}),e.jsx("option",{value:"Kritik",children:"Kritik"}),e.jsx("option",{value:"Dk",children:"Dk"}),e.jsx("option",{value:"Salkl",children:"Salkl"}),e.jsx("option",{value:"Tkendi",children:"Tkendi"})]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{className:"filter-label",children:"Srala"}),e.jsxs("select",{className:"filter-input",value:`${v}-${y}`,onChange:M=>{const[re,ke]=M.target.value.split("-");b(re),S(ke)},children:[e.jsx("option",{value:"name-asc",children:"rn Ad (AZ)"}),e.jsx("option",{value:"name-desc",children:"rn Ad (ZA)"}),e.jsx("option",{value:"productCode-asc",children:"rn Kodu (AZ)"}),e.jsx("option",{value:"available-desc",children:"Stok (yksek  dk)"}),e.jsx("option",{value:"available-asc",children:"Stok (dk  yksek)"})]})]}),e.jsx("div",{className:"filter-group",style:{alignSelf:"flex-end"},children:e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,cursor:"pointer"},children:[e.jsx("input",{type:"checkbox",checked:N,onChange:M=>f(M.target.checked)}),e.jsx("span",{className:"text-muted",children:"Sadece dikkat gereken"})]})})]}),P&&e.jsxs("div",{className:"card error-card",style:{marginTop:16,marginBottom:16},children:[e.jsx("div",{className:"error-title",children:"Hata"}),e.jsx("div",{className:"error-message",children:P})]}),j?e.jsx(kt,{text:"Stok listesi ykleniyor..."}):e.jsxs("div",{className:"card",style:{marginTop:16},children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h3",{className:"card-title",children:"rnler"}),e.jsxs("span",{className:"badge badge-secondary",children:[H.length," kayt"]})]}),e.jsx(sn,{columns:[{label:"rn",accessor:"name",render:(M,re)=>e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:600},children:re.name}),e.jsxs("div",{className:"text-muted",style:{fontSize:12},children:["Kod: ",re.productCode,"  Renk: ",re.colorCode]})]})},{label:"Tedariki",accessor:"supplierName",render:M=>M||"-"},{label:"Stok Durumu",accessor:"onHand",render:(M,re)=>e.jsxs("div",{children:[e.jsx("strong",{children:vr(re.onHand||0)})," ",re.unit,e.jsxs("div",{className:"text-muted",style:{fontSize:11},children:["Rezerve: ",vr(re.reserved||0),"  Kullanlabilir: ",e.jsx("strong",{children:vr(re.available)})]})]})},{label:"Kritik",accessor:"critical",render:M=>vr(M||0)},{label:"Durum",accessor:"status",render:(M,re)=>{const ke=ql(re);return e.jsx("span",{className:`badge badge-${ke.tone}`,children:ke.label})}},{label:"Aksiyon",accessor:"actions",render:(M,re)=>e.jsxs("div",{style:{display:"flex",gap:8},children:[e.jsx("button",{className:"btn btn-secondary btn-icon",type:"button",onClick:()=>F(re),title:"Dzenle",children:""}),e.jsx("button",{className:"btn btn-danger btn-icon",type:"button",onClick:()=>E(re),title:"Sil",children:""})]})}],rows:H})]}),e.jsx(qe,{open:B,title:C?"rn Dzenle":"Yeni rn Tanmla",size:"large",onClose:()=>q(!1),actions:e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"btn btn-secondary",type:"button",onClick:()=>q(!1),children:"ptal"}),e.jsx("button",{className:"btn btn-primary",type:"submit",form:"stock-form",disabled:Q,children:Q?"Kaydediliyor...":"Kaydet"})]}),children:e.jsx("form",{id:"stock-form",onSubmit:xe,children:e.jsxs("div",{className:"grid grid-2",style:{gap:16},children:[e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:["rn Kodu ",e.jsx("span",{style:{color:"var(--color-danger)"},children:"*"})]}),e.jsx("input",{className:`form-input ${_.productCode?"input-error":""}`,value:A.productCode,onChange:M=>O(re=>({...re,productCode:M.target.value})),placeholder:"rn: 18300",autoFocus:!0}),_.productCode&&e.jsx("div",{className:"form-error",children:_.productCode})]}),e.jsx(ua,{label:"Renk Kodu",required:!0,value:A.colorCode,onChange:M=>O(re=>({...re,colorCode:M})),onSelect:ne,options:U,displayKey:"name",valueKey:"code",placeholder:"Renk kodu yazn...",renderOption:M=>e.jsxs("div",{className:"autocomplete-option-content",children:[e.jsx("span",{className:"autocomplete-option-value",children:M.code}),e.jsx("span",{className:"autocomplete-option-label",children:M.name})]}),error:_.colorCode}),e.jsxs("div",{className:"form-group",style:{gridColumn:"1 / -1"},children:[e.jsxs("label",{className:"form-label",children:["rn Ad ",e.jsx("span",{style:{color:"var(--color-danger)"},children:"*"})]}),e.jsx("input",{className:`form-input ${_.name?"input-error":""}`,value:A.name,onChange:M=>O(re=>({...re,name:M.target.value})),placeholder:"rn: Carisma Kasa"}),_.name&&e.jsx("div",{className:"form-error",children:_.name})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:["Birim ",e.jsx("span",{style:{color:"var(--color-danger)"},children:"*"})]}),e.jsxs("select",{className:"form-select",value:A.unit,onChange:M=>O(re=>({...re,unit:M.target.value})),children:[e.jsx("option",{value:"boy",children:"Boy (metre)"}),e.jsx("option",{value:"adet",children:"Adet"}),e.jsx("option",{value:"m2",children:"m (metrekare)"}),e.jsx("option",{value:"kg",children:"Kg"}),e.jsx("option",{value:"paket",children:"Paket"})]})]}),e.jsx(ua,{label:"Tedariki",required:!0,value:A.supplierName,onChange:M=>O(re=>({...re,supplierName:M,supplierId:""})),onSelect:he,options:G,displayKey:"name",valueKey:"id",placeholder:"Tedariki ad yazn...",allowCreate:!0,createLabel:"Yeni tedariki ekle",onCreate:M=>{O(re=>({...re,supplierName:M,supplierId:""}))},renderOption:M=>e.jsx("div",{className:"autocomplete-option-content",children:e.jsx("span",{className:"autocomplete-option-label",children:M.displayName||M.name})}),error:_.supplierName}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Kritik Stok Seviyesi"}),e.jsx("input",{className:`form-input ${_.critical?"input-error":""}`,type:"number",min:"0",value:A.critical,onChange:M=>O(re=>({...re,critical:M.target.value})),placeholder:"0"}),e.jsx("div",{className:"text-muted",style:{fontSize:11,marginTop:4},children:"Bu seviyenin altna dnce uyar verilir"}),_.critical&&e.jsx("div",{className:"form-error",children:_.critical})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Birim Maliyet ()"}),e.jsx("input",{className:`form-input ${_.unitCost?"input-error":""}`,type:"number",min:"0",step:"0.01",value:A.unitCost,onChange:M=>O(re=>({...re,unitCost:M.target.value})),placeholder:"0"}),_.unitCost&&e.jsx("div",{className:"form-error",children:_.unitCost})]}),e.jsxs("div",{className:"form-group",style:{gridColumn:"1 / -1"},children:[e.jsx("label",{className:"form-label",children:"Not (Opsiyonel)"}),e.jsx("textarea",{className:"form-textarea",value:A.notes,onChange:M=>O(re=>({...re,notes:M.target.value})),placeholder:"Ek bilgiler...",rows:2})]})]})})}),e.jsxs(qe,{open:!!ye,title:"Silme Onay",size:"small",onClose:()=>E(null),actions:e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"btn btn-secondary",type:"button",onClick:()=>E(null),children:"Vazge"}),e.jsx("button",{className:"btn btn-danger",type:"button",onClick:ie,disabled:Q,children:"Sil"})]}),children:[e.jsxs("p",{children:[e.jsx("strong",{children:ye==null?void 0:ye.name})," (",ye==null?void 0:ye.productCode,"-",ye==null?void 0:ye.colorCode,") rnn silmek istediinize emin misiniz?"]}),e.jsx("p",{className:"text-muted",style:{marginTop:8},children:"Bu ilem geri alnamaz."})]})]})},jI=()=>{const[t,n]=c.useState([]),[s,r]=c.useState(!0),[a,l]=c.useState("");return c.useEffect(()=>{(async()=>{try{r(!0),l("");const o=await L6();n(o)}catch(o){l(o.message||"Rezervasyonlar alnamad")}finally{r(!1)}})()},[]),e.jsxs("div",{children:[e.jsx(it,{title:"Rezervasyonlar",subtitle:"lere ayrlm stok kalemleri"}),s?e.jsx("div",{className:"card subtle-card",children:"Rezervasyonlar ykleniyor..."}):a?e.jsxs("div",{className:"card error-card",children:[e.jsx("div",{className:"error-title",children:"Rezervasyonlar alnamad"}),e.jsx("div",{className:"error-message",children:a})]}):e.jsx(sn,{columns:[{label:" Kodu",accessor:"job"},{label:"Kalem",accessor:"item"},{label:"Miktar",accessor:"qty"},{label:"Termin",accessor:"dueDate"},{label:"Durum",accessor:"status"}],rows:t})]})},bI=()=>{const[t,n]=c.useState([]),[s,r]=c.useState(!0),[a,l]=c.useState(""),[i,o]=c.useState(!1),[d,m]=c.useState({name:"",code:""}),[p,g]=c.useState({}),[h,k]=c.useState(!1),[x,w]=c.useState(null);c.useEffect(()=>{(async()=>{try{r(!0);const S=await AS();n(S)}catch(S){l(S.message||"Renkler yklenemedi")}finally{r(!1)}})()},[]);const N=c.useMemo(()=>[{accessor:"name",label:"Renk Ad"},{accessor:"code",label:"Renk Kodu"},{accessor:"actions",label:"lem",render:(y,S)=>e.jsx("button",{className:"btn btn-danger btn-small",type:"button",onClick:j=>{j.stopPropagation(),w(S)},children:"Sil"})}],[]),f=()=>{const y={};return d.name.trim()||(y.name="Renk ad gerekli"),d.code.trim()||(y.code="Renk kodu gerekli"),g(y),Object.keys(y).length===0},v=async y=>{if(y.preventDefault(),!!f())try{k(!0);const S=await $6({name:d.name.trim(),code:d.code.trim().toUpperCase()});n(j=>[S,...j]),o(!1),m({name:"",code:""})}catch(S){g({submit:S.message||"Renk eklenemedi"})}finally{k(!1)}},b=async()=>{if(x)try{k(!0),await _6(x.id),n(y=>y.filter(S=>S.id!==x.id)),w(null)}catch(y){l(y.message||"Silinemedi")}finally{k(!1)}};return e.jsxs("div",{className:"container",children:[e.jsx(it,{title:"Renk Ynetimi",subtitle:"Stok kalemlerinde kullanlacak renkleri tanmlayn",actions:e.jsx("button",{className:"btn btn-primary",type:"button",onClick:()=>{m({name:"",code:""}),g({}),o(!0)},children:"+ Yeni Renk"})}),a&&e.jsxs("div",{className:"card error-card",children:[e.jsx("div",{className:"error-title",children:"Hata"}),e.jsx("div",{className:"error-message",children:a})]}),e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-body",children:s?e.jsx(kt,{text:"Renkler ykleniyor..."}):e.jsx(sn,{columns:N,rows:t})})}),e.jsx(qe,{open:i,title:"Yeni Renk Ekle",onClose:()=>o(!1),size:"small",actions:e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"btn btn-secondary",type:"button",onClick:()=>o(!1),children:"ptal"}),e.jsx("button",{className:"btn btn-primary",type:"submit",form:"color-form",disabled:h,children:h?"Kaydediliyor...":"Kaydet"})]}),children:e.jsxs("form",{id:"color-form",onSubmit:v,children:[p.submit&&e.jsx("div",{className:"error-text",style:{marginBottom:12},children:p.submit}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",htmlFor:"color-name",children:"Renk Ad"}),e.jsx("input",{id:"color-name",className:`form-input ${p.name?"input-error":""}`,type:"text",placeholder:"rn: Beyaz, Antrasit, Krem",value:d.name,onChange:y=>m(S=>({...S,name:y.target.value}))}),p.name&&e.jsx("span",{className:"error-text",children:p.name})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",htmlFor:"color-code",children:"Renk Kodu"}),e.jsx("input",{id:"color-code",className:`form-input ${p.code?"input-error":""}`,type:"text",placeholder:"rn: BYZ, ANT, KRM",value:d.code,onChange:y=>m(S=>({...S,code:y.target.value.toUpperCase()}))}),p.code&&e.jsx("span",{className:"error-text",children:p.code})]})]})}),e.jsx(qe,{open:!!x,title:"Silme Onay",onClose:()=>w(null),size:"small",actions:e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"btn btn-secondary",type:"button",onClick:()=>w(null),children:"ptal"}),e.jsx("button",{className:"btn btn-danger",type:"button",onClick:b,disabled:h,children:"Sil"})]}),children:e.jsxs("p",{children:[e.jsx("strong",{children:x==null?void 0:x.name})," (",x==null?void 0:x.code,") rengini silmek istediinize emin misiniz?"]})})]})},ob={internal:{label:" retim",color:"var(--success)",icon:""},external:{label:"D Sipari",color:"var(--warning)",icon:""},glass:{label:"Cam Siparii",color:"var(--info)",icon:""}},cb={pending:{label:"Bekliyor",color:"var(--warning)"},partial:{label:"Ksmi Teslim",color:"var(--info)"},completed:{label:"Tamamland",color:"var(--success)"}},Bo={broken:{label:"Krk/Hasarl",icon:""},missing:{label:"Eksik",icon:""},wrong:{label:"Yanl rn",icon:""},other:{label:"Dier",icon:""}},db=[{value:"replaced",label:"Deiim yapld"},{value:"refunded",label:"ade alnd"},{value:"credited",label:"Alacak yazld"},{value:"cancelled",label:"ptal edildi"}],Yl=({orderType:t=null,showIssues:n=!1})=>{var K,je,Ae;const s=vs(),[r,a]=c.useState(!0),[l,i]=c.useState([]),[o,d]=c.useState({}),[m,p]=c.useState([]),[g,h]=c.useState([]),[k,x]=c.useState([]),[w,N]=c.useState([]),[f,v]=c.useState([]),[b,y]=c.useState([]),[S,j]=c.useState(""),[z,P]=c.useState(""),[$,B]=c.useState(""),[q,C]=c.useState(!1),[Z,A]=c.useState(!1),[O,_]=c.useState(!1),[fe,Q]=c.useState(!1),[le,ye]=c.useState(null),[E,D]=c.useState(null),[G,U]=c.useState(!1),[H,oe]=c.useState({jobId:"",roleId:"",roleName:"",orderType:"internal",supplierId:"",supplierName:"",items:[{glassType:"",glassName:"",quantity:1,unit:"adet",combination:"",notes:""}],estimatedDelivery:"",notes:""}),[te,F]=c.useState({deliveries:[],deliveryDate:new Date().toISOString().slice(0,10),deliveryNote:""}),[J,xe]=c.useState({resolution:"replaced",resolvedQty:0,note:"",newIssueQty:0,newIssueType:"",newIssueNote:""});c.useEffect(()=>{ie()},[t,n]);const ie=async()=>{a(!0);const X={};t&&(X.orderType=t),q&&(X.overdue=!0);let pe=[],Pe={},Be={},Ye=[],dt=[],Ke=[],ot=[],Dt=[];try{pe=await BS(X)}catch(bt){console.warn("Orders error:",bt)}try{Pe=await f4()}catch(bt){console.warn("Summary error:",bt)}try{Be=await g4()}catch(bt){console.warn("Alerts error:",bt)}try{Ye=await ja()}catch(bt){console.warn("Jobs error:",bt)}try{dt=await ba(!0)}catch(bt){console.warn("Roles error:",bt)}try{Ke=await Gs()}catch(bt){console.warn("Suppliers error:",bt)}try{ot=await Yh()}catch(bt){console.warn("Glass error:",bt)}try{Dt=await $S()}catch(bt){console.warn("Combinations error:",bt)}i(pe||[]),d(Pe||{}),p(Be||{}),h(Ye||[]),x(dt||[]),N(Ke||[]),v(ot||[]),y(Dt||[]),a(!1)},L=c.useMemo(()=>{let X=[...l];if(S&&(X=X.filter(pe=>pe.status===S)),z&&(X=X.filter(pe=>pe.supplierId===z)),$){const pe=$.toLowerCase();X=X.filter(Pe=>{var Be,Ye,dt,Ke;return((Be=Pe.jobTitle)==null?void 0:Be.toLowerCase().includes(pe))||((Ye=Pe.customerName)==null?void 0:Ye.toLowerCase().includes(pe))||((dt=Pe.roleName)==null?void 0:dt.toLowerCase().includes(pe))||((Ke=Pe.supplierName)==null?void 0:Ke.toLowerCase().includes(pe))})}return q&&(X=X.filter(pe=>pe.isOverdue)),n&&(X=X.filter(pe=>{var Pe;return(Pe=pe.issues)==null?void 0:Pe.some(Be=>Be.status==="pending")})),X},[l,S,z,$,q,n]),ne=c.useMemo(()=>n?"Sorun Takip":t==="internal"?" retim Emirleri":t==="external"?"D retim Emirleri":t==="glass"?"Cam Emirleri":"Tm retim Emirleri",[t,n]),he=c.useMemo(()=>{const X=l.filter(Ye=>Ye.status==="pending").length,pe=l.filter(Ye=>Ye.status==="partial").length,Pe=l.filter(Ye=>Ye.status==="completed").length,Be=l.filter(Ye=>Ye.isOverdue).length;return{pending:X,partial:pe,completed:Pe,overdue:Be}},[l]),M=c.useMemo(()=>!m||!Array.isArray(m)?[]:t?m.filter(X=>{const pe=l.find(Pe=>Pe.id===X.orderId);return(pe==null?void 0:pe.orderType)===t}):m,[m,l,t]),re=X=>{if(!X)return"";try{return new Date(X).toLocaleDateString("tr-TR")}catch{return X}},ke=X=>{X&&oe(pe=>({...pe,jobId:X.id}))},be=X=>{const pe=k.find(dt=>dt.id===X);if(!pe)return;let Pe=pe.productionType||"internal",Be="",Ye="";if(pe.productionType==="external"&&pe.defaultSupplier){const dt=w.find(Ke=>Ke.id===pe.defaultSupplier);dt&&(Be=dt.id,Ye=dt.name)}oe(dt=>({...dt,roleId:pe.id,roleName:pe.name,orderType:Pe,supplierId:Be,supplierName:Ye,estimatedDelivery:dt.estimatedDelivery||we(pe.estimatedDays)}))},we=X=>{const pe=new Date;return pe.setDate(pe.getDate()+(X||5)),pe.toISOString().slice(0,10)},W=()=>{oe(X=>({...X,items:[...X.items,{glassType:"",glassName:"",quantity:1,unit:"adet",combination:"",notes:""}]}))},V=(X,pe,Pe)=>{oe(Be=>{const Ye=[...Be.items];return Ye[X]={...Ye[X],[pe]:Pe},{...Be,items:Ye}})},I=X=>{oe(pe=>({...pe,items:pe.items.filter((Pe,Be)=>Be!==X)}))},ce=async()=>{if(!H.jobId||!H.roleId){alert(" ve i kolu seimi gerekli");return}if(H.items.length===0||H.items.every(X=>!X.quantity)){alert("En az bir kalem eklemelisiniz");return}try{U(!0),await ip(H),await ie(),A(!1)}catch(X){alert(X.message)}finally{U(!1)}},ue=X=>{ye(X),F({deliveries:X.items.map((pe,Pe)=>({lineIndex:Pe,receivedQty:0,problemQty:0,problemType:"",problemNote:""})),deliveryDate:new Date().toISOString().slice(0,10),deliveryNote:""}),_(!0)},De=(X,pe,Pe)=>{F(Be=>{const Ye=[...Be.deliveries];return Ye[X]={...Ye[X],[pe]:Pe},{...Be,deliveries:Ye}})},Re=()=>{le&&F(X=>({...X,deliveries:X.deliveries.map((pe,Pe)=>{var Be,Ye;return{...pe,receivedQty:Math.max(0,(((Be=le.items[Pe])==null?void 0:Be.quantity)||0)-(((Ye=le.items[Pe])==null?void 0:Ye.receivedQty)||0))}})}))},se=async()=>{if(!le)return;if(!te.deliveries.some(pe=>pe.receivedQty>0||pe.problemQty>0)){alert("En az bir teslim miktar girin");return}try{U(!0),await OS(le.id,te),await ie(),_(!1)}catch(pe){alert(pe.message)}finally{U(!1)}},Se=(X,pe)=>{ye(X),D(pe),xe({resolution:"replaced",resolvedQty:pe.quantity||0,note:"",newIssueQty:0,newIssueType:"",newIssueNote:""}),Q(!0)},_e=async()=>{if(!(!le||!E))try{U(!0),await h4(le.id,E.id,{issueId:E.id,...J}),await ie(),Q(!1)}catch(X){alert(X.message)}finally{U(!1)}},Qe=async X=>{if(confirm("Bu siparii silmek istediinize emin misiniz?"))try{U(!0),await p4(X),await ie()}catch(pe){alert(pe.message)}finally{U(!1)}},Ue=[{header:"Sipari",accessor:"id",render:(X,pe)=>e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:600,fontSize:"0.8rem"},children:pe.id}),e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)"},children:re(pe.createdAt)})]})},{header:"",accessor:"jobTitle",render:(X,pe)=>e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:600},children:pe.jobTitle}),e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)"},children:pe.customerName})]})},{header:"Tr /  Kolu",accessor:"orderType",render:(X,pe)=>{const Pe=ob[pe.orderType]||{};return e.jsxs("div",{children:[e.jsxs("span",{className:"badge",style:{background:Pe.color,color:"#fff",marginBottom:"0.25rem"},children:[Pe.icon," ",Pe.label]}),e.jsx("div",{style:{fontSize:"0.75rem"},children:pe.roleName})]})}},{header:"Tedariki",accessor:"supplierName",render:X=>X||e.jsx("span",{style:{color:"var(--text-muted)"},children:""})},{header:"Kalemler",accessor:"items",render:X=>{const pe=(X==null?void 0:X.reduce((Be,Ye)=>Be+(Ye.quantity||0),0))||0,Pe=(X==null?void 0:X.reduce((Be,Ye)=>Be+(Ye.receivedQty||0),0))||0;return e.jsxs("div",{children:[e.jsxs("div",{style:{fontWeight:600},children:[Pe," / ",pe," adet"]}),e.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)"},children:[(X==null?void 0:X.length)||0," kalem"]})]})}},{header:"Tahmini Teslim",accessor:"estimatedDelivery",render:(X,pe)=>e.jsxs("div",{children:[e.jsx("div",{style:{color:pe.isOverdue?"var(--danger)":"inherit"},children:re(X)}),pe.isOverdue&&e.jsx("span",{className:"badge badge-danger",style:{fontSize:"0.65rem"},children:"GECKT"})]})},{header:"Durum",accessor:"status",render:(X,pe)=>{var Ye;const Pe=cb[X]||{},Be=((Ye=pe.issues)==null?void 0:Ye.filter(dt=>dt.status==="pending").length)||0;return e.jsxs("div",{children:[e.jsx("span",{className:"badge",style:{background:Pe.color,color:"#fff"},children:Pe.label}),Be>0&&e.jsx("div",{style:{marginTop:"0.25rem"},children:e.jsxs("span",{className:"badge badge-danger",style:{fontSize:"0.65rem"},children:[" ",Be," sorun"]})})]})}},{header:"lem",accessor:"actions",render:(X,pe)=>{var Pe;return e.jsxs("div",{style:{display:"flex",gap:"0.25rem",flexWrap:"wrap"},children:[pe.status!=="completed"&&e.jsx("button",{className:"btn btn-sm btn-primary",onClick:()=>ue(pe),title:"Teslim Kaydet",children:""}),((Pe=pe.issues)==null?void 0:Pe.some(Be=>Be.status==="pending"))&&e.jsx("button",{className:"btn btn-sm btn-warning",onClick:()=>{const Be=pe.issues.find(Ye=>Ye.status==="pending");Be&&Se(pe,Be)},title:"Sorun z",children:""}),pe.status==="pending"&&e.jsx("button",{className:"btn btn-sm btn-ghost",onClick:()=>Qe(pe.id),title:"Sil",style:{color:"var(--danger)"},children:""}),e.jsx("button",{className:"btn btn-sm btn-ghost",onClick:()=>s(`/isler/list?job=${pe.jobId}&stage=4`),title:"e Git",children:""})]})}}];return r?e.jsxs("div",{children:[e.jsx(it,{title:ne,subtitle:"retim ve tedarik siparileri"}),e.jsx("div",{className:"card subtle-card",children:"Ykleniyor..."})]}):e.jsxs("div",{children:[e.jsx(it,{title:ne,subtitle:`${L.length} sipari listeleniyor`}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(180px, 1fr))",gap:"1rem",marginBottom:"1.5rem"},children:[e.jsx("div",{className:"card",style:{margin:0,background:"linear-gradient(135deg, var(--warning) 0%, #f59e0b 100%)",color:"#fff"},children:e.jsxs("div",{className:"card-body",style:{padding:"1rem"},children:[e.jsx("div",{style:{fontSize:"0.75rem",opacity:.9},children:"Bekleyen"}),e.jsx("div",{style:{fontSize:"1.5rem",fontWeight:700},children:he.pending})]})}),e.jsx("div",{className:"card",style:{margin:0,background:"linear-gradient(135deg, var(--info) 0%, #0ea5e9 100%)",color:"#fff"},children:e.jsxs("div",{className:"card-body",style:{padding:"1rem"},children:[e.jsx("div",{style:{fontSize:"0.75rem",opacity:.9},children:"Ksmi Teslim"}),e.jsx("div",{style:{fontSize:"1.5rem",fontWeight:700},children:he.partial})]})}),e.jsx("div",{className:"card",style:{margin:0,background:"linear-gradient(135deg, var(--danger) 0%, #ef4444 100%)",color:"#fff"},children:e.jsxs("div",{className:"card-body",style:{padding:"1rem"},children:[e.jsx("div",{style:{fontSize:"0.75rem",opacity:.9},children:" Geciken"}),e.jsx("div",{style:{fontSize:"1.5rem",fontWeight:700},children:he.overdue})]})}),e.jsx("div",{className:"card",style:{margin:0,background:"linear-gradient(135deg, var(--success) 0%, #22c55e 100%)",color:"#fff"},children:e.jsxs("div",{className:"card-body",style:{padding:"1rem"},children:[e.jsx("div",{style:{fontSize:"0.75rem",opacity:.9},children:"Tamamlanan"}),e.jsx("div",{style:{fontSize:"1.5rem",fontWeight:700},children:he.completed})]})})]}),M.length>0&&e.jsxs("div",{className:"card",style:{marginBottom:"1.5rem",borderLeft:"4px solid var(--danger)"},children:[e.jsx("div",{className:"card-header",children:e.jsxs("h3",{className:"card-title",children:[" Uyarlar (",M.length,")"]})}),e.jsx("div",{className:"card-body",style:{maxHeight:"200px",overflowY:"auto"},children:M.slice(0,5).map((X,pe)=>e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0.5rem 0",borderBottom:pe<4?"1px solid var(--border-color)":"none"},children:[e.jsxs("div",{children:[e.jsx("span",{className:"badge",style:{marginRight:"0.5rem",background:X.severity==="high"?"var(--danger)":"var(--warning)",color:"#fff"},children:X.type==="overdue"?"GECKT":X.type==="due_today"?"BUGN":"SORUN"}),e.jsx("span",{children:X.message})]}),e.jsx("button",{className:"btn btn-sm btn-ghost",onClick:()=>s(`/isler/list?job=${X.jobId}&stage=4`),children:""})]},pe))})]}),e.jsx("div",{className:"card",style:{marginBottom:"1rem"},children:e.jsx("div",{className:"card-body",style:{padding:"0.75rem"},children:e.jsxs("div",{style:{display:"flex",gap:"0.75rem",flexWrap:"wrap",alignItems:"center"},children:[e.jsx("input",{type:"text",className:"form-control",placeholder:" , mteri, tedariki ara...",value:$,onChange:X=>B(X.target.value),style:{flex:1,minWidth:"200px"}}),e.jsxs("select",{className:"form-control",value:S,onChange:X=>j(X.target.value),style:{width:"150px"},children:[e.jsx("option",{value:"",children:"Tm Durumlar"}),Object.entries(cb).map(([X,pe])=>e.jsx("option",{value:X,children:pe.label},X))]}),e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.25rem",cursor:"pointer"},children:[e.jsx("input",{type:"checkbox",checked:q,onChange:X=>C(X.target.checked)}),"Sadece Gecikenler"]})]})})}),e.jsx("div",{className:"card",children:e.jsx(sn,{columns:Ue,data:L,emptyMessage:"Sipari bulunamad"})}),e.jsxs(qe,{isOpen:Z,onClose:()=>A(!1),title:"Yeni retim/Tedarik Siparii",size:"large",children:[e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:" Se *"}),e.jsx(ua,{value:H.jobId,onChange:X=>oe(pe=>({...pe,jobId:X})),options:g.filter(X=>["URETIME_HAZIR","URETIMDE","ANLASMA_TAMAMLANDI"].includes(X.status)),displayKey:"title",valueKey:"id",placeholder:" ara...",onSelect:ke})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:" Kolu *"}),e.jsxs("select",{className:"form-control",value:H.roleId,onChange:X=>be(X.target.value),children:[e.jsx("option",{value:"",children:"Sein..."}),k.map(X=>e.jsx("option",{value:X.id,children:X.name},X.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Sipari Tr"}),e.jsx("select",{className:"form-control",value:H.orderType,onChange:X=>oe(pe=>({...pe,orderType:X.target.value})),children:Object.entries(ob).map(([X,pe])=>e.jsxs("option",{value:X,children:[pe.icon," ",pe.label]},X))})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Tahmini Teslim"}),e.jsx(gt,{value:H.estimatedDelivery,onChange:X=>oe(pe=>({...pe,estimatedDelivery:X}))})]}),(H.orderType==="external"||H.orderType==="glass")&&e.jsxs("div",{className:"form-group",style:{gridColumn:"1 / -1"},children:[e.jsx("label",{className:"form-label",children:"Tedariki"}),e.jsx(ua,{value:H.supplierName,onChange:X=>oe(pe=>({...pe,supplierName:X})),options:w,displayKey:"name",valueKey:"id",placeholder:"Tedariki ara...",onSelect:X=>oe(pe=>({...pe,supplierId:(X==null?void 0:X.id)||"",supplierName:(X==null?void 0:X.name)||""}))})]})]}),e.jsxs("div",{style:{marginTop:"1.5rem"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.75rem"},children:[e.jsx("label",{className:"form-label",style:{margin:0},children:"Kalemler"}),e.jsx("button",{className:"btn btn-sm btn-secondary",onClick:W,children:"+ Kalem Ekle"})]}),e.jsx("div",{style:{maxHeight:"300px",overflowY:"auto"},children:H.items.map((X,pe)=>e.jsxs("div",{style:{display:"grid",gridTemplateColumns:H.orderType==="glass"?"1fr 1fr 80px 80px 40px":"1fr 80px 80px 40px",gap:"0.5rem",padding:"0.5rem",background:"var(--bg-secondary)",borderRadius:"6px",marginBottom:"0.5rem"},children:[H.orderType==="glass"?e.jsxs(e.Fragment,{children:[e.jsxs("select",{className:"form-control",value:X.glassType,onChange:Pe=>{const Be=f.find(Ye=>Ye.code===Pe.target.value);V(pe,"glassType",Pe.target.value),V(pe,"glassName",(Be==null?void 0:Be.name)||"")},children:[e.jsx("option",{value:"",children:"Cam tipi..."}),f.map(Pe=>e.jsx("option",{value:Pe.code,children:Pe.name},Pe.id))]}),e.jsx(ua,{value:X.combination,onChange:Pe=>V(pe,"combination",Pe),options:b,displayKey:"name",valueKey:"name",placeholder:"Kombinasyon...",onSelect:Pe=>V(pe,"combination",(Pe==null?void 0:Pe.name)||"")})]}):e.jsx("input",{type:"text",className:"form-control",value:X.notes,onChange:Pe=>V(pe,"notes",Pe.target.value),placeholder:"Aklama..."}),e.jsx(nr,{className:"form-control",value:X.quantity,onChange:Pe=>V(pe,"quantity",Pe),min:1,placeholder:"Adet"}),e.jsxs("select",{className:"form-control",value:X.unit,onChange:Pe=>V(pe,"unit",Pe.target.value),children:[e.jsx("option",{value:"adet",children:"adet"}),e.jsx("option",{value:"m",children:"m"}),e.jsx("option",{value:"set",children:"set"})]}),e.jsx("button",{className:"btn btn-sm btn-ghost",onClick:()=>I(pe),style:{color:"var(--danger)"},disabled:H.items.length===1,children:""})]},pe))})]}),e.jsxs("div",{className:"form-group",style:{marginTop:"1rem"},children:[e.jsx("label",{className:"form-label",children:"Not"}),e.jsx("textarea",{className:"form-control",value:H.notes,onChange:X=>oe(pe=>({...pe,notes:X.target.value})),rows:2,placeholder:"Ek notlar..."})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"0.5rem",marginTop:"1.5rem"},children:[e.jsx("button",{className:"btn btn-ghost",onClick:()=>A(!1),children:"ptal"}),e.jsx("button",{className:"btn btn-primary",onClick:ce,disabled:G,children:G?"Kaydediliyor...":"Sipari Olutur"})]})]}),e.jsx(qe,{isOpen:O,onClose:()=>_(!1),title:`Teslim Kaydet - ${le==null?void 0:le.id}`,size:"large",children:le&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{marginBottom:"1rem",padding:"0.75rem",background:"var(--bg-secondary)",borderRadius:"6px"},children:[e.jsxs("div",{children:[e.jsx("strong",{children:":"})," ",le.jobTitle]}),e.jsxs("div",{children:[e.jsx("strong",{children:" Kolu:"})," ",le.roleName]}),le.supplierName&&e.jsxs("div",{children:[e.jsx("strong",{children:"Tedariki:"})," ",le.supplierName]})]}),e.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"1rem"},children:[e.jsx(gt,{value:te.deliveryDate,onChange:X=>F(pe=>({...pe,deliveryDate:X})),style:{width:"200px"}}),e.jsx("button",{className:"btn btn-secondary",onClick:Re,children:"Tmn Doldur"})]}),e.jsx("div",{style:{maxHeight:"350px",overflowY:"auto"},children:e.jsxs("table",{className:"data-table",style:{fontSize:"0.85rem"},children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Kalem"}),e.jsx("th",{style:{width:"80px"},children:"Sipari"}),e.jsx("th",{style:{width:"80px"},children:"Alnan"}),e.jsx("th",{style:{width:"80px"},children:"Teslim"}),e.jsx("th",{style:{width:"80px"},children:"Sorunlu"}),e.jsx("th",{style:{width:"120px"},children:"Sorun Tipi"})]})}),e.jsx("tbody",{children:le.items.map((X,pe)=>{const Pe=(X.quantity||0)-(X.receivedQty||0),Be=te.deliveries[pe]||{};return e.jsxs("tr",{children:[e.jsxs("td",{children:[X.glassName||X.notes||`Kalem ${pe+1}`,X.combination&&e.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-muted)"},children:X.combination})]}),e.jsxs("td",{children:[X.quantity," ",X.unit]}),e.jsx("td",{children:e.jsx("span",{style:{color:Pe===0?"var(--success)":"inherit"},children:X.receivedQty||0})}),e.jsx("td",{children:e.jsx(nr,{className:"form-control",value:Be.receivedQty||0,onChange:Ye=>De(pe,"receivedQty",Ye),min:0,max:Pe,style:{width:"70px",padding:"0.25rem"},allowEmpty:!0})}),e.jsx("td",{children:e.jsx(nr,{className:"form-control",value:Be.problemQty||0,onChange:Ye=>De(pe,"problemQty",Ye),min:0,style:{width:"70px",padding:"0.25rem"},allowEmpty:!0})}),e.jsx("td",{children:Be.problemQty>0&&e.jsxs("select",{className:"form-control",value:Be.problemType||"",onChange:Ye=>De(pe,"problemType",Ye.target.value),style:{padding:"0.25rem",fontSize:"0.75rem"},children:[e.jsx("option",{value:"",children:"Sein..."}),Object.entries(Bo).map(([Ye,dt])=>e.jsxs("option",{value:Ye,children:[dt.icon," ",dt.label]},Ye))]})})]},pe)})})]})}),e.jsxs("div",{className:"form-group",style:{marginTop:"1rem"},children:[e.jsx("label",{className:"form-label",children:"Teslimat Notu"}),e.jsx("input",{type:"text",className:"form-control",value:te.deliveryNote,onChange:X=>F(pe=>({...pe,deliveryNote:X.target.value})),placeholder:"Opsiyonel not..."})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"0.5rem",marginTop:"1.5rem"},children:[e.jsx("button",{className:"btn btn-ghost",onClick:()=>_(!1),children:"ptal"}),e.jsx("button",{className:"btn btn-success",onClick:se,disabled:G,children:G?"Kaydediliyor...":" Teslim Kaydet"})]})]})}),e.jsx(qe,{isOpen:fe,onClose:()=>Q(!1),title:"Sorun zm",size:"medium",children:le&&E&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{marginBottom:"1rem",padding:"0.75rem",background:"var(--bg-secondary)",borderRadius:"6px"},children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Sipari:"})," ",le.id]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Sorun:"})," ",(K=Bo[E.type])==null?void 0:K.icon," ",(je=Bo[E.type])==null?void 0:je.label]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Miktar:"})," ",E.quantity," adet"]}),E.note&&e.jsxs("div",{children:[e.jsx("strong",{children:"Not:"})," ",E.note]}),((Ae=E.history)==null?void 0:Ae.length)>0&&e.jsxs("div",{style:{marginTop:"0.5rem",paddingTop:"0.5rem",borderTop:"1px solid var(--border-color)"},children:[e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)",marginBottom:"0.25rem"},children:"Gemi:"}),E.history.map((X,pe)=>{var Pe;return e.jsxs("div",{style:{fontSize:"0.75rem"},children:[re(X.date)," - ",(Pe=db.find(Be=>Be.value===X.resolution))==null?void 0:Pe.label," (",X.resolvedQty," adet)"]},pe)})]})]}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"zm Tr"}),e.jsx("select",{className:"form-control",value:J.resolution,onChange:X=>xe(pe=>({...pe,resolution:X.target.value})),children:db.map(X=>e.jsx("option",{value:X.value,children:X.label},X.value))})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"zlen Miktar"}),e.jsx(nr,{className:"form-control",value:J.resolvedQty,onChange:X=>xe(pe=>({...pe,resolvedQty:X})),min:0,max:E.quantity})]})]}),J.resolution==="replaced"&&e.jsxs("div",{style:{marginTop:"1rem",padding:"0.75rem",background:"rgba(var(--warning-rgb), 0.1)",borderRadius:"6px"},children:[e.jsx("div",{style:{fontWeight:600,marginBottom:"0.5rem"},children:" Deiim de sorunlu mu?"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Yeni Sorunlu Miktar"}),e.jsx(nr,{className:"form-control",value:J.newIssueQty,onChange:X=>xe(pe=>({...pe,newIssueQty:X})),min:0})]}),J.newIssueQty>0&&e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Sorun Tipi"}),e.jsxs("select",{className:"form-control",value:J.newIssueType,onChange:X=>xe(pe=>({...pe,newIssueType:X.target.value})),children:[e.jsx("option",{value:"",children:"Sein..."}),Object.entries(Bo).map(([X,pe])=>e.jsxs("option",{value:X,children:[pe.icon," ",pe.label]},X))]})]})]}),J.newIssueQty>0&&e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Yeni Sorun Notu"}),e.jsx("input",{type:"text",className:"form-control",value:J.newIssueNote,onChange:X=>xe(pe=>({...pe,newIssueNote:X.target.value})),placeholder:"Aklama..."})]})]}),e.jsxs("div",{className:"form-group",style:{marginTop:"1rem"},children:[e.jsx("label",{className:"form-label",children:"zm Notu"}),e.jsx("textarea",{className:"form-control",value:J.note,onChange:X=>xe(pe=>({...pe,note:X.target.value})),rows:2,placeholder:"Aklama..."})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"0.5rem",marginTop:"1.5rem"},children:[e.jsx("button",{className:"btn btn-ghost",onClick:()=>Q(!1),children:"ptal"}),e.jsx("button",{className:"btn btn-success",onClick:_e,disabled:G,children:G?"Kaydediliyor...":" Sorunu z"})]})]})})]})},ub={pending:{label:"Planlanmad",color:"var(--text-muted)",icon:""},planned:{label:"Planland",color:"var(--info)",icon:""},in_progress:{label:"Devam Ediyor",color:"var(--warning)",icon:""},completed:{label:"Tamamland",color:"var(--success)",icon:""},blocked:{label:"Beklemede",color:"var(--danger)",icon:""}},SI=()=>{const t=vs(),[n,s]=c.useState(!0),[r,a]=c.useState([]),[l,i]=c.useState({}),[o,d]=c.useState([]),[m,p]=c.useState([]),[g,h]=c.useState(""),[k,x]=c.useState(""),[w,N]=c.useState(""),[f,v]=c.useState("week"),[b,y]=c.useState(!1),[S,j]=c.useState(null),[z,P]=c.useState({plannedDate:"",teamId:"",teamName:"",assignedPersonnel:[]}),[$,B]=c.useState(null),[q,C]=c.useState(!1);c.useEffect(()=>{Z()},[f]);const Z=async()=>{s(!0);try{const E={},D=new Date;if(f==="week"){const te=new Date(D);te.setDate(D.getDate()+7),E.dateTo=te.toISOString().slice(0,10)}else if(f==="month"){const te=new Date(D);te.setMonth(D.getMonth()+1),E.dateTo=te.toISOString().slice(0,10)}const[G,U,H,oe]=await Promise.all([Gh(E),_4(),Nl(),Sl()]);a(G||[]),i(U||{}),d(H||[]),p(oe||[])}catch(E){console.error("Load error:",E)}finally{s(!1)}},A=c.useMemo(()=>{let E=[...r];if(g&&(E=E.filter(D=>D.status===g)),k&&(E=E.filter(D=>D.teamId===k)),w){const D=w.toLowerCase();E=E.filter(G=>{var U,H,oe,te;return((U=G.customerName)==null?void 0:U.toLowerCase().includes(D))||((H=G.roleName)==null?void 0:H.toLowerCase().includes(D))||((oe=G.stageName)==null?void 0:oe.toLowerCase().includes(D))||((te=G.location)==null?void 0:te.toLowerCase().includes(D))})}return E.sort((D,G)=>!D.plannedDate&&G.plannedDate?-1:D.plannedDate&&!G.plannedDate?1:D.plannedDate&&G.plannedDate?D.plannedDate.localeCompare(G.plannedDate):0),E},[r,g,k,w]),O=E=>{if(!E)return"";try{return new Date(E).toLocaleDateString("tr-TR",{day:"numeric",month:"short",weekday:"short"})}catch{return E}},_=E=>{j(E),P({plannedDate:E.plannedDate||E.estimatedDate||"",teamId:E.teamId||"",teamName:E.teamName||"",assignedPersonnel:E.assignedPersonnel||[]}),B(null),y(!0)},fe=async E=>{const D=o.find(G=>G.id===E);if(P(G=>({...G,teamId:E,teamName:(D==null?void 0:D.ad)||"",assignedPersonnel:[]})),E&&z.plannedDate)try{const G=await xj(E,z.plannedDate);B(G.warning)}catch{B(null)}},Q=async E=>{if(P(D=>({...D,plannedDate:E})),z.teamId&&E)try{const D=await xj(z.teamId,E);B(D.warning)}catch{B(null)}},le=async()=>{if(S)try{C(!0),await op(S.id,{plannedDate:z.plannedDate,teamId:z.teamId,teamName:z.teamName,assignedPersonnel:z.assignedPersonnel,status:z.plannedDate?"planned":"pending"}),await Z(),y(!1)}catch(E){alert(E.message)}finally{C(!1)}},ye=[{header:"Mteri / Konum",accessor:"customerName",render:(E,D)=>e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:600},children:D.customerName}),e.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)"},children:[" ",D.location||"Konum belirtilmedi"]})]})},{header:" Kolu / Aama",accessor:"roleName",render:(E,D)=>e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:500},children:D.roleName}),e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)"},children:D.stageName})]})},{header:"Mteri Termini",accessor:"estimatedDate",render:(E,D)=>e.jsxs("div",{children:[e.jsx("div",{style:{color:D.isOverdue?"var(--danger)":"inherit"},children:O(E)}),D.isOverdue&&e.jsxs("span",{className:"badge badge-danger",style:{fontSize:"0.65rem"},children:[" ",Math.abs(D.daysUntilEstimated)," gn geti"]})]})},{header:"Planlanan Tarih",accessor:"plannedDate",render:E=>e.jsx("div",{style:{color:E?"inherit":"var(--text-muted)"},children:E?O(E):"Planlanmad"})},{header:"Ekip",accessor:"teamName",render:E=>E||e.jsx("span",{style:{color:"var(--text-muted)"},children:""})},{header:"Durum",accessor:"status",render:E=>{const D=ub[E]||{};return e.jsxs("span",{className:"badge",style:{background:D.color,color:"#fff"},children:[D.icon," ",D.label]})}},{header:"lem",accessor:"actions",render:(E,D)=>e.jsxs("div",{style:{display:"flex",gap:"0.25rem"},children:[e.jsx("button",{className:"btn btn-sm btn-primary",onClick:()=>_(D),title:"Planla",children:""}),e.jsx("button",{className:"btn btn-sm btn-ghost",onClick:()=>t(`/isler/list?job=${D.jobId}&stage=5`),title:"e Git",children:""})]})}];return n?e.jsxs("div",{children:[e.jsx(it,{title:"Planlanan Montajlar",subtitle:"Ykleniyor..."}),e.jsx("div",{className:"card subtle-card",children:"Ykleniyor..."})]}):e.jsxs("div",{children:[e.jsx(it,{title:"Planlanan Montajlar",subtitle:`${A.length} montaj grevi`}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"1rem",marginBottom:"1.5rem"},children:[e.jsx("div",{className:"card",style:{margin:0,background:"var(--text-muted)",color:"#fff"},children:e.jsxs("div",{className:"card-body",style:{padding:"1rem"},children:[e.jsx("div",{style:{fontSize:"0.75rem",opacity:.9},children:"Planlanmad"}),e.jsx("div",{style:{fontSize:"1.5rem",fontWeight:700},children:l.pending||0})]})}),e.jsx("div",{className:"card",style:{margin:0,background:"var(--info)",color:"#fff"},children:e.jsxs("div",{className:"card-body",style:{padding:"1rem"},children:[e.jsx("div",{style:{fontSize:"0.75rem",opacity:.9},children:"Planland"}),e.jsx("div",{style:{fontSize:"1.5rem",fontWeight:700},children:l.planned||0})]})}),e.jsx("div",{className:"card",style:{margin:0,background:"var(--warning)",color:"#fff"},children:e.jsxs("div",{className:"card-body",style:{padding:"1rem"},children:[e.jsx("div",{style:{fontSize:"0.75rem",opacity:.9},children:"Devam Ediyor"}),e.jsx("div",{style:{fontSize:"1.5rem",fontWeight:700},children:l.inProgress||0})]})}),e.jsx("div",{className:"card",style:{margin:0,background:"var(--danger)",color:"#fff"},children:e.jsxs("div",{className:"card-body",style:{padding:"1rem"},children:[e.jsx("div",{style:{fontSize:"0.75rem",opacity:.9},children:" Termin Geen"}),e.jsx("div",{style:{fontSize:"1.5rem",fontWeight:700},children:l.overdue||0})]})})]}),e.jsx("div",{className:"card",style:{marginBottom:"1rem"},children:e.jsx("div",{className:"card-body",style:{padding:"0.75rem"},children:e.jsxs("div",{style:{display:"flex",gap:"0.75rem",flexWrap:"wrap",alignItems:"center"},children:[e.jsx("input",{type:"text",className:"form-control",placeholder:" Mteri, konum, i kolu ara...",value:w,onChange:E=>N(E.target.value),style:{flex:1,minWidth:"200px"}}),e.jsxs("select",{className:"form-control",value:g,onChange:E=>h(E.target.value),style:{width:"150px"},children:[e.jsx("option",{value:"",children:"Tm Durumlar"}),Object.entries(ub).map(([E,D])=>e.jsxs("option",{value:E,children:[D.icon," ",D.label]},E))]}),e.jsxs("select",{className:"form-control",value:k,onChange:E=>x(E.target.value),style:{width:"150px"},children:[e.jsx("option",{value:"",children:"Tm Ekipler"}),o.map(E=>e.jsx("option",{value:E.id,children:E.ad},E.id))]}),e.jsxs("select",{className:"form-control",value:f,onChange:E=>v(E.target.value),style:{width:"120px"},children:[e.jsx("option",{value:"week",children:"Bu Hafta"}),e.jsx("option",{value:"month",children:"Bu Ay"}),e.jsx("option",{value:"all",children:"Tm"})]})]})})}),e.jsx("div",{className:"card",children:e.jsx(sn,{columns:ye,data:A,emptyMessage:"Montaj grevi bulunamad"})}),e.jsx(qe,{isOpen:b,onClose:()=>y(!1),title:"Montaj Planla",size:"medium",children:S&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{marginBottom:"1rem",padding:"0.75rem",background:"var(--bg-secondary)",borderRadius:6},children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Mteri:"})," ",S.customerName]}),e.jsxs("div",{children:[e.jsx("strong",{children:" Kolu:"})," ",S.roleName]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Aama:"})," ",S.stageName]}),S.estimatedDate&&e.jsxs("div",{style:{marginTop:"0.5rem",color:S.isOverdue?"var(--danger)":"var(--info)"},children:[e.jsx("strong",{children:"Mteri Termini:"})," ",O(S.estimatedDate),S.isOverdue&&"  GET!"]})]}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Planlanan Tarih *"}),e.jsx(gt,{value:z.plannedDate,onChange:Q})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Ekip *"}),e.jsxs("select",{className:"form-control",value:z.teamId,onChange:E=>fe(E.target.value),children:[e.jsx("option",{value:"",children:"Ekip sein..."}),o.map(E=>e.jsx("option",{value:E.id,children:E.ad},E.id))]})]})]}),$&&e.jsx("div",{style:{padding:"0.75rem",background:"rgba(245, 158, 11, 0.1)",border:"1px solid var(--warning)",borderRadius:6,marginBottom:"1rem",color:"var(--warning)"},children:$}),z.teamId&&e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Personel (Opsiyonel)"}),e.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:m.filter(E=>E.ekipId===z.teamId||!E.ekipId).map(E=>{const D=z.assignedPersonnel.includes(E.id);return e.jsxs("button",{type:"button",className:`btn btn-sm ${D?"btn-primary":"btn-ghost"}`,onClick:()=>{P(G=>({...G,assignedPersonnel:D?G.assignedPersonnel.filter(U=>U!==E.id):[...G.assignedPersonnel,E.id]}))},children:[D?" ":"",E.ad]},E.id)})})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"0.5rem",marginTop:"1.5rem"},children:[e.jsx("button",{className:"btn btn-ghost",onClick:()=>y(!1),children:"ptal"}),e.jsx("button",{className:"btn btn-primary",onClick:le,disabled:q||!z.plannedDate||!z.teamId,children:q?"Kaydediliyor...":" Planla"})]})]})})]})},NI={pending:{label:"Bekliyor",color:"var(--text-muted)",icon:""},planned:{label:"Planland",color:"var(--info)",icon:""},in_progress:{label:"Devam Ediyor",color:"var(--warning)",icon:""},completed:{label:"Tamamland",color:"var(--success)",icon:""},blocked:{label:"Beklemede",color:"var(--danger)",icon:""}},kI=[{id:"broken",name:"Krk/Hasarl",icon:""},{id:"missing",name:"Eksik Malzeme",icon:""},{id:"wrong",name:"Yanl rn",icon:""},{id:"damage",name:"Hasar (Tama/Montaj)",icon:""},{id:"other",name:"Dier",icon:""}],CI=[{id:"production",name:"retim Hatas (Tedariki)"},{id:"team",name:"Ekip Hatas"},{id:"accident",name:"Kaza"}],wI=()=>{const t=vs(),[n,s]=c.useState(!0),[r,a]=c.useState([]),[l,i]=c.useState([]),[o,d]=c.useState(""),[m,p]=c.useState(kI),[g,h]=c.useState(CI),[k,x]=c.useState(!1),[w,N]=c.useState(!1),[f,v]=c.useState(null),[b,y]=c.useState(null),[S,j]=c.useState({issueType:"broken",item:"",quantity:1,faultSource:"team",responsiblePersonId:"",photoUrl:"",note:"",createReplacement:!0}),[z,P]=c.useState({photosBefore:[],photosAfter:[],customerSignature:"",note:""}),[$,B]=c.useState(!1);c.useEffect(()=>{q()},[o]);const q=async()=>{var U,H;s(!0);try{const[oe,te,F]=await Promise.all([L4(o||null),Nl(),Ji().catch(()=>({}))]);a(oe||[]),i(te||[]),(U=F==null?void 0:F.issueTypes)!=null&&U.length&&p(F.issueTypes),(H=F==null?void 0:F.faultSources)!=null&&H.length&&h(F.faultSources)}catch(oe){console.error("Load error:",oe)}finally{s(!1)}},C=async U=>{try{B(!0),await US(U.id),await q()}catch(H){alert(H.message)}finally{B(!1)}},Z=(U,H)=>{if(!H||!U)return!1;const oe=H.tasks.filter(F=>F.roleId===U.roleId);return oe.length===0?!1:oe.reduce((F,J)=>(F.stageOrder||0)>(J.stageOrder||0)?F:J).id===U.id},A=async U=>{if(z.photosBefore.length===0){alert("Montaj ncesi fotoraf zorunludur!");return}if(z.photosAfter.length===0){alert("Montaj sonras fotoraf zorunludur!");return}if((b?!0:Z(U,r.find(oe=>oe.tasks.some(te=>te.id===U.id))))&&!z.customerSignature){alert("Son aama iin mteri imzas zorunludur!");return}try{B(!0),await KS(U.id,{photosBefore:z.photosBefore,photosAfter:z.photosAfter,customerSignature:z.customerSignature,note:z.note}),await q(),N(!1)}catch(oe){alert(oe.message)}finally{B(!1)}},O=async U=>{if(confirm("Tm grevleri tek seferde tamamlamak istediinize emin misiniz?"))try{B(!0),await $4(U.jobId,{photosBefore:z.photosBefore,photosAfter:z.photosAfter,customerSignature:z.customerSignature,note:z.note}),await q(),N(!1)}catch(H){alert(H.message)}finally{B(!1)}},_=U=>{v(U),j({issueType:"broken",item:"",quantity:1,faultSource:"team",responsiblePersonId:"",photoUrl:"",note:"",createReplacement:!0}),x(!0)},fe=(U,H=null)=>{v(U),y(H),P({photosBefore:[],photosAfter:[],customerSignature:"",note:""}),N(!0)},Q=async()=>{if(!f||!S.item){alert("Sorunlu rn/malzeme ad gerekli");return}try{B(!0),await HS(f.id,S),await q(),x(!1)}catch(U){alert(U.message)}finally{B(!1)}},le=async(U,H)=>{try{B(!0),await VS(U.id,H),await q()}catch(oe){alert(oe.message)}finally{B(!1)}},[ye,E]=c.useState(!1),D=async(U,H)=>{var F;const oe=(F=U.target.files)==null?void 0:F[0];if(!oe)return;const te=(f==null?void 0:f.jobId)||(b==null?void 0:b.jobId);if(!te){console.error("No jobId for upload"),U.target.value="";return}try{E(!0);let J="montaj",xe="Montaj fotoraf";H==="before"?(J="montaj_oncesi",xe="Montaj ncesi fotoraf"):H==="after"?(J="montaj_sonrasi",xe="Montaj sonras fotoraf"):H==="signature"?(J="musteri_imza",xe="Mteri imzas"):H==="issue"&&(J="montaj_sorun",xe="Montaj sorunu fotoraf");const ie=await kl(oe,te,J,xe),L=(ie==null?void 0:ie.url)||(ie==null?void 0:ie.path)||URL.createObjectURL(oe);H==="before"?P(ne=>({...ne,photosBefore:[...ne.photosBefore,L]})):H==="after"?P(ne=>({...ne,photosAfter:[...ne.photosAfter,L]})):H==="signature"?P(ne=>({...ne,customerSignature:L})):H==="issue"&&j(ne=>({...ne,photoUrl:L}))}catch(J){console.error("Upload error:",J),alert("Dosya yklenirken hata olutu: "+(J.message||J))}finally{E(!1)}U.target.value=""};if(n)return e.jsxs("div",{children:[e.jsx(it,{title:"Bugnk Montajlar",subtitle:"Ykleniyor..."}),e.jsx("div",{className:"card subtle-card",children:"Ykleniyor..."})]});const G=new Date().toLocaleDateString("tr-TR",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return e.jsxs("div",{children:[e.jsx(it,{title:"Bugnk Montajlar",subtitle:G}),e.jsx("div",{className:"card",style:{marginBottom:"1rem"},children:e.jsx("div",{className:"card-body",style:{padding:"0.75rem"},children:e.jsxs("div",{style:{display:"flex",gap:"0.75rem",alignItems:"center"},children:[e.jsx("span",{style:{fontWeight:500},children:"Ekip:"}),e.jsxs("select",{className:"form-control",value:o,onChange:U=>d(U.target.value),style:{width:"200px"},children:[e.jsx("option",{value:"",children:"Tm Ekipler"}),l.map(U=>e.jsx("option",{value:U.id,children:U.ad},U.id))]}),e.jsxs("button",{className:"btn btn-secondary",onClick:q,children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Yenile"]})]})})}),r.length===0?e.jsxs("div",{className:"card",style:{textAlign:"center",padding:"3rem"},children:[e.jsx("div",{style:{fontSize:"3rem",marginBottom:"1rem",display:"flex",justifyContent:"center"},children:e.jsx(me,{icon:"",sx:{fontSize:48}})}),e.jsx("div",{style:{fontSize:"1.25rem",fontWeight:600,marginBottom:"0.5rem"},children:"Bugn iin planlanm montaj yok"}),e.jsx("div",{style:{color:"var(--text-muted)"},children:"Planlanan Montajlar sayfasndan yeni montaj planlayabilirsiniz."})]}):e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:r.map(U=>{const H=U.tasks.every(F=>F.status==="completed"),oe=U.tasks.some(F=>F.status==="blocked"),te=U.tasks.some(F=>F.status==="in_progress");return e.jsxs("div",{className:"card",style:{margin:0},children:[e.jsx("div",{className:"card-header",style:{background:H?"var(--success)":oe?"var(--danger)":te?"var(--warning)":"var(--primary)",color:"#fff"},children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsxs("div",{style:{fontSize:"1.1rem",fontWeight:600},children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," ",U.customerName]}),e.jsxs("div",{style:{fontSize:"0.85rem",opacity:.9},children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," ",U.location||"Konum belirtilmedi"]})]}),e.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[!H&&!oe&&e.jsxs("button",{className:"btn btn-sm",style:{background:"rgba(255,255,255,0.2)",color:"#fff"},onClick:()=>fe(null,U),children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Tek Seferde Tamamla"]}),e.jsx("button",{className:"btn btn-sm",style:{background:"rgba(255,255,255,0.2)",color:"#fff"},onClick:()=>t(`/isler/list?job=${U.jobId}&stage=5`),children:" e Git"})]})]})}),e.jsx("div",{className:"card-body",style:{padding:"1rem"},children:U.tasks.map((F,J)=>{var ne;const xe=NI[F.status]||{},ie=J===U.tasks.length-1,L=((ne=F.issues)==null?void 0:ne.filter(he=>he.status==="pending"))||[];return e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"1rem",padding:"1rem",background:F.status==="completed"?"rgba(34, 197, 94, 0.1)":F.status==="blocked"?"rgba(239, 68, 68, 0.1)":F.status==="in_progress"?"rgba(245, 158, 11, 0.1)":"var(--bg-secondary)",borderRadius:8,marginBottom:J<U.tasks.length-1?"0.5rem":0},children:[e.jsx("div",{style:{width:32,height:32,borderRadius:"50%",background:xe.color,color:"#fff",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:600,fontSize:"0.85rem",flexShrink:0},children:F.status==="completed"?e.jsx(me,{icon:"",sx:{fontSize:18}}):F.stageOrder}),e.jsxs("div",{style:{flex:1},children:[e.jsxs("div",{style:{fontWeight:600,marginBottom:"0.25rem"},children:[F.roleName," - ",F.stageName]}),e.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center",marginBottom:"0.5rem"},children:[e.jsxs("span",{className:"badge",style:{background:xe.color,color:"#fff"},children:[e.jsx(me,{icon:xe.icon,sx:{fontSize:14,verticalAlign:"middle",mr:.5}})," ",xe.label]}),F.teamName&&e.jsxs("span",{style:{fontSize:"0.75rem",color:"var(--text-muted)"},children:[e.jsx(me,{icon:"",sx:{fontSize:12,verticalAlign:"middle",mr:.5}})," ",F.teamName]})]}),L.length>0&&e.jsx("div",{style:{padding:"0.5rem",background:"rgba(239, 68, 68, 0.1)",borderRadius:4,marginBottom:"0.5rem"},children:L.map(he=>e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("span",{style:{fontSize:"0.85rem",color:"var(--danger)"},children:[e.jsx(me,{icon:"",sx:{fontSize:14,verticalAlign:"middle",mr:.5}})," ",he.item," (",he.quantity," adet) - ",he.note]}),he.replacementOrderId&&e.jsxs("button",{className:"btn btn-sm btn-success",onClick:()=>le(F,he.id),disabled:$,children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," zld"]})]},he.id))}),F.status!=="completed"&&e.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--info)",marginBottom:"0.25rem"},children:[e.jsx(me,{icon:"",sx:{fontSize:12,verticalAlign:"middle",mr:.5}})," Montaj ncesi + sonras fotoraf zorunlu",ie&&e.jsxs(e.Fragment,{children:[e.jsx("br",{}),e.jsx(me,{icon:"",sx:{fontSize:12,verticalAlign:"middle",mr:.5}})," Son aama: Mteri imzas da zorunlu"]})]})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.25rem"},children:[F.status==="planned"&&e.jsxs("button",{className:"btn btn-sm btn-primary",onClick:()=>C(F),disabled:$,children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Balat"]}),F.status==="in_progress"&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{className:"btn btn-sm btn-success",onClick:()=>fe(F),disabled:$||L.length>0,title:L.length>0?"nce sorunlar zn":"",children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Tamamla"]}),e.jsxs("button",{className:"btn btn-sm btn-warning",onClick:()=>_(F),disabled:$,children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Sorun"]})]}),F.status==="blocked"&&L.length===0&&e.jsxs("button",{className:"btn btn-sm btn-primary",onClick:()=>C(F),disabled:$,children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Devam Et"]})]})]},F.id)})})]},U.jobId)})}),e.jsx(qe,{isOpen:k,onClose:()=>x(!1),title:e.jsxs(e.Fragment,{children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Montaj Sorunu Bildir"]}),size:"medium",children:f&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{marginBottom:"1rem",padding:"0.75rem",background:"var(--bg-secondary)",borderRadius:6},children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Mteri:"})," ",f.customerName]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Grev:"})," ",f.roleName," - ",f.stageName]})]}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Sorun Tr *"}),e.jsx("select",{className:"form-control",value:S.issueType,onChange:U=>j({...S,issueType:U.target.value}),children:m.map(U=>e.jsxs("option",{value:U.id,children:[U.icon||""," ",U.name]},U.id))})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Adet *"}),e.jsx("input",{type:"number",className:"form-control",value:S.quantity,onChange:U=>j({...S,quantity:parseInt(U.target.value)||1}),min:1})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Sorunlu rn/Malzeme *"}),e.jsx("input",{type:"text",className:"form-control",value:S.item,onChange:U=>j({...S,item:U.target.value}),placeholder:"rn: Cam 80x120"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Hata Kayna *"}),e.jsx("select",{className:"form-control",value:S.faultSource,onChange:U=>j({...S,faultSource:U.target.value}),children:g.map(U=>e.jsx("option",{value:U.id,children:U.name},U.id))})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Fotoraf (Zorunlu)"]}),e.jsx("input",{type:"file",accept:"image/*",onChange:U=>D(U,"issue"),className:"form-control"}),S.photoUrl&&e.jsx("img",{src:S.photoUrl,alt:"Sorun fotoraf",style:{maxWidth:200,marginTop:"0.5rem",borderRadius:4}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Aklama"}),e.jsx("textarea",{className:"form-control",value:S.note,onChange:U=>j({...S,note:U.target.value}),rows:2,placeholder:"Ne oldu? Nasl oldu?"})]}),e.jsx("div",{className:"form-group",children:e.jsxs("label",{className:"form-label",style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("input",{type:"checkbox",checked:S.createReplacement,onChange:U=>j({...S,createReplacement:U.target.checked})}),"Yedek sipari olutur (retim Takip'e der)"]})}),e.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"0.5rem",marginTop:"1.5rem"},children:[e.jsx("button",{className:"btn btn-ghost",onClick:()=>x(!1),children:"ptal"}),e.jsx("button",{className:"btn btn-danger",onClick:Q,disabled:$||!S.item||!S.photoUrl,children:$?"Kaydediliyor...":e.jsxs(e.Fragment,{children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Sorunu Bildir"]})})]})]})}),e.jsxs(qe,{isOpen:w,onClose:()=>N(!1),title:b?e.jsxs(e.Fragment,{children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Tm Grevleri Tamamla"]}):e.jsxs(e.Fragment,{children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Grevi Tamamla"]}),size:"medium",children:[e.jsxs("div",{style:{marginBottom:"1rem"},children:[f&&e.jsx("div",{style:{padding:"0.75rem",background:"var(--bg-secondary)",borderRadius:6},children:e.jsxs("div",{children:[e.jsx("strong",{children:"Grev:"})," ",f.roleName," - ",f.stageName]})}),b&&e.jsxs("div",{style:{padding:"0.75rem",background:"var(--bg-secondary)",borderRadius:6},children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Mteri:"})," ",b.customerName]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Tamamlanacak Grev:"})," ",b.tasks.length," adet"]})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Montaj ncesi Fotoraf (Zorunlu)"]}),e.jsx("input",{type:"file",accept:"image/*",onChange:U=>D(U,"before"),className:"form-control"}),z.photosBefore.length>0&&e.jsx("div",{style:{display:"flex",gap:"0.5rem",marginTop:"0.5rem",flexWrap:"wrap"},children:z.photosBefore.map((U,H)=>e.jsx("img",{src:U,alt:"ncesi",style:{width:80,height:80,objectFit:"cover",borderRadius:4}},H))})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Montaj Sonras Fotoraf (Zorunlu)"]}),e.jsx("input",{type:"file",accept:"image/*",onChange:U=>D(U,"after"),className:"form-control"}),z.photosAfter.length>0&&e.jsx("div",{style:{display:"flex",gap:"0.5rem",marginTop:"0.5rem",flexWrap:"wrap"},children:z.photosAfter.map((U,H)=>e.jsx("img",{src:U,alt:"Sonras",style:{width:80,height:80,objectFit:"cover",borderRadius:4}},H))})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Mteri mzas",b||f&&Z(f,r.find(U=>U.tasks.some(H=>H.id===(f==null?void 0:f.id))))?e.jsx("span",{style:{color:"var(--danger)"},children:" (Zorunlu - Son Aama)"}):" (Opsiyonel)"]}),e.jsx("input",{type:"file",accept:"image/*",onChange:U=>D(U,"signature"),className:"form-control"}),z.customerSignature&&e.jsx("img",{src:z.customerSignature,alt:"mza",style:{maxWidth:200,marginTop:"0.5rem",borderRadius:4}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Not (Opsiyonel)"}),e.jsx("textarea",{className:"form-control",value:z.note,onChange:U=>P({...z,note:U.target.value}),rows:2,placeholder:"Ek notlar..."})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"0.5rem",marginTop:"1.5rem"},children:[e.jsx("button",{className:"btn btn-ghost",onClick:()=>N(!1),children:"ptal"}),e.jsx("button",{className:"btn btn-success",onClick:()=>b?O(b):A(f),disabled:$||z.photosBefore.length===0||z.photosAfter.length===0||(b||f&&Z(f,r.find(U=>U.tasks.some(H=>H.id===(f==null?void 0:f.id)))))&&!z.customerSignature,children:$?"Kaydediliyor...":e.jsxs(e.Fragment,{children:[e.jsx(me,{icon:"",sx:{mr:.5,verticalAlign:"middle"}})," Tamamla"]})})]})]})]})},vp={"PVC Montaj":"#3b82f6","Cam Takma":"#10b981",Vidalama:"#f59e0b","Silikon/Bitirme":"#8b5cf6","Alminyum Montaj":"#ef4444","Cam Balkon Montaj":"#06b6d4","Sineklik Montaj":"#92400e","Plise Perde Montaj":"#6b7280","Panjur Montaj":"#6b7280","Jaluzi Montaj":"#6b7280"},Oo=t=>{if(vp[t])return vp[t];const n=(t==null?void 0:t.toLowerCase())||"";return n.includes("cam")?"#10b981":n.includes("vida")?"#f59e0b":n.includes("silikon")||n.includes("bitir")?"#8b5cf6":n.includes("almin")?"#ef4444":n.includes("balkon")?"#06b6d4":(n.includes("pvc"),"#3b82f6")},mb={pending:"Bekliyor",planned:"Planland",in_progress:"Devam Ediyor",completed:"Tamamland",blocked:"Engellendi"},TI=[{id:"broken",name:"Krk/Hasarl",icon:""},{id:"missing",name:"Eksik Malzeme",icon:""},{id:"wrong",name:"Yanl rn",icon:""},{id:"damage",name:"Hasar (Tama/Montaj)",icon:""},{id:"other",name:"Dier",icon:""}],zI=[{id:"production",name:"retim Hatas (Tedariki)"},{id:"team",name:"Ekip Hatas"},{id:"accident",name:"Kaza"}],DI=()=>{var ot,Dt,bt,Un,Kn,js;const t=vs(),[n,s]=c.useState(!0),[r,a]=c.useState([]),[l,i]=c.useState([]),[o,d]=c.useState([]),[m,p]=c.useState(TI),[g,h]=c.useState(zI),[k,x]=c.useState("month"),[w,N]=c.useState(new Date),[f,v]=c.useState(""),[b,y]=c.useState(""),[S,j]=c.useState(""),[z,P]=c.useState(null),[$,B]=c.useState(!1),[q,C]=c.useState(null),[Z,A]=c.useState(!1),[O,_]=c.useState(null),[fe,Q]=c.useState(!1),[le,ye]=c.useState(!1),[E,D]=c.useState(!1),[G,U]=c.useState(!1),[H,oe]=c.useState({photosBefore:[],photosAfter:[],customerSignature:"",note:""}),[te,F]=c.useState({issueType:"broken",item:"",quantity:1,faultSource:"team",photoUrl:"",note:"",createReplacement:!0});c.useEffect(()=>{J()},[]);const J=async()=>{var R,Ne;s(!0);try{const[nt,st,Ge,rt]=await Promise.all([Gh({}),Nl(),ba(!0).catch(()=>[]),Ji().catch(()=>({}))]);a(nt||[]),i(st||[]),d(Ge||[]),(R=rt==null?void 0:rt.issueTypes)!=null&&R.length&&p(rt.issueTypes),(Ne=rt==null?void 0:rt.faultSources)!=null&&Ne.length&&h(rt.faultSources)}catch(nt){console.error("Load error:",nt)}finally{s(!1)}},xe=c.useMemo(()=>{const R=new Set;return r.forEach(Ne=>Ne.stageName&&R.add(Ne.stageName)),Array.from(R).sort()},[r]),ie=c.useMemo(()=>{const R=new Set;return r.forEach(Ne=>Ne.roleName&&R.add(Ne.roleName)),Array.from(R).sort()},[r]),L=c.useMemo(()=>{const R=w.getFullYear(),Ne=w.getMonth();if(k==="month"){const nt=new Date(R,Ne,1),st=new Date(R,Ne+1,0),Ge=nt.getDay()===0?6:nt.getDay()-1,rt=[];for(let Rt=Ge-1;Rt>=0;Rt--){const St=new Date(R,Ne,-Rt);rt.push({date:St,isCurrentMonth:!1})}for(let Rt=1;Rt<=st.getDate();Rt++)rt.push({date:new Date(R,Ne,Rt),isCurrentMonth:!0});const It=42-rt.length;for(let Rt=1;Rt<=It;Rt++)rt.push({date:new Date(R,Ne+1,Rt),isCurrentMonth:!1});return rt}else{const nt=new Date(w),st=nt.getDay()===0?6:nt.getDay()-1;nt.setDate(nt.getDate()-st);const Ge=[];for(let rt=0;rt<7;rt++){const It=new Date(nt);It.setDate(nt.getDate()+rt),Ge.push({date:It,isCurrentMonth:!0})}return Ge}},[w,k]),ne=c.useMemo(()=>r.filter(R=>!(f&&R.teamId!==f||b&&R.stageName!==b||S&&R.roleName!==S)),[r,f,b,S]),he=c.useMemo(()=>{const R={};for(const Ne of ne){if(!Ne.plannedDate)continue;const nt=Ne.plannedDate.slice(0,10);R[nt]||(R[nt]=[]),R[nt].push(Ne)}return R},[ne]),M=c.useMemo(()=>ne.filter(R=>!R.plannedDate&&R.status!=="completed"),[ne]),re=R=>R.toISOString().slice(0,10),ke=(R,Ne)=>{P(Ne),R.dataTransfer.effectAllowed="move",R.dataTransfer.setData("text/plain",Ne.id)},be=R=>{R.preventDefault(),R.dataTransfer.dropEffect="move"},we=()=>{P(null)},W=async(R,Ne)=>{R.preventDefault();const nt=R.dataTransfer.getData("text/plain"),st=r.find(St=>St.id===nt);if(!st){P(null);return}const Ge=re(Ne),rt=st.plannedDate;let It=!1,Rt=0;if(rt&&Ge)try{const St=new Date(rt),xt=new Date(Ge);Rt=Math.ceil((xt-St)/(1e3*60*60*24)),It=Rt>0}catch{}if(It){C({taskId:nt,oldDate:rt,newDate:Ge,delayDays:Rt}),B(!0),P(null);return}a(St=>St.map(xt=>xt.id===nt?{...xt,plannedDate:Ge,status:"planned"}:xt)),P(null);try{await op(nt,{plannedDate:Ge,status:"planned"})}catch(St){alert("Takvim gncellenemedi: "+(St.message||"Bilinmeyen hata")),J()}},V=async({reason:R,responsiblePersonId:Ne,note:nt})=>{if(!q)return;const{taskId:st,newDate:Ge}=q;a(rt=>rt.map(It=>It.id===st?{...It,plannedDate:Ge,status:"planned",isDelayed:!0}:It));try{await F4(st,{plannedDate:Ge,delayReason:R,delayResponsiblePersonId:Ne,delayNote:nt}),B(!1),C(null)}catch(rt){alert("Gecikme kaydedilemedi: "+(rt.message||"Bilinmeyen hata")),J(),B(!1),C(null)}},I=()=>{B(!1),C(null),J()},ce=async R=>{R.preventDefault();const Ne=R.dataTransfer.getData("text/plain"),nt=r.find(st=>st.id===Ne);if(!nt||!nt.plannedDate){P(null);return}a(st=>st.map(Ge=>Ge.id===Ne?{...Ge,plannedDate:null,status:"pending"}:Ge)),P(null);try{await op(Ne,{plannedDate:null,status:"pending"})}catch(st){alert("Plan kaldrlamad: "+(st.message||"Bilinmeyen hata")),J()}},ue=R=>{_(R),A(!0)},De=R=>r.filter(Ne=>Ne.jobId===R.jobId&&Ne.roleId===R.roleId).sort((Ne,nt)=>(Ne.stageOrder||0)-(nt.stageOrder||0)),Re=R=>{const Ne=De(R);return Ne.length>0&&Ne[Ne.length-1].id===R.id},se=async R=>{try{D(!0),await US(R.id),await J(),A(!1)}catch(Ne){alert("Hata: "+(Ne.message||"Grev balatlamad"))}finally{D(!1)}},Se=R=>{_(R),oe({photosBefore:[],photosAfter:[],customerSignature:"",note:""}),Q(!0),A(!1)},_e=R=>{_(R),F({issueType:"broken",item:"",quantity:1,faultSource:"team",photoUrl:"",note:"",createReplacement:!0}),ye(!0),A(!1)},Qe=async()=>{if(O){if(H.photosBefore.length===0){alert("Montaj ncesi fotoraf zorunludur!");return}if(H.photosAfter.length===0){alert("Montaj sonras fotoraf zorunludur!");return}if(Re(O)&&!H.customerSignature){alert("Son aama iin mteri imzas zorunludur!");return}try{D(!0),await KS(O.id,{photosBefore:H.photosBefore,photosAfter:H.photosAfter,customerSignature:H.customerSignature,note:H.note}),await J(),Q(!1),_(null)}catch(R){alert("Hata: "+(R.message||"Grev tamamlanamad"))}finally{D(!1)}}},Ue=async()=>{if(!O||!te.item){alert("Sorunlu rn/malzeme ad zorunludur!");return}if(!te.photoUrl){alert("Sorun fotoraf zorunludur!");return}try{D(!0),await HS(O.id,te),await J(),ye(!1),_(null)}catch(R){alert("Hata: "+(R.message||"Sorun bildirilemedi"))}finally{D(!1)}},K=async(R,Ne)=>{var st;const nt=(st=R.target.files)==null?void 0:st[0];if(!(!nt||!O)){try{U(!0);let Ge="montaj",rt="Montaj fotoraf";Ne==="before"?(Ge="montaj_oncesi",rt="Montaj ncesi fotoraf"):Ne==="after"?(Ge="montaj_sonrasi",rt="Montaj sonras fotoraf"):Ne==="signature"?(Ge="musteri_imza",rt="Mteri imzas"):Ne==="issue"&&(Ge="montaj_sorun",rt="Montaj sorunu fotoraf");const It=await kl(nt,O.jobId,Ge,rt),Rt=(It==null?void 0:It.url)||(It==null?void 0:It.path)||URL.createObjectURL(nt);Ne==="before"?oe(St=>({...St,photosBefore:[...St.photosBefore,Rt]})):Ne==="after"?oe(St=>({...St,photosAfter:[...St.photosAfter,Rt]})):Ne==="signature"?oe(St=>({...St,customerSignature:Rt})):Ne==="issue"&&F(St=>({...St,photoUrl:Rt}))}catch(Ge){console.error("Upload error:",Ge),alert("Dosya yklenirken hata: "+(Ge.message||Ge))}finally{U(!1)}R.target.value=""}},je=()=>{const R=new Date(w);k==="month"?R.setMonth(R.getMonth()-1):R.setDate(R.getDate()-7),N(R)},Ae=()=>{const R=new Date(w);k==="month"?R.setMonth(R.getMonth()+1):R.setDate(R.getDate()+7),N(R)},X=()=>{N(new Date)},pe=R=>R?new Date(R).toLocaleDateString("tr-TR"):"-",Pe=new Date().toISOString().slice(0,10),Be=["Pzt","Sal","ar","Per","Cum","Cmt","Paz"],Ye=["Pazartesi","Sal","aramba","Perembe","Cuma","Cumartesi","Pazar"],dt=["Ocak","ubat","Mart","Nisan","Mays","Haziran","Temmuz","Austos","Eyll","Ekim","Kasm","Aralk"];if(n)return e.jsx(kt,{text:"Montaj takvimi ykleniyor..."});const Ke=5;return e.jsxs("div",{children:[e.jsx(it,{title:"Montaj Takvimi",subtitle:"Montaj grevlerini takvime srkle-brak ile planlayn"}),e.jsxs("div",{style:{display:"flex",gap:24},children:[e.jsx("div",{style:{width:320,flexShrink:0},children:e.jsxs("div",{className:"card",style:{padding:20,border:z!=null&&z.plannedDate?"2px dashed var(--color-primary)":void 0,transition:"border 0.2s",height:k==="week"?"auto":"calc(100vh - 280px)",display:"flex",flexDirection:"column"},onDragOver:be,onDrop:ce,children:[e.jsxs("h4",{style:{marginBottom:12,display:"flex",alignItems:"center",gap:8},children:[" Planlanmam Grevler",e.jsx("span",{className:"badge badge-warning",style:{fontSize:12},children:M.length})]}),e.jsx("div",{style:{fontSize:12,color:"var(--color-text-muted)",marginBottom:16},children:"Takvime srkleyin veya takvimden buraya geri brakn"}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:10,flex:1,overflowY:"auto"},children:M.length===0?e.jsx("div",{style:{textAlign:"center",padding:40,background:"var(--color-bg-secondary)",borderRadius:12,border:"2px dashed var(--color-border)",color:"var(--color-text-muted)"},children:z!=null&&z.plannedDate?e.jsx("span",{style:{color:"var(--color-primary)",fontSize:14},children:" Buraya brakn (plan kaldrr)"}):e.jsx(e.Fragment,{children:" Tm grevler planland"})}):M.map(R=>{const Ne=Oo(R.stageName),nt=R.estimatedDate&&new Date(R.estimatedDate)<new Date;return e.jsxs("div",{draggable:!0,onDragStart:st=>ke(st,R),onDragEnd:we,onClick:()=>ue(R),style:{padding:"14px 16px",background:"var(--color-bg-secondary)",borderRadius:10,cursor:"grab",borderLeft:`5px solid ${Ne}`,transition:"transform 0.1s, box-shadow 0.1s",border:nt?"1px solid var(--color-danger)":void 0},onMouseEnter:st=>{st.currentTarget.style.transform="scale(1.02)",st.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.15)"},onMouseLeave:st=>{st.currentTarget.style.transform="scale(1)",st.currentTarget.style.boxShadow="none"},title:"Detay iin tklayn, takvime srkleyip brakn",children:[e.jsx("div",{style:{fontWeight:700,fontSize:15,color:"var(--color-primary)",marginBottom:4},children:R.customerName||"Mteri Yok"}),e.jsx("div",{style:{fontSize:13,fontWeight:500,marginBottom:6},children:R.jobTitle||R.jobId}),e.jsx("div",{style:{display:"inline-block",background:Ne,color:"#fff",padding:"3px 10px",borderRadius:12,fontSize:11,fontWeight:600,marginBottom:4},children:R.stageName||"Montaj"}),e.jsx("div",{style:{fontSize:11,color:"var(--color-text-muted)",fontStyle:"italic"},children:R.roleName}),R.estimatedDate&&e.jsxs("div",{style:{fontSize:11,color:nt?"var(--color-danger)":"var(--color-info)",marginTop:6},children:[" Termin: ",pe(R.estimatedDate),nt&&"  GECKM"]})]},R.id)})})]})}),e.jsxs("div",{style:{flex:1,minWidth:0},children:[e.jsxs("div",{className:"card",style:{padding:20},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16,flexWrap:"wrap",gap:12},children:[e.jsx("div",{style:{display:"flex",gap:8},children:e.jsxs("button",{className:"btn btn-secondary",onClick:je,children:[" ",k==="month"?"nceki Ay":"nceki Hafta"]})}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:16},children:[e.jsx("h2",{style:{margin:0,fontSize:22},children:k==="month"?`${dt[w.getMonth()]} ${w.getFullYear()}`:`${(ot=L[0])==null?void 0:ot.date.getDate()} - ${(Dt=L[6])==null?void 0:Dt.date.getDate()} ${dt[w.getMonth()]} ${w.getFullYear()}`}),e.jsx("button",{className:"btn btn-sm btn-outline",onClick:X,style:{fontSize:12,padding:"6px 14px"},children:"Bugn"}),e.jsxs("div",{style:{display:"flex",background:"var(--color-bg-secondary)",borderRadius:8,padding:3},children:[e.jsx("button",{onClick:()=>x("month"),style:{padding:"8px 16px",border:"none",borderRadius:6,cursor:"pointer",fontSize:13,fontWeight:600,background:k==="month"?"var(--color-primary)":"transparent",color:k==="month"?"#fff":"var(--color-text-secondary)",transition:"all 0.2s"},children:" Aylk"}),e.jsx("button",{onClick:()=>x("week"),style:{padding:"8px 16px",border:"none",borderRadius:6,cursor:"pointer",fontSize:13,fontWeight:600,background:k==="week"?"var(--color-primary)":"transparent",color:k==="week"?"#fff":"var(--color-text-secondary)",transition:"all 0.2s"},children:" Haftalk"})]})]}),e.jsxs("button",{className:"btn btn-secondary",onClick:Ae,children:[k==="month"?"Sonraki Ay":"Sonraki Hafta"," "]})]}),e.jsxs("div",{style:{display:"flex",gap:12,marginBottom:16,flexWrap:"wrap"},children:[e.jsxs("select",{className:"form-input",value:b,onChange:R=>y(R.target.value),style:{width:180,fontSize:13},children:[e.jsx("option",{value:"",children:"Tm Aamalar"}),xe.map(R=>e.jsx("option",{value:R,children:R},R))]}),e.jsxs("select",{className:"form-input",value:f,onChange:R=>v(R.target.value),style:{width:160,fontSize:13},children:[e.jsx("option",{value:"",children:"Tm Ekipler"}),l.map(R=>e.jsx("option",{value:R.id,children:R.ad},R.id))]}),e.jsxs("select",{className:"form-input",value:S,onChange:R=>j(R.target.value),style:{width:160,fontSize:13},children:[e.jsx("option",{value:"",children:"Tm  Kollar"}),ie.map(R=>e.jsx("option",{value:R,children:R},R))]}),(b||f||S)&&e.jsx("button",{className:"btn btn-sm btn-ghost",onClick:()=>{y(""),v(""),j("")},style:{fontSize:12},children:" Filtreleri Temizle"})]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:8,marginBottom:8},children:(k==="week"?Ye:Be).map(R=>e.jsx("div",{style:{textAlign:"center",fontWeight:700,fontSize:k==="week"?14:13,padding:k==="week"?12:10,color:"var(--color-text-secondary)",background:"var(--color-bg-secondary)",borderRadius:8},children:R},R))}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:8},children:L.map((R,Ne)=>{const nt=re(R.date),st=he[nt]||[],Ge=nt===Pe,rt=R.date<new Date(Pe),It=st.length>=Ke,Rt=k==="week"?320:160,St=k==="week"?5:2;return e.jsxs("div",{onDragOver:be,onDrop:xt=>W(xt,R.date),style:{minHeight:Rt,padding:k==="week"?12:10,background:Ge?"rgba(59, 130, 246, 0.1)":rt&&R.isCurrentMonth?"rgba(0,0,0,0.02)":"var(--color-bg-secondary)",borderRadius:10,border:Ge?"2px solid var(--color-primary)":It?"2px solid var(--color-warning)":"1px solid var(--color-border)",opacity:R.isCurrentMonth?1:.4,transition:"background 0.2s"},onDragEnter:xt=>{xt.currentTarget.style.background="rgba(59, 130, 246, 0.15)"},onDragLeave:xt=>{xt.currentTarget.style.background=Ge?"rgba(59, 130, 246, 0.1)":rt&&R.isCurrentMonth?"rgba(0,0,0,0.02)":"var(--color-bg-secondary)"},children:[e.jsxs("div",{style:{fontWeight:Ge?700:600,fontSize:k==="week"?18:14,marginBottom:8,color:Ge?"var(--color-primary)":"inherit",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("span",{children:R.date.getDate()}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:4},children:[It&&e.jsx("span",{title:"Gnlk limit ald (5 i)",style:{fontSize:12,color:"var(--color-warning)"},children:""}),st.length>0&&e.jsx("span",{style:{background:It?"var(--color-warning)":"var(--color-primary)",color:"#fff",borderRadius:"50%",width:22,height:22,display:"flex",alignItems:"center",justifyContent:"center",fontSize:11,fontWeight:700},children:st.length})]})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:6},children:[st.slice(0,St).map(xt=>{const As=Oo(xt.stageName),Ln=xt.status==="completed",Hn=xt.status==="in_progress";return e.jsxs("div",{draggable:!Ln,onDragStart:rn=>ke(rn,xt),onDragEnd:we,onClick:rn=>{rn.stopPropagation(),ue(xt)},style:{padding:k==="week"?"10px 12px":"8px 10px",background:As,color:"white",borderRadius:8,cursor:Ln?"default":"grab",transition:"transform 0.1s, box-shadow 0.1s",boxShadow:"0 2px 4px rgba(0,0,0,0.15)",opacity:Ln?.5:1,borderLeft:Hn?"4px solid white":void 0,textDecoration:Ln?"line-through":"none"},onMouseEnter:rn=>{Ln||(rn.currentTarget.style.transform="scale(1.03)",rn.currentTarget.style.boxShadow="0 4px 8px rgba(0,0,0,0.25)")},onMouseLeave:rn=>{rn.currentTarget.style.transform="scale(1)",rn.currentTarget.style.boxShadow="0 2px 4px rgba(0,0,0,0.15)"},title:`${xt.customerName} - ${xt.jobTitle}
${xt.stageName} (${xt.roleName})
Durum: ${mb[xt.status]||xt.status}`,children:[Ln&&e.jsx("span",{style:{marginRight:4},children:""}),Hn&&e.jsx("span",{style:{marginRight:4},children:""}),e.jsx("div",{style:{fontWeight:700,fontSize:k==="week"?14:13,marginBottom:2,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:xt.customerName||"Mteri"}),e.jsx("div",{style:{fontSize:k==="week"?12:11,opacity:.9,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",marginBottom:2},children:xt.jobTitle||xt.jobId}),e.jsx("div",{style:{fontSize:k==="week"?11:10,opacity:.75,fontStyle:"italic"},children:xt.roleName})]},xt.id)}),st.length>St&&e.jsxs("div",{style:{fontSize:11,color:"var(--color-primary)",textAlign:"center",padding:6,background:"rgba(59, 130, 246, 0.1)",borderRadius:6,cursor:"pointer",fontWeight:600},onClick:()=>ue(st[St]),children:["+",st.length-St," daha"]})]})]},Ne)})})]}),e.jsxs("div",{className:"card",style:{marginTop:16,padding:16},children:[e.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:16,alignItems:"center",justifyContent:"center"},children:[e.jsx("span",{style:{fontWeight:600,color:"var(--color-text-secondary)",marginRight:8},children:"MONTAJ AAMALARI:"}),Object.entries(vp).slice(0,6).map(([R,Ne])=>e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[e.jsx("div",{style:{width:16,height:16,borderRadius:4,background:Ne}}),e.jsx("span",{style:{fontSize:12,fontWeight:500},children:R})]},R))]}),e.jsxs("div",{style:{display:"flex",gap:20,marginTop:12,paddingTop:12,borderTop:"1px solid var(--color-border)",justifyContent:"center",flexWrap:"wrap"},children:[e.jsx("span",{style:{fontWeight:600,color:"var(--color-text-secondary)",marginRight:8},children:"DURUM:"}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[e.jsx("div",{style:{width:16,height:16,borderRadius:4,background:"#3b82f6"}}),e.jsx("span",{style:{fontSize:12},children:"Planland"})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[e.jsx("div",{style:{width:16,height:16,borderRadius:4,background:"#3b82f6",borderLeft:"3px solid white"}}),e.jsx("span",{style:{fontSize:12},children:" Devam Ediyor"})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[e.jsx("div",{style:{width:16,height:16,borderRadius:4,background:"#3b82f6",opacity:.5}}),e.jsx("span",{style:{fontSize:12},children:" Tamamland"})]}),e.jsx("div",{style:{display:"flex",alignItems:"center",gap:6},children:e.jsx("span",{style:{fontSize:12},children:" 5+ i = Gnlk limit"})})]})]})]})]}),e.jsx(qe,{isOpen:Z,onClose:()=>A(!1),title:"Montaj Grevi Detay",size:"md",children:O&&e.jsxs("div",{style:{padding:8},children:[e.jsx("div",{style:{background:`linear-gradient(135deg, ${Oo(O.stageName)} 0%, ${Oo(O.stageName)}dd 100%)`,padding:20,borderRadius:12,marginBottom:20,color:"#fff"},children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[e.jsxs("div",{children:[e.jsxs("div",{style:{fontWeight:700,fontSize:20,marginBottom:4},children:[" ",O.customerName||"Mteri Yok"]}),e.jsx("div",{style:{fontSize:14,opacity:.9,marginBottom:8},children:O.jobTitle||O.jobId}),e.jsxs("div",{style:{display:"inline-block",background:"rgba(255,255,255,0.2)",padding:"4px 12px",borderRadius:16,fontSize:12,fontWeight:600},children:[O.stageName,"  ",O.roleName]})]}),e.jsx("span",{style:{background:"rgba(255,255,255,0.2)",padding:"6px 14px",borderRadius:20,fontSize:12,fontWeight:600},children:mb[O.status]||O.status})]})}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16,marginBottom:20},children:[e.jsxs("div",{style:{background:"var(--color-bg-secondary)",padding:14,borderRadius:10},children:[e.jsx("div",{className:"text-muted",style:{fontSize:11,marginBottom:4},children:"Ekip"}),e.jsx("div",{style:{fontWeight:600},children:O.teamName||"Atanmad"})]}),e.jsxs("div",{style:{background:"var(--color-bg-secondary)",padding:14,borderRadius:10},children:[e.jsx("div",{className:"text-muted",style:{fontSize:11,marginBottom:4},children:"Planlanan Tarih"}),e.jsx("div",{style:{fontWeight:600,color:O.plannedDate?"var(--color-primary)":"var(--color-text-muted)"},children:O.plannedDate?pe(O.plannedDate):"Planlanmad"})]}),e.jsxs("div",{style:{background:"var(--color-bg-secondary)",padding:14,borderRadius:10},children:[e.jsx("div",{className:"text-muted",style:{fontSize:11,marginBottom:4},children:"Mteri Termini"}),e.jsx("div",{style:{fontWeight:600,color:"var(--color-info)"},children:O.estimatedDate?pe(O.estimatedDate):"-"})]}),e.jsxs("div",{style:{background:"var(--color-bg-secondary)",padding:14,borderRadius:10},children:[e.jsx("div",{className:"text-muted",style:{fontSize:11,marginBottom:4},children:"Konum"}),e.jsx("div",{style:{fontWeight:600},children:O.location||"-"})]})]}),((bt=O.issues)==null?void 0:bt.filter(R=>R.status==="pending").length)>0&&e.jsxs("div",{style:{marginBottom:16,padding:12,background:"rgba(239, 68, 68, 0.1)",borderRadius:8,border:"1px solid var(--color-danger)"},children:[e.jsx("div",{style:{fontWeight:600,color:"var(--color-danger)",marginBottom:8},children:" Bekleyen Sorunlar"}),O.issues.filter(R=>R.status==="pending").map(R=>e.jsxs("div",{style:{fontSize:13,marginBottom:4},children:[" ",R.item," (",R.quantity," adet) - ",R.note]},R.id))]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:10,paddingTop:16,borderTop:"1px solid var(--color-border)"},children:[O.status==="planned"&&e.jsx("button",{className:"btn btn-primary",style:{padding:"12px 20px",width:"100%"},onClick:()=>se(O),disabled:E,children:E?"...":" Grevi Balat"}),O.status==="in_progress"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{display:"flex",gap:10},children:[e.jsx("button",{className:"btn btn-success",style:{padding:"12px 20px",flex:1},onClick:()=>Se(O),disabled:E||((Un=O.issues)==null?void 0:Un.filter(R=>R.status==="pending").length)>0,title:((Kn=O.issues)==null?void 0:Kn.filter(R=>R.status==="pending").length)>0?"nce sorunlar zn":"",children:" Tamamla"}),e.jsx("button",{className:"btn btn-warning",style:{padding:"12px 20px",flex:1},onClick:()=>_e(O),disabled:E,children:" Sorun Bildir"})]}),e.jsxs("div",{style:{fontSize:12,color:"var(--color-text-muted)",textAlign:"center"},children:[" Tamamlamak iin montaj ncesi/sonras fotoraf zorunludur",Re(O)&&e.jsxs(e.Fragment,{children:[e.jsx("br",{})," Son aama: Mteri imzas da zorunlu"]})]})]}),O.status==="blocked"&&((js=O.issues)==null?void 0:js.filter(R=>R.status==="pending").length)===0&&e.jsx("button",{className:"btn btn-primary",style:{padding:"12px 20px",width:"100%"},onClick:()=>se(O),disabled:E,children:E?"...":" Devam Et"}),O.status==="completed"&&e.jsx("div",{style:{padding:12,background:"rgba(34, 197, 94, 0.1)",borderRadius:8,textAlign:"center",color:"var(--color-success)",fontWeight:600},children:" Bu grev tamamland"}),e.jsxs("div",{style:{display:"flex",gap:10,marginTop:8},children:[e.jsx("button",{className:"btn btn-secondary",onClick:()=>A(!1),style:{flex:1},children:"Kapat"}),e.jsx("button",{className:"btn btn-outline",style:{flex:1},onClick:()=>{A(!1),t(`/isler/list?job=${O.jobId}&stage=5`)},children:"e Git "})]})]})]})}),e.jsx(qe,{isOpen:fe,onClose:()=>Q(!1),title:" Grevi Tamamla",size:"md",children:O&&e.jsxs("div",{style:{padding:8},children:[e.jsxs("div",{style:{marginBottom:16,padding:12,background:"var(--color-bg-secondary)",borderRadius:8},children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Grev:"})," ",O.stageName," - ",O.roleName]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Mteri:"})," ",O.customerName]}),Re(O)&&e.jsx("div",{style:{marginTop:8,color:"var(--color-warning)",fontSize:13},children:" Bu i kolunun son aamas - Mteri imzas zorunlu"})]}),e.jsxs("div",{className:"form-group",style:{marginBottom:16},children:[e.jsxs("label",{className:"form-label",children:[" Montaj ncesi Fotoraf ",e.jsx("span",{style:{color:"var(--color-danger)"},children:"*"})]}),e.jsx("input",{type:"file",accept:"image/*",onChange:R=>K(R,"before"),className:"form-input",disabled:G}),H.photosBefore.length>0&&e.jsx("div",{style:{display:"flex",gap:8,marginTop:8,flexWrap:"wrap"},children:H.photosBefore.map((R,Ne)=>e.jsx("img",{src:R,alt:"ncesi",style:{width:60,height:60,objectFit:"cover",borderRadius:4}},Ne))})]}),e.jsxs("div",{className:"form-group",style:{marginBottom:16},children:[e.jsxs("label",{className:"form-label",children:[" Montaj Sonras Fotoraf ",e.jsx("span",{style:{color:"var(--color-danger)"},children:"*"})]}),e.jsx("input",{type:"file",accept:"image/*",onChange:R=>K(R,"after"),className:"form-input",disabled:G}),H.photosAfter.length>0&&e.jsx("div",{style:{display:"flex",gap:8,marginTop:8,flexWrap:"wrap"},children:H.photosAfter.map((R,Ne)=>e.jsx("img",{src:R,alt:"Sonras",style:{width:60,height:60,objectFit:"cover",borderRadius:4}},Ne))})]}),e.jsxs("div",{className:"form-group",style:{marginBottom:16},children:[e.jsxs("label",{className:"form-label",children:[" Mteri mzas ",Re(O)&&e.jsx("span",{style:{color:"var(--color-danger)"},children:"*"})]}),e.jsx("input",{type:"file",accept:"image/*",onChange:R=>K(R,"signature"),className:"form-input",disabled:G}),H.customerSignature&&e.jsx("img",{src:H.customerSignature,alt:"mza",style:{maxWidth:150,marginTop:8,borderRadius:4}})]}),e.jsxs("div",{className:"form-group",style:{marginBottom:16},children:[e.jsx("label",{className:"form-label",children:"Not (Opsiyonel)"}),e.jsx("textarea",{className:"form-input",value:H.note,onChange:R=>oe({...H,note:R.target.value}),rows:2,placeholder:"Ek notlar..."})]}),e.jsxs("div",{style:{display:"flex",gap:10},children:[e.jsx("button",{className:"btn btn-secondary",onClick:()=>Q(!1),style:{flex:1},children:"ptal"}),e.jsx("button",{className:"btn btn-success",onClick:Qe,disabled:E||G||H.photosBefore.length===0||H.photosAfter.length===0||Re(O)&&!H.customerSignature,style:{flex:1},children:E?"Kaydediliyor...":" Tamamla"})]})]})}),e.jsx(qe,{isOpen:le,onClose:()=>ye(!1),title:" Sorun Bildir",size:"md",children:O&&e.jsxs("div",{style:{padding:8},children:[e.jsxs("div",{style:{marginBottom:16,padding:12,background:"var(--color-bg-secondary)",borderRadius:8},children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Grev:"})," ",O.stageName," - ",O.roleName]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Mteri:"})," ",O.customerName]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12,marginBottom:16},children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Sorun Tr"}),e.jsx("select",{className:"form-input",value:te.issueType,onChange:R=>F({...te,issueType:R.target.value}),children:m.map(R=>e.jsxs("option",{value:R.id,children:[R.icon||""," ",R.name]},R.id))})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Adet"}),e.jsx("input",{type:"number",className:"form-input",value:te.quantity,onChange:R=>F({...te,quantity:parseInt(R.target.value)||1}),min:1})]})]}),e.jsxs("div",{className:"form-group",style:{marginBottom:16},children:[e.jsxs("label",{className:"form-label",children:["Sorunlu rn/Malzeme ",e.jsx("span",{style:{color:"var(--color-danger)"},children:"*"})]}),e.jsx("input",{type:"text",className:"form-input",value:te.item,onChange:R=>F({...te,item:R.target.value}),placeholder:"rn: Cam 80x120, PVC Profil..."})]}),e.jsxs("div",{className:"form-group",style:{marginBottom:16},children:[e.jsx("label",{className:"form-label",children:"Hata Kayna"}),e.jsx("select",{className:"form-input",value:te.faultSource,onChange:R=>F({...te,faultSource:R.target.value}),children:g.map(R=>e.jsx("option",{value:R.id,children:R.name},R.id))})]}),e.jsxs("div",{className:"form-group",style:{marginBottom:16},children:[e.jsxs("label",{className:"form-label",children:[" Sorun Fotoraf ",e.jsx("span",{style:{color:"var(--color-danger)"},children:"*"})]}),e.jsx("input",{type:"file",accept:"image/*",onChange:R=>K(R,"issue"),className:"form-input",disabled:G}),te.photoUrl&&e.jsx("img",{src:te.photoUrl,alt:"Sorun",style:{maxWidth:150,marginTop:8,borderRadius:4}})]}),e.jsxs("div",{className:"form-group",style:{marginBottom:16},children:[e.jsx("label",{className:"form-label",children:"Aklama"}),e.jsx("textarea",{className:"form-input",value:te.note,onChange:R=>F({...te,note:R.target.value}),rows:2,placeholder:"Ne oldu? Nasl oldu?"})]}),e.jsx("div",{className:"form-group",style:{marginBottom:16},children:e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,cursor:"pointer"},children:[e.jsx("input",{type:"checkbox",checked:te.createReplacement,onChange:R=>F({...te,createReplacement:R.target.checked})}),e.jsx("span",{children:" Yedek sipari olutur (retim Takip'e der)"})]})}),e.jsxs("div",{style:{display:"flex",gap:10},children:[e.jsx("button",{className:"btn btn-secondary",onClick:()=>ye(!1),style:{flex:1},children:"ptal"}),e.jsx("button",{className:"btn btn-danger",onClick:Ue,disabled:E||G||!te.item||!te.photoUrl,style:{flex:1},children:E?"Kaydediliyor...":" Sorunu Bildir"})]})]})}),e.jsx($N,{isOpen:$,onClose:I,onConfirm:V,originalDate:q==null?void 0:q.oldDate,newDate:q==null?void 0:q.newDate,delayDays:(q==null?void 0:q.delayDays)||0,title:"Montaj Erteleme - Gecikme Nedeni Gerekli"})]})},RI={broken:{label:"Krk/Hasarl",icon:""},missing:{label:"Eksik Malzeme",icon:""},wrong:{label:"Yanl rn",icon:""},damage:{label:"Hasar",icon:""},other:{label:"Dier",icon:""}},AI={production:{label:"retim Hatas",color:"var(--warning)"},team:{label:"Ekip Hatas",color:"var(--danger)"},accident:{label:"Kaza",color:"var(--info)"}},EI={production:"var(--warning)",supplier:"var(--warning)",transport:"var(--info)",team:"var(--danger)",measurement:"var(--primary)",customer:"var(--secondary)",accident:"var(--info)"},II=()=>{const t=vs(),[n,s]=c.useState(!0),[r,a]=c.useState([]),[l,i]=c.useState(""),[o,d]=c.useState(""),[m,p]=c.useState(!1),[g,h]=c.useState(RI),[k,x]=c.useState(AI);c.useEffect(()=>{w()},[]);const w=async()=>{var y,S;s(!0);try{const[j,z]=await Promise.all([Gh({}),Ji().catch(()=>({}))]);if(a(j||[]),(y=z==null?void 0:z.issueTypes)!=null&&y.length){const P={};z.issueTypes.forEach($=>{P[$.id]={label:$.name,icon:$.icon||""}}),h(P)}if((S=z==null?void 0:z.faultSources)!=null&&S.length){const P={};z.faultSources.forEach($=>{P[$.id]={label:$.name,color:EI[$.id]||"var(--secondary)"}}),x(P)}}catch(j){console.error("Load error:",j)}finally{s(!1)}},N=c.useMemo(()=>{const y=[];for(const j of r)for(const z of j.issues||[])z.status==="pending"&&y.push({...z,taskId:j.id,customerName:j.customerName,location:j.location,roleName:j.roleName,stageName:j.stageName,teamName:j.teamName,jobId:j.jobId});let S=[...y];if(l){const j=l.toLowerCase();S=S.filter(z=>{var P,$,B;return((P=z.customerName)==null?void 0:P.toLowerCase().includes(j))||(($=z.item)==null?void 0:$.toLowerCase().includes(j))||((B=z.note)==null?void 0:B.toLowerCase().includes(j))})}return o&&(S=S.filter(j=>j.type===o)),S.sort((j,z)=>(z.createdAt||"").localeCompare(j.createdAt||"")),S},[r,l,o]),f=async y=>{if(confirm("Bu sorunu zld olarak iaretlemek istediinize emin misiniz?"))try{p(!0),await VS(y.taskId,y.id),await w()}catch(S){alert(S.message)}finally{p(!1)}},v=y=>{if(!y)return"";try{return new Date(y).toLocaleDateString("tr-TR",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})}catch{return y}},b=[{header:"Mteri / Konum",accessor:"customerName",render:(y,S)=>e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:600},children:S.customerName}),e.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)"},children:[" ",S.location||""]})]})},{header:"Grev",accessor:"roleName",render:(y,S)=>e.jsxs("div",{children:[e.jsx("div",{children:S.roleName}),e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)"},children:S.stageName})]})},{header:"Sorun",accessor:"item",render:(y,S)=>{const j=g[S.type]||{label:S.type,icon:""};return e.jsxs("div",{children:[e.jsxs("div",{style:{fontWeight:600},children:[j.icon," ",S.item," (",S.quantity," adet)"]}),e.jsx("span",{className:"badge",style:{fontSize:"0.65rem"},children:j.label})]})}},{header:"Hata Kayna",accessor:"faultSource",render:y=>{const S=k[y]||{label:y,color:"var(--secondary)"};return e.jsx("span",{className:"badge",style:{background:S.color,color:"#fff"},children:S.label})}},{header:"Yedek Sipari",accessor:"replacementOrderId",render:y=>y?e.jsxs("button",{className:"btn btn-sm btn-ghost",onClick:()=>t(`/isler/uretim-takip/siparisler?search=${y}`),style:{color:"var(--primary)"},children:[" ",y]}):e.jsx("span",{style:{color:"var(--text-muted)"},children:""})},{header:"Tarih",accessor:"createdAt",render:y=>v(y)},{header:"lem",accessor:"actions",render:(y,S)=>e.jsxs("div",{style:{display:"flex",gap:"0.25rem"},children:[e.jsx("button",{className:"btn btn-sm btn-success",onClick:()=>f(S),disabled:m,title:"zld Olarak aretle",children:""}),e.jsx("button",{className:"btn btn-sm btn-ghost",onClick:()=>t(`/isler/list?job=${S.jobId}&stage=5`),title:"e Git",children:""})]})}];return n?e.jsxs("div",{children:[e.jsx(it,{title:"Bekleyen Montaj Sorunlar",subtitle:"Ykleniyor..."}),e.jsx("div",{className:"card subtle-card",children:"Ykleniyor..."})]}):e.jsxs("div",{children:[e.jsx(it,{title:"Bekleyen Montaj Sorunlar",subtitle:`${N.length} bekleyen sorun`}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"1rem",marginBottom:"1.5rem"},children:[e.jsx("div",{className:"card",style:{margin:0,background:"var(--danger)",color:"#fff"},children:e.jsxs("div",{className:"card-body",style:{padding:"1rem"},children:[e.jsx("div",{style:{fontSize:"0.75rem",opacity:.9},children:"Toplam Bekleyen"}),e.jsx("div",{style:{fontSize:"1.5rem",fontWeight:700},children:N.length})]})}),e.jsx("div",{className:"card",style:{margin:0,background:"var(--warning)",color:"#fff"},children:e.jsxs("div",{className:"card-body",style:{padding:"1rem"},children:[e.jsx("div",{style:{fontSize:"0.75rem",opacity:.9},children:"retim Hatas"}),e.jsx("div",{style:{fontSize:"1.5rem",fontWeight:700},children:N.filter(y=>y.faultSource==="production").length})]})}),e.jsx("div",{className:"card",style:{margin:0,background:"var(--info)",color:"#fff"},children:e.jsxs("div",{className:"card-body",style:{padding:"1rem"},children:[e.jsx("div",{style:{fontSize:"0.75rem",opacity:.9},children:"Ekip Hatas"}),e.jsx("div",{style:{fontSize:"1.5rem",fontWeight:700},children:N.filter(y=>y.faultSource==="team").length})]})}),e.jsx("div",{className:"card",style:{margin:0,background:"var(--primary)",color:"#fff"},children:e.jsxs("div",{className:"card-body",style:{padding:"1rem"},children:[e.jsx("div",{style:{fontSize:"0.75rem",opacity:.9},children:"Yedek Sipari"}),e.jsx("div",{style:{fontSize:"1.5rem",fontWeight:700},children:N.filter(y=>y.replacementOrderId).length})]})})]}),e.jsx("div",{className:"card",style:{marginBottom:"1rem"},children:e.jsx("div",{className:"card-body",style:{padding:"0.75rem"},children:e.jsxs("div",{style:{display:"flex",gap:"0.75rem",flexWrap:"wrap",alignItems:"center"},children:[e.jsx("input",{type:"text",className:"form-control",placeholder:" Mteri, rn ara...",value:l,onChange:y=>i(y.target.value),style:{flex:1,minWidth:"200px"}}),e.jsxs("select",{className:"form-control",value:o,onChange:y=>d(y.target.value),style:{width:"150px"},children:[e.jsx("option",{value:"",children:"Tm Trler"}),Object.entries(ISSUE_TYPES).map(([y,S])=>e.jsxs("option",{value:y,children:[S.icon," ",S.label]},y))]})]})})}),e.jsx("div",{className:"card",children:e.jsx(sn,{columns:b,data:N,emptyMessage:"Bekleyen montaj sorunu yok "})})]})},MI=()=>{var y;const[t,n]=c.useState([]),[s,r]=c.useState(null),[a,l]=c.useState([]),[i,o]=c.useState(!0),[d,m]=c.useState(null),[p,g]=c.useState({userId:"",targetType:"",action:"",dateFrom:"",dateTo:""}),[h,k]=c.useState({limit:50,offset:0,total:0});c.useEffect(()=>{x()},[p,h.offset,h.limit]);const x=async()=>{o(!0);try{const[S,j,z]=await Promise.all([a6({...p,limit:h.limit,offset:h.offset}),l6(7),wS().catch(()=>[])]);n(S.items||[]),k(P=>({...P,total:S.total||0})),r(j),l(z||[])}catch(S){m(S.message)}finally{o(!1)}},w={job:"",customer:"Mteri",personnel:"Personel",task:"Grev",stock:"Stok",purchase:"Satnalma",supplier:"Tedariki",document:"Belge",invoice:"Fatura",payment:"deme",planning:"Planlama",team:"Ekip",auth:"Giri/k",user:"Kullanc",settings:"Ayarlar",assembly:"Montaj",production:"retim"},N={create:"Oluturma",update:"Gncelleme",delete:"Silme",view:"Grntleme",login:"Giri",logout:"k",job_create:" Oluturma",job_status_change:"Durum Deiiklii",job_assign:"Atama",upload:"Ykleme",approve:"Onaylama",reject:"Reddetme",complete:"Tamamlama",cancel:"ptal",schedule:"Planlama",reschedule:"Yeniden Planlama",move:"Tama"},f=[{accessor:"timestamp",label:"Tarih/Saat",render:(S,j)=>{const z=new Date(S);return e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:500},children:z.toLocaleDateString("tr-TR")}),e.jsx("div",{style:{fontSize:12,color:"var(--color-text-secondary)"},children:z.toLocaleTimeString("tr-TR",{hour:"2-digit",minute:"2-digit"})})]})}},{accessor:"icon",label:"",render:S=>e.jsx("span",{style:{fontSize:20},children:S||""})},{accessor:"userName",label:"Kullanc",render:S=>e.jsx("div",{children:e.jsx("div",{style:{fontWeight:500},children:S||"Sistem"})})},{accessor:"action",label:"lem",render:S=>e.jsx("span",{className:"badge badge-info",children:N[S]||S})},{accessor:"targetType",label:"Alan",render:S=>e.jsx("span",{className:"badge badge-secondary",children:w[S]||S})},{accessor:"targetName",label:"Hedef",render:(S,j)=>e.jsxs("div",{children:[S&&e.jsx("div",{style:{fontWeight:500},children:S}),j.targetId&&e.jsx("div",{style:{fontSize:11,color:"var(--color-text-secondary)",fontFamily:"monospace"},children:j.targetId})]})},{accessor:"details",label:"Detay",render:S=>e.jsx("div",{style:{maxWidth:300,whiteSpace:"pre-wrap",fontSize:13},children:S})}],v=c.useMemo(()=>{const S=new Set(t.map(j=>j.targetType).filter(Boolean));return Array.from(S).sort()},[t]),b=c.useMemo(()=>{const S=new Set(t.map(j=>j.action).filter(Boolean));return Array.from(S).sort()},[t]);return i&&t.length===0?e.jsx(kt,{text:"Aktiviteler ykleniyor..."}):e.jsxs("div",{className:"page-container",children:[e.jsx(it,{title:"Aktivite Loglar",subtitle:"Sistem zerindeki tm kullanc hareketleri",icon:""}),d&&e.jsx("div",{className:"alert alert-danger",style:{marginBottom:16},children:d}),s&&e.jsxs("div",{className:"grid grid-5",style:{marginBottom:24},children:[e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-icon",children:""}),e.jsxs("div",{className:"stat-content",children:[e.jsx("div",{className:"stat-value",children:s.totalActivities}),e.jsx("div",{className:"stat-label",children:"Son 7 Gn"})]})]}),(y=s.userCounts)==null?void 0:y.slice(0,4).map((S,j)=>e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-icon",children:""}),e.jsxs("div",{className:"stat-content",children:[e.jsx("div",{className:"stat-value",children:S.count}),e.jsx("div",{className:"stat-label",children:S.name})]})]},j))]}),e.jsx("div",{className:"card",style:{marginBottom:16},children:e.jsx("div",{className:"card-body",style:{padding:16},children:e.jsxs("div",{className:"grid grid-5",style:{gap:12},children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Kullanc"}),e.jsxs("select",{className:"form-select",value:p.userId,onChange:S=>g(j=>({...j,userId:S.target.value})),children:[e.jsx("option",{value:"",children:"Tm"}),a.map(S=>e.jsx("option",{value:S.id,children:S.displayName},S.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Alan"}),e.jsxs("select",{className:"form-select",value:p.targetType,onChange:S=>g(j=>({...j,targetType:S.target.value})),children:[e.jsx("option",{value:"",children:"Tm"}),v.map(S=>e.jsx("option",{value:S,children:w[S]||S},S))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"lem"}),e.jsxs("select",{className:"form-select",value:p.action,onChange:S=>g(j=>({...j,action:S.target.value})),children:[e.jsx("option",{value:"",children:"Tm"}),b.map(S=>e.jsx("option",{value:S,children:N[S]||S},S))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Balang"}),e.jsx("input",{type:"date",className:"form-control",value:p.dateFrom,onChange:S=>g(j=>({...j,dateFrom:S.target.value}))})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Biti"}),e.jsx("input",{type:"date",className:"form-control",value:p.dateTo,onChange:S=>g(j=>({...j,dateTo:S.target.value}))})]})]})})}),e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("h3",{className:"card-title",children:["Aktiviteler (",h.total,")"]}),e.jsxs("div",{style:{display:"flex",gap:8},children:[e.jsx("button",{className:"btn btn-secondary btn-small",disabled:h.offset===0,onClick:()=>k(S=>({...S,offset:Math.max(0,S.offset-S.limit)})),children:" nceki"}),e.jsxs("span",{style:{padding:"6px 12px",fontSize:13},children:[h.offset+1," - ",Math.min(h.offset+h.limit,h.total)," / ",h.total]}),e.jsx("button",{className:"btn btn-secondary btn-small",disabled:h.offset+h.limit>=h.total,onClick:()=>k(S=>({...S,offset:S.offset+S.limit})),children:"Sonraki "})]})]}),e.jsx("div",{className:"card-body",style:{padding:0},children:i?e.jsx("div",{style:{padding:40,textAlign:"center"},children:e.jsx(kt,{size:"small"})}):t.length===0?e.jsx("div",{style:{padding:40,textAlign:"center",color:"var(--color-text-secondary)"},children:"Aktivite bulunamad"}):e.jsx(sn,{columns:f,data:t,keyField:"id"})})]})]})},PI=()=>e.jsx(Hz,{children:e.jsx(Q4,{children:e.jsxs(Bz,{children:[e.jsx(et,{path:"/login",element:e.jsx(sR,{})}),e.jsxs(et,{path:"/",element:e.jsx(nR,{children:e.jsx(tR,{})}),children:[e.jsx(et,{index:!0,element:e.jsx(Qr,{to:"/dashboard",replace:!0})}),e.jsx(et,{path:"dashboard",element:e.jsx(OE,{})}),e.jsxs(et,{path:"isler",children:[e.jsx(et,{index:!0,element:e.jsx(Qr,{to:"list",replace:!0})}),e.jsx(et,{path:"list",element:e.jsx(ZE,{})}),e.jsx(et,{path:"yeni",element:e.jsx(GE,{})}),e.jsx(et,{path:"takvim",element:e.jsx(sI,{})}),e.jsx(et,{path:"uretim-plani",element:e.jsx(rI,{})}),e.jsx(et,{path:"montaj-takvimi",element:e.jsx(DI,{})}),e.jsxs(et,{path:"uretim-takip",children:[e.jsx(et,{index:!0,element:e.jsx(Qr,{to:"siparisler",replace:!0})}),e.jsx(et,{path:"siparisler",element:e.jsx(Yl,{})}),e.jsx(et,{path:"ic-uretim",element:e.jsx(Yl,{orderType:"internal"})}),e.jsx(et,{path:"dis-siparis",element:e.jsx(Yl,{orderType:"external"})}),e.jsx(et,{path:"cam",element:e.jsx(Yl,{orderType:"glass"})}),e.jsx(et,{path:"sorunlar",element:e.jsx(Yl,{showIssues:!0})})]}),e.jsxs(et,{path:"montaj-takip",children:[e.jsx(et,{index:!0,element:e.jsx(Qr,{to:"planlanan",replace:!0})}),e.jsx(et,{path:"planlanan",element:e.jsx(SI,{})}),e.jsx(et,{path:"bugun",element:e.jsx(wI,{})}),e.jsx(et,{path:"sorunlar",element:e.jsx(II,{})})]})]}),e.jsxs(et,{path:"gorevler",children:[e.jsx(et,{index:!0,element:e.jsx(Qr,{to:"list",replace:!0})}),e.jsx(et,{path:"list",element:e.jsx(KE,{})}),e.jsx(et,{path:"personel",element:e.jsx(HE,{})}),e.jsx(et,{path:"ekipler",element:e.jsx(VE,{})}),e.jsx(et,{path:"roller",element:e.jsx(YE,{})})]}),e.jsx(et,{path:"musteriler",element:e.jsx(ME,{})}),e.jsxs(et,{path:"stok",children:[e.jsx(et,{index:!0,element:e.jsx(hI,{})}),e.jsx(et,{path:"liste",element:e.jsx(vI,{})}),e.jsx(et,{path:"hareketler",element:e.jsx(gI,{})}),e.jsx(et,{path:"kritik",element:e.jsx(yI,{})}),e.jsx(et,{path:"rezervasyonlar",element:e.jsx(jI,{})}),e.jsx(et,{path:"renkler",element:e.jsx(bI,{})})]}),e.jsx(et,{path:"uretim/*",element:e.jsx(Qr,{to:"/isler/uretim-takip",replace:!0})}),e.jsxs(et,{path:"satinalma",children:[e.jsx(et,{index:!0,element:e.jsx(oI,{})}),e.jsx(et,{path:"siparisler",element:e.jsx(dI,{})}),e.jsx(et,{path:"eksik",element:e.jsx(mI,{})}),e.jsx(et,{path:"bekleyen",element:e.jsx(pI,{})}),e.jsx(et,{path:"tedarikciler",element:e.jsx(uI,{})})]}),e.jsx(et,{path:"evrak/irsaliye-fatura",element:e.jsx($E,{})}),e.jsx(et,{path:"finans/odemeler-kasa",element:e.jsx(FE,{})}),e.jsx(et,{path:"arsiv",element:e.jsx(RE,{})}),e.jsx(et,{path:"raporlar",element:e.jsx(iI,{})}),e.jsx(et,{path:"aktiviteler",element:e.jsx(MI,{})}),e.jsx(et,{path:"ayarlar",element:e.jsx(EE,{})}),e.jsx(et,{path:"*",element:e.jsx(aI,{})})]})]})})}),LI=$h({palette:{mode:"light"},components:{MuiSvgIcon:{styleOverrides:{root:{verticalAlign:"middle"}}}}});Zu.createRoot(document.getElementById("root")).render(e.jsx(Cs.StrictMode,{children:e.jsx(W5,{theme:LI,children:e.jsx(PI,{})})}));
